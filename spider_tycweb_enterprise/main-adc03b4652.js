//! moment.js
//! version : 2.18.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com

//! moment-timezone.js
//! version : 0.5.26
//! Copyright (c) JS Foundation and other contributors
//! license : MIT
//! github.com/moment/moment-timezone

/**
 * @license RequireJS domReady 2.0.1 Copyright (c) 2010-2012, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/requirejs/domReady for details
 */

/*
 * Toastr
 * Copyright 2012-2015
 * Authors: John Papa, Hans Fj√§llemark, and Tim Ferrell.
 * All Rights Reserved.
 * Use, reproduction, distribution, and modification of this code is subject to the terms and
 * conditions of the MIT license, available at http://www.opensource.org/licenses/mit-license.php
 *
 * ARIA Support: Greta Krafsig
 *
 * Project: https://github.com/CodeSeven/toastr
 */

/*!
 * Platform.js <https://mths.be/platform>
 * Copyright 2014-2016 Benjamin Tan <https://demoneaux.github.io/>
 * Copyright 2011-2013 John-David Dalton <http://allyoucanleet.com/>
 * Available under MIT license <https://mths.be/mit>
 */

// Copyright (c) 2009 Kazuhiko Arase

// Licensed under the MIT license:

//   http://www.opensource.org/licenses/mit-license.php

/*!
   * jQuery UI Widget 1.12.1
   * http://jqueryui.com
   *
   * Copyright jQuery Foundation and other contributors
   * Released under the MIT license.
   * http://jquery.org/license
   *
   * http://api.jqueryui.com/jQuery.widget/
   */

/*
 * jQuery Iframe Transport Plugin
 * https://github.com/blueimp/jQuery-File-Upload
 *
 * Copyright 2011, Sebastian Tschan
 * https://blueimp.net
 *
 * Licensed under the MIT license:
 * https://opensource.org/licenses/MIT
 */

/*
 * jQuery File Upload Plugin
 * https://github.com/blueimp/jQuery-File-Upload
 *
 * Copyright 2010, Sebastian Tschan
 * https://blueimp.net
 *
 * Licensed under the MIT license:
 * https://opensource.org/licenses/MIT
 */

/*
   * Copyright 2012 The Polymer Authors. All rights reserved.
   * Use of this source code is goverened by a BSD-style
   * license that can be found in the LICENSE file.
   */

function _typeof(e){"@babel/helpers - typeof";return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function QR8bitByte(e){this.mode=QRMode.MODE_8BIT_BYTE,this.data=e}function QRCode(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}function QRPolynomial(e,t){if(void 0==e.length)throw Error(e.length+"/"+t);for(var n=0;n<e.length&&0==e[n];)n++;this.num=Array(e.length-n+t);for(var i=0;i<e.length-n;i++)this.num[i]=e[i+n]}function QRRSBlock(e,t){this.totalCount=e,this.dataCount=t}function QRBitBuffer(){this.buffer=[],this.length=0}function _typeof(e){"@babel/helpers - typeof";return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function _iterableToArrayLimit(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],i=!0,a=!1,o=void 0;try{for(var r,s=e[Symbol.iterator]();!(i=(r=s.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(a)throw o}}return n}}function _arrayWithHoles(e){if(Array.isArray(e))return e}define("window",[],function(){window.createStyle=function(e){var t=document.createElement("style");t.type="text/css",t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e)),document.getElementsByTagName("head")[0].appendChild(t)};var e=/hi=b/.test(window.location.search)||/hi=bzp/.test(window.location.search);if(e)try{sessionStorage.setItem("hi-hide",encodeURIComponent(window.location.search))}catch(e){}return window.appserverDomain=window.appserverDomain||"https://app.tianyancha.com",(e||sessionStorage.getItem("hi-hide"))&&window.createStyle(".hi-hide {display:none} \n .hi-show .company_mobile_pager {display:block} \n .hi-show .content-container > div {display:block}"),String.prototype.startsWith=String.prototype.startsWith||function(e){return RegExp("^"+e).test(this)},String.prototype.endsWith=String.prototype.endsWith||function(e){return RegExp(e+"$").test(this)},Array.prototype.forEach=Array.prototype.forEach||function(e,t){var n,i;if(null===this)throw new TypeError("this is null or not defined");var a=Object(this),o=a.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(arguments.length>1&&(n=t),i=0;i<o;){var r;i in a&&(r=a[i],e.call(n,r,i,a)),i++}},Array.from||(Array.from=function(e){return Array.apply(this,e)}),Array.prototype.map||(Array.prototype.map=function(e,t){var n,i,a;if(null==this)throw new TypeError("this is null or not defined");var o=Object(this),r=o>>>0;if("[object Function]"!==Object.prototype.toString.call(e))throw new TypeError(e+"is not a function");for(t&&(n=t),i=Array(r),a=0;a<r;){var s,c;a in o&&(s=o[a],c=e.call(n,s,a,o),i[a]=c),a++}return i}),Array.prototype.findIndex||(Array.prototype.findIndex=function(e){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this);if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var n=0,i=this.length;n<i;){var a=t[n];if(e.call(this,a,n,t))return n;n++}return-1}),Date.now||(Date.now=function(){return(new Date).getTime()}),window.onerror=function(e){console.log(e),console.log(e.message)},Array.prototype.find||(Array.prototype.find=function(e){if("function"!=typeof e)throw Error("fn is not a function");if(!this)return null;var t=this.length;if(!t)return null;for(var n=0;n<t;n++)if(e(this[n],n,this))return this[n];return null}),window}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define("moment",t):e.moment=t()}(this,function(){"use strict";function e(){return yi.apply(null,arguments)}function t(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function n(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function i(e){var t;for(t in e)return!1;return!0}function a(e){return void 0===e}function o(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function r(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function s(e,t){var n,i=[];for(n=0;n<e.length;++n)i.push(t(e[n],n));return i}function c(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function l(e,t){for(var n in t)c(t,n)&&(e[n]=t[n]);return c(t,"toString")&&(e.toString=t.toString),c(t,"valueOf")&&(e.valueOf=t.valueOf),e}function d(e,t,n,i){return vt(e,t,n,i,!0).utc()}function u(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function p(e){return null==e._pf&&(e._pf=u()),e._pf}function f(e){if(null==e._isValid){var t=p(e),n=wi.call(t.parsedDateParts,function(e){return null!=e}),i=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(i=i&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return i;e._isValid=i}return e._isValid}function h(e){var t=d(NaN);return null!=e?l(p(t),e):p(t).userInvalidated=!0,t}function m(e,t){var n,i,o;if(a(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),a(t._i)||(e._i=t._i),a(t._f)||(e._f=t._f),a(t._l)||(e._l=t._l),a(t._strict)||(e._strict=t._strict),a(t._tzm)||(e._tzm=t._tzm),a(t._isUTC)||(e._isUTC=t._isUTC),a(t._offset)||(e._offset=t._offset),a(t._pf)||(e._pf=p(t)),a(t._locale)||(e._locale=t._locale),_i.length>0)for(n=0;n<_i.length;n++)i=_i[n],o=t[i],a(o)||(e[i]=o);return e}function g(t){m(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===Ci&&(Ci=!0,e.updateOffset(this),Ci=!1)}function v(e){return e instanceof g||null!=e&&null!=e._isAMomentObject}function y(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function b(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=y(t)),n}function w(e,t,n){var i,a=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),r=0;for(i=0;i<a;i++)(n&&e[i]!==t[i]||!n&&b(e[i])!==b(t[i]))&&r++;return r+o}function _(t){!1===e.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function C(t,n){var i=!0;return l(function(){if(null!=e.deprecationHandler&&e.deprecationHandler(null,t),i){for(var a,o=[],r=0;r<arguments.length;r++){if(a="","object"==typeof arguments[r]){a+="\n["+r+"] ";for(var s in arguments[0])a+=s+": "+arguments[0][s]+", ";a=a.slice(0,-2)}else a=arguments[r];o.push(a)}_(t+"\nArguments: "+Array.prototype.slice.call(o).join("")+"\n"+Error().stack),i=!1}return n.apply(this,arguments)},n)}function S(t,n){null!=e.deprecationHandler&&e.deprecationHandler(t,n),Si[t]||(_(n),Si[t]=!0)}function k(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function x(e){var t,n;for(n in e)t=e[n],k(t)?this[n]=t:this["_"+n]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function I(e,t){var i,a=l({},e);for(i in t)c(t,i)&&(n(e[i])&&n(t[i])?(a[i]={},l(a[i],e[i]),l(a[i],t[i])):null!=t[i]?a[i]=t[i]:delete a[i]);for(i in e)c(e,i)&&!c(t,i)&&n(e[i])&&(a[i]=l({},a[i]));return a}function D(e){null!=e&&this.set(e)}function P(e,t,n){var i=this._calendar[e]||this._calendar.sameElse;return k(i)?i.call(t,n):i}function M(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])}function T(){return this._invalidDate}function j(e){return this._ordinal.replace("%d",e)}function E(e,t,n,i){var a=this._relativeTime[n];return k(a)?a(e,t,n,i):a.replace(/%d/i,e)}function O(e,t){var n=this._relativeTime[e>0?"future":"past"];return k(n)?n(t):n.replace(/%s/i,t)}function A(e,t){var n=e.toLowerCase();ji[n]=ji[n+"s"]=ji[t]=e}function R(e){return"string"==typeof e?ji[e]||ji[e.toLowerCase()]:void 0}function L(e){var t,n,i={};for(n in e)c(e,n)&&(t=R(n))&&(i[t]=e[n]);return i}function N(e,t){Ei[e]=t}function U(e){var t=[];for(var n in e)t.push({unit:n,priority:Ei[n]});return t.sort(function(e,t){return e.priority-t.priority}),t}function B(t,n){return function(i){return null!=i?(V(this,t,i),e.updateOffset(this,n),this):H(this,t)}}function H(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function V(e,t,n){e.isValid()&&e._d["set"+(e._isUTC?"UTC":"")+t](n)}function W(e){return e=R(e),k(this[e])?this[e]():this}function z(e,t){if("object"==typeof e){e=L(e);for(var n=U(e),i=0;i<n.length;i++)this[n[i].unit](e[n[i].unit])}else if(e=R(e),k(this[e]))return this[e](t);return this}function F(e,t,n){var i=""+Math.abs(e),a=t-i.length;return(e>=0?n?"+":"":"-")+(""+Math.pow(10,Math.max(0,a))).substr(1)+i}function $(e,t,n,i){var a=i;"string"==typeof i&&(a=function(){return this[i]()}),e&&(Li[e]=a),t&&(Li[t[0]]=function(){return F(a.apply(this,arguments),t[1],t[2])}),n&&(Li[n]=function(){return this.localeData().ordinal(a.apply(this,arguments),e)})}function Y(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function q(e){var t,n,i=e.match(Oi);for(t=0,n=i.length;t<n;t++)Li[i[t]]?i[t]=Li[i[t]]:i[t]=Y(i[t]);return function(t){var a,o="";for(a=0;a<n;a++)o+=k(i[a])?i[a].call(t,e):i[a];return o}}function G(e,t){return e.isValid()?(t=Q(t,e.localeData()),Ri[t]=Ri[t]||q(t),Ri[t](e)):e.localeData().invalidDate()}function Q(e,t){function n(e){return t.longDateFormat(e)||e}var i=5;for(Ai.lastIndex=0;i>=0&&Ai.test(e);)e=e.replace(Ai,n),Ai.lastIndex=0,i-=1;return e}function X(e,t,n){ea[e]=k(t)?t:function(e,i){return e&&n?n:t}}function J(e,t){return c(ea,e)?ea[e](t._strict,t._locale):RegExp(Z(e))}function Z(e){return K(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,i,a){return t||n||i||a}))}function K(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function ee(e,t){var n,i=t;for("string"==typeof e&&(e=[e]),o(t)&&(i=function(e,n){n[t]=b(e)}),n=0;n<e.length;n++)ta[e[n]]=i}function te(e,t){ee(e,function(e,n,i,a){i._w=i._w||{},t(e,i._w,i,a)})}function ne(e,t,n){null!=t&&c(ta,e)&&ta[e](t,n._a,n,e)}function ie(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function ae(e,n){return e?t(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||pa).test(n)?"format":"standalone"][e.month()]:t(this._months)?this._months:this._months.standalone}function oe(e,n){return e?t(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[pa.test(n)?"format":"standalone"][e.month()]:t(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function re(e,t,n){var i,a,o,r=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)o=d([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===t?(a=ua.call(this._shortMonthsParse,r),-1!==a?a:null):(a=ua.call(this._longMonthsParse,r),-1!==a?a:null):"MMM"===t?-1!==(a=ua.call(this._shortMonthsParse,r))?a:(a=ua.call(this._longMonthsParse,r),-1!==a?a:null):-1!==(a=ua.call(this._longMonthsParse,r))?a:(a=ua.call(this._shortMonthsParse,r),-1!==a?a:null)}function se(e,t,n){var i,a,o;if(this._monthsParseExact)return re.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(a=d([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=RegExp("^"+this.months(a,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=RegExp("^"+this.monthsShort(a,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(o="^"+this.months(a,"")+"|^"+this.monthsShort(a,""),this._monthsParse[i]=RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[i].test(e))return i;if(n&&"MMM"===t&&this._shortMonthsParse[i].test(e))return i;if(!n&&this._monthsParse[i].test(e))return i}}function ce(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=b(t);else if(t=e.localeData().monthsParse(t),!o(t))return e;return n=Math.min(e.date(),ie(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function le(t){return null!=t?(ce(this,t),e.updateOffset(this,!0),this):H(this,"Month")}function de(){return ie(this.year(),this.month())}function ue(e){return this._monthsParseExact?(c(this,"_monthsRegex")||fe.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(c(this,"_monthsShortRegex")||(this._monthsShortRegex=ma),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function pe(e){return this._monthsParseExact?(c(this,"_monthsRegex")||fe.call(this),e?this._monthsStrictRegex:this._monthsRegex):(c(this,"_monthsRegex")||(this._monthsRegex=ga),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function fe(){function e(e,t){return t.length-e.length}var t,n,i=[],a=[],o=[];for(t=0;t<12;t++)n=d([2e3,t]),i.push(this.monthsShort(n,"")),a.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(i.sort(e),a.sort(e),o.sort(e),t=0;t<12;t++)i[t]=K(i[t]),a[t]=K(a[t]);for(t=0;t<24;t++)o[t]=K(o[t]);this._monthsRegex=RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=RegExp("^("+a.join("|")+")","i"),this._monthsShortStrictRegex=RegExp("^("+i.join("|")+")","i")}function he(e){return me(e)?366:365}function me(e){return e%4==0&&e%100!=0||e%400==0}function ge(){return me(this.year())}function ve(e,t,n,i,a,o,r){var s=new Date(e,t,n,i,a,o,r);return e<100&&e>=0&&isFinite(s.getFullYear())&&s.setFullYear(e),s}function ye(e){var t=new Date(Date.UTC.apply(null,arguments));return e<100&&e>=0&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function be(e,t,n){var i=7+t-n;return-(7+ye(e,0,i).getUTCDay()-t)%7+i-1}function we(e,t,n,i,a){var o,r,s=(7+n-i)%7,c=be(e,i,a),l=1+7*(t-1)+s+c;return l<=0?(o=e-1,r=he(o)+l):l>he(e)?(o=e+1,r=l-he(e)):(o=e,r=l),{year:o,dayOfYear:r}}function _e(e,t,n){var i,a,o=be(e.year(),t,n),r=Math.floor((e.dayOfYear()-o-1)/7)+1;return r<1?(a=e.year()-1,i=r+Ce(a,t,n)):r>Ce(e.year(),t,n)?(i=r-Ce(e.year(),t,n),a=e.year()+1):(a=e.year(),i=r),{week:i,year:a}}function Ce(e,t,n){var i=be(e,t,n),a=be(e+1,t,n);return(he(e)-i+a)/7}function Se(e){return _e(e,this._week.dow,this._week.doy).week}function ke(){return this._week.dow}function xe(){return this._week.doy}function Ie(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function De(e){var t=_e(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function Pe(e,t){return"string"!=typeof e?e:isNaN(e)?(e=t.weekdaysParse(e),"number"==typeof e?e:null):parseInt(e,10)}function Me(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Te(e,n){return e?t(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(n)?"format":"standalone"][e.day()]:t(this._weekdays)?this._weekdays:this._weekdays.standalone}function je(e){return e?this._weekdaysShort[e.day()]:this._weekdaysShort}function Ee(e){return e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Oe(e,t,n){var i,a,o,r=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)o=d([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===t?(a=ua.call(this._weekdaysParse,r),-1!==a?a:null):"ddd"===t?(a=ua.call(this._shortWeekdaysParse,r),-1!==a?a:null):(a=ua.call(this._minWeekdaysParse,r),-1!==a?a:null):"dddd"===t?-1!==(a=ua.call(this._weekdaysParse,r))?a:-1!==(a=ua.call(this._shortWeekdaysParse,r))?a:(a=ua.call(this._minWeekdaysParse,r),-1!==a?a:null):"ddd"===t?-1!==(a=ua.call(this._shortWeekdaysParse,r))?a:-1!==(a=ua.call(this._weekdaysParse,r))?a:(a=ua.call(this._minWeekdaysParse,r),-1!==a?a:null):-1!==(a=ua.call(this._minWeekdaysParse,r))?a:-1!==(a=ua.call(this._weekdaysParse,r))?a:(a=ua.call(this._shortWeekdaysParse,r),-1!==a?a:null)}function Ae(e,t,n){var i,a,o;if(this._weekdaysParseExact)return Oe.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(a=d([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=RegExp("^"+this.weekdays(a,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[i]=RegExp("^"+this.weekdaysShort(a,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[i]=RegExp("^"+this.weekdaysMin(a,"").replace(".",".?")+"$","i")),this._weekdaysParse[i]||(o="^"+this.weekdays(a,"")+"|^"+this.weekdaysShort(a,"")+"|^"+this.weekdaysMin(a,""),this._weekdaysParse[i]=RegExp(o.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[i].test(e))return i;if(n&&"ddd"===t&&this._shortWeekdaysParse[i].test(e))return i;if(n&&"dd"===t&&this._minWeekdaysParse[i].test(e))return i;if(!n&&this._weekdaysParse[i].test(e))return i}}function Re(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Pe(e,this.localeData()),this.add(e-t,"d")):t}function Le(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function Ne(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=Me(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function Ue(e){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||Ve.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(c(this,"_weekdaysRegex")||(this._weekdaysRegex=Ca),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Be(e){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||Ve.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(c(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Sa),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function He(e){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||Ve.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(c(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=ka),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Ve(){function e(e,t){return t.length-e.length}var t,n,i,a,o,r=[],s=[],c=[],l=[];for(t=0;t<7;t++)n=d([2e3,1]).day(t),i=this.weekdaysMin(n,""),a=this.weekdaysShort(n,""),o=this.weekdays(n,""),r.push(i),s.push(a),c.push(o),l.push(i),l.push(a),l.push(o);for(r.sort(e),s.sort(e),c.sort(e),l.sort(e),t=0;t<7;t++)s[t]=K(s[t]),c[t]=K(c[t]),l[t]=K(l[t]);this._weekdaysRegex=RegExp("^("+l.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=RegExp("^("+c.join("|")+")","i"),this._weekdaysShortStrictRegex=RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=RegExp("^("+r.join("|")+")","i")}function We(){return this.hours()%12||12}function ze(){return this.hours()||24}function Fe(e,t){$(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function $e(e,t){return t._meridiemParse}function Ye(e){return"p"===(e+"").toLowerCase().charAt(0)}function qe(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}function Ge(e){return e?e.toLowerCase().replace("_","-"):e}function Qe(e){for(var t,n,i,a,o=0;o<e.length;){for(a=Ge(e[o]).split("-"),t=a.length,n=Ge(e[o+1]),n=n?n.split("-"):null;t>0;){if(i=Xe(a.slice(0,t).join("-")))return i;if(n&&n.length>=t&&w(a,n,!0)>=t-1)break;t--}o++}return null}function Xe(e){var t=null;if(!Ma[e]&&"undefined"!=typeof module&&module&&module.exports)try{t=xa._abbr,require("./locale/"+e),Je(t)}catch(e){}return Ma[e]}function Je(e,t){var n;return e&&(n=a(t)?et(e):Ze(e,t))&&(xa=n),xa._abbr}function Ze(e,t){if(null!==t){var n=Pa;if(t.abbr=e,null!=Ma[e])S("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=Ma[e]._config;else if(null!=t.parentLocale){if(null==Ma[t.parentLocale])return Ta[t.parentLocale]||(Ta[t.parentLocale]=[]),Ta[t.parentLocale].push({name:e,config:t}),null;n=Ma[t.parentLocale]._config}return Ma[e]=new D(I(n,t)),Ta[e]&&Ta[e].forEach(function(e){Ze(e.name,e.config)}),Je(e),Ma[e]}return delete Ma[e],null}function Ke(e,t){if(null!=t){var n,i=Pa;null!=Ma[e]&&(i=Ma[e]._config),t=I(i,t),n=new D(t),n.parentLocale=Ma[e],Ma[e]=n,Je(e)}else null!=Ma[e]&&(null!=Ma[e].parentLocale?Ma[e]=Ma[e].parentLocale:null!=Ma[e]&&delete Ma[e]);return Ma[e]}function et(e){var n;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return xa;if(!t(e)){if(n=Xe(e))return n;e=[e]}return Qe(e)}function tt(){return Ii(Ma)}function nt(e){var t,n=e._a;return n&&-2===p(e).overflow&&(t=n[ia]<0||n[ia]>11?ia:n[aa]<1||n[aa]>ie(n[na],n[ia])?aa:n[oa]<0||n[oa]>24||24===n[oa]&&(0!==n[ra]||0!==n[sa]||0!==n[ca])?oa:n[ra]<0||n[ra]>59?ra:n[sa]<0||n[sa]>59?sa:n[ca]<0||n[ca]>999?ca:-1,p(e)._overflowDayOfYear&&(t<na||t>aa)&&(t=aa),p(e)._overflowWeeks&&-1===t&&(t=la),p(e)._overflowWeekday&&-1===t&&(t=da),p(e).overflow=t),e}function it(e){var t,n,i,a,o,r,s=e._i,c=ja.exec(s)||Ea.exec(s);if(c){for(p(e).iso=!0,t=0,n=Aa.length;t<n;t++)if(Aa[t][1].exec(c[1])){a=Aa[t][0],i=!1!==Aa[t][2];break}if(null==a)return void(e._isValid=!1);if(c[3]){for(t=0,n=Ra.length;t<n;t++)if(Ra[t][1].exec(c[3])){o=(c[2]||" ")+Ra[t][0];break}if(null==o)return void(e._isValid=!1)}if(!i&&null!=o)return void(e._isValid=!1);if(c[4]){if(!Oa.exec(c[4]))return void(e._isValid=!1);r="Z"}e._f=a+(o||"")+(r||""),dt(e)}else e._isValid=!1}function at(e){var t,n,i,a,o,r,s,c,l={" GMT":" +0000"," EDT":" -0400"," EST":" -0500"," CDT":" -0500"," CST":" -0600"," MDT":" -0600"," MST":" -0700"," PDT":" -0700"," PST":" -0800"},d="YXWVUTSRQPONZABCDEFGHIKLM";if(t=e._i.replace(/\([^\)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s|\s$/g,""),n=Na.exec(t)){if(i=n[1]?"ddd"+(5===n[1].length?", ":" "):"",a="D MMM "+(n[2].length>10?"YYYY ":"YY "),o="HH:mm"+(n[4]?":ss":""),n[1]){var u=new Date(n[2]),f=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][u.getDay()];if(n[1].substr(0,3)!==f)return p(e).weekdayMismatch=!0,void(e._isValid=!1)}switch(n[5].length){case 2:0===c?s=" +0000":(c=d.indexOf(n[5][1].toUpperCase())-12,s=(c<0?" -":" +")+(""+c).replace(/^-?/,"0").match(/..$/)[0]+"00");break;case 4:s=l[n[5]];break;default:s=" +0000"}n[5]=s,e._i=n.splice(1).join(""),r=" ZZ",e._f=i+a+o+r,dt(e),p(e).rfc2822=!0}else e._isValid=!1}function ot(t){var n=La.exec(t._i);if(null!==n)return void(t._d=new Date(+n[1]));it(t),!1===t._isValid&&(delete t._isValid,at(t),!1===t._isValid&&(delete t._isValid,e.createFromInputFallback(t)))}function rt(e,t,n){return null!=e?e:null!=t?t:n}function st(t){var n=new Date(e.now());return t._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()]}function ct(e){var t,n,i,a,o=[];if(!e._d){for(i=st(e),e._w&&null==e._a[aa]&&null==e._a[ia]&&lt(e),null!=e._dayOfYear&&(a=rt(e._a[na],i[na]),(e._dayOfYear>he(a)||0===e._dayOfYear)&&(p(e)._overflowDayOfYear=!0),n=ye(a,0,e._dayOfYear),e._a[ia]=n.getUTCMonth(),e._a[aa]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=o[t]=i[t];for(;t<7;t++)e._a[t]=o[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[oa]&&0===e._a[ra]&&0===e._a[sa]&&0===e._a[ca]&&(e._nextDay=!0,e._a[oa]=0),e._d=(e._useUTC?ye:ve).apply(null,o),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[oa]=24)}}function lt(e){var t,n,i,a,o,r,s,c;if(t=e._w,null!=t.GG||null!=t.W||null!=t.E)o=1,r=4,n=rt(t.GG,e._a[na],_e(yt(),1,4).year),i=rt(t.W,1),((a=rt(t.E,1))<1||a>7)&&(c=!0);else{o=e._locale._week.dow,r=e._locale._week.doy;var l=_e(yt(),o,r);n=rt(t.gg,e._a[na],l.year),i=rt(t.w,l.week),null!=t.d?((a=t.d)<0||a>6)&&(c=!0):null!=t.e?(a=t.e+o,(t.e<0||t.e>6)&&(c=!0)):a=o}i<1||i>Ce(n,o,r)?p(e)._overflowWeeks=!0:null!=c?p(e)._overflowWeekday=!0:(s=we(n,i,a,o,r),e._a[na]=s.year,e._dayOfYear=s.dayOfYear)}function dt(t){if(t._f===e.ISO_8601)return void it(t);if(t._f===e.RFC_2822)return void at(t);t._a=[],p(t).empty=!0;var n,i,a,o,r,s=""+t._i,c=s.length,l=0;for(a=Q(t._f,t._locale).match(Oi)||[],n=0;n<a.length;n++)o=a[n],i=(s.match(J(o,t))||[])[0],i&&(r=s.substr(0,s.indexOf(i)),r.length>0&&p(t).unusedInput.push(r),s=s.slice(s.indexOf(i)+i.length),l+=i.length),Li[o]?(i?p(t).empty=!1:p(t).unusedTokens.push(o),ne(o,i,t)):t._strict&&!i&&p(t).unusedTokens.push(o);p(t).charsLeftOver=c-l,s.length>0&&p(t).unusedInput.push(s),t._a[oa]<=12&&!0===p(t).bigHour&&t._a[oa]>0&&(p(t).bigHour=void 0),p(t).parsedDateParts=t._a.slice(0),p(t).meridiem=t._meridiem,t._a[oa]=ut(t._locale,t._a[oa],t._meridiem),ct(t),nt(t)}function ut(e,t,n){var i;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?(i=e.isPM(n),i&&t<12&&(t+=12),i||12!==t||(t=0),t):t}function pt(e){var t,n,i,a,o;if(0===e._f.length)return p(e).invalidFormat=!0,void(e._d=new Date(NaN));for(a=0;a<e._f.length;a++)o=0,t=m({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[a],dt(t),f(t)&&(o+=p(t).charsLeftOver,o+=10*p(t).unusedTokens.length,p(t).score=o,(null==i||o<i)&&(i=o,n=t));l(e,n||t)}function ft(e){if(!e._d){var t=L(e._i);e._a=s([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),ct(e)}}function ht(e){var t=new g(nt(mt(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function mt(e){var n=e._i,i=e._f;return e._locale=e._locale||et(e._l),null===n||void 0===i&&""===n?h({nullInput:!0}):("string"==typeof n&&(e._i=n=e._locale.preparse(n)),v(n)?new g(nt(n)):(r(n)?e._d=n:t(i)?pt(e):i?dt(e):gt(e),f(e)||(e._d=null),e))}function gt(i){var c=i._i;a(c)?i._d=new Date(e.now()):r(c)?i._d=new Date(c.valueOf()):"string"==typeof c?ot(i):t(c)?(i._a=s(c.slice(0),function(e){return parseInt(e,10)}),ct(i)):n(c)?ft(i):o(c)?i._d=new Date(c):e.createFromInputFallback(i)}function vt(e,a,o,r,s){var c={};return!0!==o&&!1!==o||(r=o,o=void 0),(n(e)&&i(e)||t(e)&&0===e.length)&&(e=void 0),c._isAMomentObject=!0,c._useUTC=c._isUTC=s,c._l=o,c._i=e,c._f=a,c._strict=r,ht(c)}function yt(e,t,n,i){return vt(e,t,n,i,!1)}function bt(e,n){var i,a;if(1===n.length&&t(n[0])&&(n=n[0]),!n.length)return yt();for(i=n[0],a=1;a<n.length;++a)n[a].isValid()&&!n[a][e](i)||(i=n[a]);return i}function wt(){return bt("isBefore",[].slice.call(arguments,0))}function _t(){return bt("isAfter",[].slice.call(arguments,0))}function Ct(e){for(var t in e)if(-1===Va.indexOf(t)||null!=e[t]&&isNaN(e[t]))return!1;for(var n=!1,i=0;i<Va.length;++i)if(e[Va[i]]){if(n)return!1;parseFloat(e[Va[i]])!==b(e[Va[i]])&&(n=!0)}return!0}function St(){return this._isValid}function kt(){return zt(NaN)}function xt(e){var t=L(e),n=t.year||0,i=t.quarter||0,a=t.month||0,o=t.week||0,r=t.day||0,s=t.hour||0,c=t.minute||0,l=t.second||0,d=t.millisecond||0;this._isValid=Ct(t),this._milliseconds=+d+1e3*l+6e4*c+1e3*s*60*60,this._days=+r+7*o,this._months=+a+3*i+12*n,this._data={},this._locale=et(),this._bubble()}function It(e){return e instanceof xt}function Dt(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function Pt(e,t){$(e,0,0,function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+F(~~(e/60),2)+t+F(~~e%60,2)})}function Mt(e,t){var n=(t||"").match(e);if(null===n)return null;var i=n[n.length-1]||[],a=(i+"").match(Wa)||["-",0,0],o=60*a[1]+b(a[2]);return 0===o?0:"+"===a[0]?o:-o}function Tt(t,n){var i,a;return n._isUTC?(i=n.clone(),a=(v(t)||r(t)?t.valueOf():yt(t).valueOf())-i.valueOf(),i._d.setTime(i._d.valueOf()+a),e.updateOffset(i,!1),i):yt(t).local()}function jt(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Et(t,n,i){var a,o=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"==typeof t){if(null===(t=Mt(Ji,t)))return this}else Math.abs(t)<16&&!i&&(t*=60);return!this._isUTC&&n&&(a=jt(this)),this._offset=t,this._isUTC=!0,null!=a&&this.add(a,"m"),o!==t&&(!n||this._changeInProgress?Gt(this,zt(t-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?o:jt(this)}function Ot(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function At(e){return this.utcOffset(0,e)}function Rt(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(jt(this),"m")),this}function Lt(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=Mt(Xi,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this}function Nt(e){return!!this.isValid()&&(e=e?yt(e).utcOffset():0,(this.utcOffset()-e)%60==0)}function Ut(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Bt(){if(!a(this._isDSTShifted))return this._isDSTShifted;var e={};if(m(e,this),e=mt(e),e._a){var t=e._isUTC?d(e._a):yt(e._a);this._isDSTShifted=this.isValid()&&w(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Ht(){return!!this.isValid()&&!this._isUTC}function Vt(){return!!this.isValid()&&this._isUTC}function Wt(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function zt(e,t){var n,i,a,r=e,s=null;return It(e)?r={ms:e._milliseconds,d:e._days,M:e._months}:o(e)?(r={},t?r[t]=e:r.milliseconds=e):(s=za.exec(e))?(n="-"===s[1]?-1:1,r={y:0,d:b(s[aa])*n,h:b(s[oa])*n,m:b(s[ra])*n,s:b(s[sa])*n,ms:b(Dt(1e3*s[ca]))*n}):(s=Fa.exec(e))?(n="-"===s[1]?-1:1,r={y:Ft(s[2],n),M:Ft(s[3],n),w:Ft(s[4],n),d:Ft(s[5],n),h:Ft(s[6],n),m:Ft(s[7],n),s:Ft(s[8],n)}):null==r?r={}:"object"==typeof r&&("from"in r||"to"in r)&&(a=Yt(yt(r.from),yt(r.to)),r={},r.ms=a.milliseconds,r.M=a.months),i=new xt(r),It(e)&&c(e,"_locale")&&(i._locale=e._locale),i}function Ft(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function $t(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Yt(e,t){var n;return e.isValid()&&t.isValid()?(t=Tt(t,e),e.isBefore(t)?n=$t(e,t):(n=$t(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function qt(e,t){return function(n,i){var a,o;return null===i||isNaN(+i)||(S(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=n,n=i,i=o),n="string"==typeof n?+n:n,a=zt(n,i),Gt(this,a,e),this}}
function Gt(t,n,i,a){var o=n._milliseconds,r=Dt(n._days),s=Dt(n._months);t.isValid()&&(a=null==a||a,o&&t._d.setTime(t._d.valueOf()+o*i),r&&V(t,"Date",H(t,"Date")+r*i),s&&ce(t,H(t,"Month")+s*i),a&&e.updateOffset(t,r||s))}function Qt(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function Xt(t,n){var i=t||yt(),a=Tt(i,this).startOf("day"),o=e.calendarFormat(this,a)||"sameElse",r=n&&(k(n[o])?n[o].call(this,i):n[o]);return this.format(r||this.localeData().calendar(o,this,yt(i)))}function Jt(){return new g(this)}function Zt(e,t){var n=v(e)?e:yt(e);return!(!this.isValid()||!n.isValid())&&(t=R(a(t)?"millisecond":t),"millisecond"===t?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())}function Kt(e,t){var n=v(e)?e:yt(e);return!(!this.isValid()||!n.isValid())&&(t=R(a(t)?"millisecond":t),"millisecond"===t?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())}function en(e,t,n,i){return i=i||"()",("("===i[0]?this.isAfter(e,n):!this.isBefore(e,n))&&(")"===i[1]?this.isBefore(t,n):!this.isAfter(t,n))}function tn(e,t){var n,i=v(e)?e:yt(e);return!(!this.isValid()||!i.isValid())&&(t=R(t||"millisecond"),"millisecond"===t?this.valueOf()===i.valueOf():(n=i.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))}function nn(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function an(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function on(e,t,n){var i,a,o,r;return this.isValid()?(i=Tt(e,this),i.isValid()?(a=6e4*(i.utcOffset()-this.utcOffset()),t=R(t),"year"===t||"month"===t||"quarter"===t?(r=rn(this,i),"quarter"===t?r/=3:"year"===t&&(r/=12)):(o=this-i,r="second"===t?o/1e3:"minute"===t?o/6e4:"hour"===t?o/36e5:"day"===t?(o-a)/864e5:"week"===t?(o-a)/6048e5:o),n?r:y(r)):NaN):NaN}function rn(e,t){var n,i,a=12*(t.year()-e.year())+(t.month()-e.month()),o=e.clone().add(a,"months");return t-o<0?(n=e.clone().add(a-1,"months"),i=(t-o)/(o-n)):(n=e.clone().add(a+1,"months"),i=(t-o)/(n-o)),-(a+i)||0}function sn(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function cn(){if(!this.isValid())return null;var e=this.clone().utc();return e.year()<0||e.year()>9999?G(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):k(Date.prototype.toISOString)?this.toDate().toISOString():G(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function ln(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var n="["+e+'("]',i=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",a=t+'[")]';return this.format(n+i+"-MM-DD[T]HH:mm:ss.SSS"+a)}function dn(t){t||(t=this.isUtc()?e.defaultFormatUtc:e.defaultFormat);var n=G(this,t);return this.localeData().postformat(n)}function un(e,t){return this.isValid()&&(v(e)&&e.isValid()||yt(e).isValid())?zt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function pn(e){return this.from(yt(),e)}function fn(e,t){return this.isValid()&&(v(e)&&e.isValid()||yt(e).isValid())?zt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function hn(e){return this.to(yt(),e)}function mn(e){var t;return void 0===e?this._locale._abbr:(t=et(e),null!=t&&(this._locale=t),this)}function gn(){return this._locale}function vn(e){switch(e=R(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this}function yn(e){return void 0===(e=R(e))||"millisecond"===e?this:("date"===e&&(e="day"),this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms"))}function bn(){return this._d.valueOf()-6e4*(this._offset||0)}function wn(){return Math.floor(this.valueOf()/1e3)}function _n(){return new Date(this.valueOf())}function Cn(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function Sn(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function kn(){return this.isValid()?this.toISOString():null}function xn(){return f(this)}function In(){return l({},p(this))}function Dn(){return p(this).overflow}function Pn(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Mn(e,t){$(0,[e,e.length],0,t)}function Tn(e){return An.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function jn(e){return An.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function En(){return Ce(this.year(),1,4)}function On(){var e=this.localeData()._week;return Ce(this.year(),e.dow,e.doy)}function An(e,t,n,i,a){var o;return null==e?_e(this,i,a).year:(o=Ce(e,i,a),t>o&&(t=o),Rn.call(this,e,t,n,i,a))}function Rn(e,t,n,i,a){var o=we(e,t,n,i,a),r=ye(o.year,0,o.dayOfYear);return this.year(r.getUTCFullYear()),this.month(r.getUTCMonth()),this.date(r.getUTCDate()),this}function Ln(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}function Nn(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}function Un(e,t){t[ca]=b(1e3*("0."+e))}function Bn(){return this._isUTC?"UTC":""}function Hn(){return this._isUTC?"Coordinated Universal Time":""}function Vn(e){return yt(1e3*e)}function Wn(){return yt.apply(null,arguments).parseZone()}function zn(e){return e}function Fn(e,t,n,i){var a=et(),o=d().set(i,t);return a[n](o,e)}function $n(e,t,n){if(o(e)&&(t=e,e=void 0),e=e||"",null!=t)return Fn(e,t,n,"month");var i,a=[];for(i=0;i<12;i++)a[i]=Fn(e,i,n,"month");return a}function Yn(e,t,n,i){"boolean"==typeof e?(o(t)&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,o(t)&&(n=t,t=void 0),t=t||"");var a=et(),r=e?a._week.dow:0;if(null!=n)return Fn(t,(n+r)%7,i,"day");var s,c=[];for(s=0;s<7;s++)c[s]=Fn(t,(s+r)%7,i,"day");return c}function qn(e,t){return $n(e,t,"months")}function Gn(e,t){return $n(e,t,"monthsShort")}function Qn(e,t,n){return Yn(e,t,n,"weekdays")}function Xn(e,t,n){return Yn(e,t,n,"weekdaysShort")}function Jn(e,t,n){return Yn(e,t,n,"weekdaysMin")}function Zn(){var e=this._data;return this._milliseconds=to(this._milliseconds),this._days=to(this._days),this._months=to(this._months),e.milliseconds=to(e.milliseconds),e.seconds=to(e.seconds),e.minutes=to(e.minutes),e.hours=to(e.hours),e.months=to(e.months),e.years=to(e.years),this}function Kn(e,t,n,i){var a=zt(t,n);return e._milliseconds+=i*a._milliseconds,e._days+=i*a._days,e._months+=i*a._months,e._bubble()}function ei(e,t){return Kn(this,e,t,1)}function ti(e,t){return Kn(this,e,t,-1)}function ni(e){return e<0?Math.floor(e):Math.ceil(e)}function ii(){var e,t,n,i,a,o=this._milliseconds,r=this._days,s=this._months,c=this._data;return o>=0&&r>=0&&s>=0||o<=0&&r<=0&&s<=0||(o+=864e5*ni(oi(s)+r),r=0,s=0),c.milliseconds=o%1e3,e=y(o/1e3),c.seconds=e%60,t=y(e/60),c.minutes=t%60,n=y(t/60),c.hours=n%24,r+=y(n/24),a=y(ai(r)),s+=a,r-=ni(oi(a)),i=y(s/12),s%=12,c.days=r,c.months=s,c.years=i,this}function ai(e){return 4800*e/146097}function oi(e){return 146097*e/4800}function ri(e){if(!this.isValid())return NaN;var t,n,i=this._milliseconds;if("month"===(e=R(e))||"year"===e)return t=this._days+i/864e5,n=this._months+ai(t),"month"===e?n:n/12;switch(t=this._days+Math.round(oi(this._months)),e){case"week":return t/7+i/6048e5;case"day":return t+i/864e5;case"hour":return 24*t+i/36e5;case"minute":return 1440*t+i/6e4;case"second":return 86400*t+i/1e3;case"millisecond":return Math.floor(864e5*t)+i;default:throw Error("Unknown unit "+e)}}function si(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*b(this._months/12):NaN}function ci(e){return function(){return this.as(e)}}function li(e){return e=R(e),this.isValid()?this[e+"s"]():NaN}function di(e){return function(){return this.isValid()?this._data[e]:NaN}}function ui(){return y(this.days()/7)}function pi(e,t,n,i,a){return a.relativeTime(t||1,!!n,e,i)}function fi(e,t,n){var i=zt(e).abs(),a=yo(i.as("s")),o=yo(i.as("m")),r=yo(i.as("h")),s=yo(i.as("d")),c=yo(i.as("M")),l=yo(i.as("y")),d=a<=bo.ss&&["s",a]||a<bo.s&&["ss",a]||o<=1&&["m"]||o<bo.m&&["mm",o]||r<=1&&["h"]||r<bo.h&&["hh",r]||s<=1&&["d"]||s<bo.d&&["dd",s]||c<=1&&["M"]||c<bo.M&&["MM",c]||l<=1&&["y"]||["yy",l];return d[2]=t,d[3]=+e>0,d[4]=n,pi.apply(null,d)}function hi(e){return void 0===e?yo:"function"==typeof e&&(yo=e,!0)}function mi(e,t){return void 0!==bo[e]&&(void 0===t?bo[e]:(bo[e]=t,"s"===e&&(bo.ss=t-1),!0))}function gi(e){if(!this.isValid())return this.localeData().invalidDate();var t=this.localeData(),n=fi(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)}function vi(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,i=wo(this._milliseconds)/1e3,a=wo(this._days),o=wo(this._months);e=y(i/60),t=y(e/60),i%=60,e%=60,n=y(o/12),o%=12;var r=n,s=o,c=a,l=t,d=e,u=i,p=this.asSeconds();return p?(p<0?"-":"")+"P"+(r?r+"Y":"")+(s?s+"M":"")+(c?c+"D":"")+(l||d||u?"T":"")+(l?l+"H":"")+(d?d+"M":"")+(u?u+"S":""):"P0D"}var yi,bi;bi=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,i=0;i<n;i++)if(i in t&&e.call(this,t[i],i,t))return!0;return!1};var wi=bi,_i=e.momentProperties=[],Ci=!1,Si={};e.suppressDeprecationWarnings=!1,e.deprecationHandler=null;var ki;ki=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)c(e,t)&&n.push(t);return n};var xi,Ii=ki,Di={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Pi={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Mi=/\d{1,2}/,Ti={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ji={},Ei={},Oi=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Ai=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Ri={},Li={},Ni=/\d/,Ui=/\d\d/,Bi=/\d{3}/,Hi=/\d{4}/,Vi=/[+-]?\d{6}/,Wi=/\d\d?/,zi=/\d\d\d\d?/,Fi=/\d\d\d\d\d\d?/,$i=/\d{1,3}/,Yi=/\d{1,4}/,qi=/[+-]?\d{1,6}/,Gi=/\d+/,Qi=/[+-]?\d+/,Xi=/Z|[+-]\d\d:?\d\d/gi,Ji=/Z|[+-]\d\d(?::?\d\d)?/gi,Zi=/[+-]?\d+(\.\d{1,3})?/,Ki=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,ea={},ta={},na=0,ia=1,aa=2,oa=3,ra=4,sa=5,ca=6,la=7,da=8;xi=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};var ua=xi;$("M",["MM",2],"Mo",function(){return this.month()+1}),$("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),$("MMMM",0,0,function(e){return this.localeData().months(this,e)}),A("month","M"),N("month",8),X("M",Wi),X("MM",Wi,Ui),X("MMM",function(e,t){return t.monthsShortRegex(e)}),X("MMMM",function(e,t){return t.monthsRegex(e)}),ee(["M","MM"],function(e,t){t[ia]=b(e)-1}),ee(["MMM","MMMM"],function(e,t,n,i){var a=n._locale.monthsParse(e,i,n._strict);null!=a?t[ia]=a:p(n).invalidMonth=e});var pa=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,fa="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ha="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),ma=Ki,ga=Ki;$("Y",0,0,function(){var e=this.year();return e<=9999?""+e:"+"+e}),$(0,["YY",2],0,function(){return this.year()%100}),$(0,["YYYY",4],0,"year"),$(0,["YYYYY",5],0,"year"),$(0,["YYYYYY",6,!0],0,"year"),A("year","y"),N("year",1),X("Y",Qi),X("YY",Wi,Ui),X("YYYY",Yi,Hi),X("YYYYY",qi,Vi),X("YYYYYY",qi,Vi),ee(["YYYYY","YYYYYY"],na),ee("YYYY",function(t,n){n[na]=2===t.length?e.parseTwoDigitYear(t):b(t)}),ee("YY",function(t,n){n[na]=e.parseTwoDigitYear(t)}),ee("Y",function(e,t){t[na]=parseInt(e,10)}),e.parseTwoDigitYear=function(e){return b(e)+(b(e)>68?1900:2e3)};var va=B("FullYear",!0);$("w",["ww",2],"wo","week"),$("W",["WW",2],"Wo","isoWeek"),A("week","w"),A("isoWeek","W"),N("week",5),N("isoWeek",5),X("w",Wi),X("ww",Wi,Ui),X("W",Wi),X("WW",Wi,Ui),te(["w","ww","W","WW"],function(e,t,n,i){t[i.substr(0,1)]=b(e)});var ya={dow:0,doy:6};$("d",0,"do","day"),$("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),$("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),$("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),$("e",0,0,"weekday"),$("E",0,0,"isoWeekday"),A("day","d"),A("weekday","e"),A("isoWeekday","E"),N("day",11),N("weekday",11),N("isoWeekday",11),X("d",Wi),X("e",Wi),X("E",Wi),X("dd",function(e,t){return t.weekdaysMinRegex(e)}),X("ddd",function(e,t){return t.weekdaysShortRegex(e)}),X("dddd",function(e,t){return t.weekdaysRegex(e)}),te(["dd","ddd","dddd"],function(e,t,n,i){var a=n._locale.weekdaysParse(e,i,n._strict);null!=a?t.d=a:p(n).invalidWeekday=e}),te(["d","e","E"],function(e,t,n,i){t[i]=b(e)});var ba="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),wa="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),_a="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Ca=Ki,Sa=Ki,ka=Ki;$("H",["HH",2],0,"hour"),$("h",["hh",2],0,We),$("k",["kk",2],0,ze),$("hmm",0,0,function(){return""+We.apply(this)+F(this.minutes(),2)}),$("hmmss",0,0,function(){return""+We.apply(this)+F(this.minutes(),2)+F(this.seconds(),2)}),$("Hmm",0,0,function(){return""+this.hours()+F(this.minutes(),2)}),$("Hmmss",0,0,function(){return""+this.hours()+F(this.minutes(),2)+F(this.seconds(),2)}),Fe("a",!0),Fe("A",!1),A("hour","h"),N("hour",13),X("a",$e),X("A",$e),X("H",Wi),X("h",Wi),X("k",Wi),X("HH",Wi,Ui),X("hh",Wi,Ui),X("kk",Wi,Ui),X("hmm",zi),X("hmmss",Fi),X("Hmm",zi),X("Hmmss",Fi),ee(["H","HH"],oa),ee(["k","kk"],function(e,t,n){var i=b(e);t[oa]=24===i?0:i}),ee(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),ee(["h","hh"],function(e,t,n){t[oa]=b(e),p(n).bigHour=!0}),ee("hmm",function(e,t,n){var i=e.length-2;t[oa]=b(e.substr(0,i)),t[ra]=b(e.substr(i)),p(n).bigHour=!0}),ee("hmmss",function(e,t,n){var i=e.length-4,a=e.length-2;t[oa]=b(e.substr(0,i)),t[ra]=b(e.substr(i,2)),t[sa]=b(e.substr(a)),p(n).bigHour=!0}),ee("Hmm",function(e,t,n){var i=e.length-2;t[oa]=b(e.substr(0,i)),t[ra]=b(e.substr(i))}),ee("Hmmss",function(e,t,n){var i=e.length-4,a=e.length-2;t[oa]=b(e.substr(0,i)),t[ra]=b(e.substr(i,2)),t[sa]=b(e.substr(a))});var xa,Ia=/[ap]\.?m?\.?/i,Da=B("Hours",!0),Pa={calendar:Di,longDateFormat:Pi,invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:Mi,relativeTime:Ti,months:fa,monthsShort:ha,week:ya,weekdays:ba,weekdaysMin:_a,weekdaysShort:wa,meridiemParse:Ia},Ma={},Ta={},ja=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Ea=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Oa=/Z|[+-]\d\d(?::?\d\d)?/,Aa=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Ra=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],La=/^\/?Date\((\-?\d+)/i,Na=/^((?:Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d?\d\s(?:Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(?:\d\d)?\d\d\s)(\d\d:\d\d)(\:\d\d)?(\s(?:UT|GMT|[ECMP][SD]T|[A-IK-Za-ik-z]|[+-]\d{4}))$/;e.createFromInputFallback=C("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),e.ISO_8601=function(){},e.RFC_2822=function(){};var Ua=C("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=yt.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:h()}),Ba=C("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=yt.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:h()}),Ha=function(){return Date.now?Date.now():+new Date},Va=["year","quarter","month","week","day","hour","minute","second","millisecond"];Pt("Z",":"),Pt("ZZ",""),X("Z",Ji),X("ZZ",Ji),ee(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Mt(Ji,e)});var Wa=/([\+\-]|\d\d)/gi;e.updateOffset=function(){};var za=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Fa=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;zt.fn=xt.prototype,zt.invalid=kt;var $a=qt(1,"add"),Ya=qt(-1,"subtract");e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var qa=C("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});$(0,["gg",2],0,function(){return this.weekYear()%100}),$(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Mn("gggg","weekYear"),Mn("ggggg","weekYear"),Mn("GGGG","isoWeekYear"),Mn("GGGGG","isoWeekYear"),A("weekYear","gg"),A("isoWeekYear","GG"),N("weekYear",1),N("isoWeekYear",1),X("G",Qi),X("g",Qi),X("GG",Wi,Ui),X("gg",Wi,Ui),X("GGGG",Yi,Hi),X("gggg",Yi,Hi),X("GGGGG",qi,Vi),X("ggggg",qi,Vi),te(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,i){t[i.substr(0,2)]=b(e)}),te(["gg","GG"],function(t,n,i,a){n[a]=e.parseTwoDigitYear(t)}),$("Q",0,"Qo","quarter"),A("quarter","Q"),N("quarter",7),X("Q",Ni),ee("Q",function(e,t){t[ia]=3*(b(e)-1)}),$("D",["DD",2],"Do","date"),A("date","D"),N("date",9),X("D",Wi),X("DD",Wi,Ui),X("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),ee(["D","DD"],aa),ee("Do",function(e,t){t[aa]=b(e.match(Wi)[0],10)});var Ga=B("Date",!0);$("DDD",["DDDD",3],"DDDo","dayOfYear"),A("dayOfYear","DDD"),N("dayOfYear",4),X("DDD",$i),X("DDDD",Bi),ee(["DDD","DDDD"],function(e,t,n){n._dayOfYear=b(e)}),$("m",["mm",2],0,"minute"),A("minute","m"),N("minute",14),X("m",Wi),X("mm",Wi,Ui),ee(["m","mm"],ra);var Qa=B("Minutes",!1);$("s",["ss",2],0,"second"),A("second","s"),N("second",15),X("s",Wi),X("ss",Wi,Ui),ee(["s","ss"],sa);var Xa=B("Seconds",!1);$("S",0,0,function(){return~~(this.millisecond()/100)}),$(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),$(0,["SSS",3],0,"millisecond"),$(0,["SSSS",4],0,function(){return 10*this.millisecond()}),$(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),$(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),$(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),$(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),$(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),A("millisecond","ms"),N("millisecond",16),X("S",$i,Ni),X("SS",$i,Ui),X("SSS",$i,Bi);var Ja;for(Ja="SSSS";Ja.length<=9;Ja+="S")X(Ja,Gi);for(Ja="S";Ja.length<=9;Ja+="S")ee(Ja,Un);var Za=B("Milliseconds",!1);$("z",0,0,"zoneAbbr"),$("zz",0,0,"zoneName");var Ka=g.prototype;Ka.add=$a,Ka.calendar=Xt,Ka.clone=Jt,Ka.diff=on,Ka.endOf=yn,Ka.format=dn,Ka.from=un,Ka.fromNow=pn,Ka.to=fn,Ka.toNow=hn,Ka.get=W,Ka.invalidAt=Dn,Ka.isAfter=Zt,Ka.isBefore=Kt,Ka.isBetween=en,Ka.isSame=tn,Ka.isSameOrAfter=nn,Ka.isSameOrBefore=an,Ka.isValid=xn,Ka.lang=qa,Ka.locale=mn,Ka.localeData=gn,Ka.max=Ba,Ka.min=Ua,Ka.parsingFlags=In,Ka.set=z,Ka.startOf=vn,Ka.subtract=Ya,Ka.toArray=Cn,Ka.toObject=Sn,Ka.toDate=_n,Ka.toISOString=cn,Ka.inspect=ln,Ka.toJSON=kn,Ka.toString=sn,Ka.unix=wn,Ka.valueOf=bn,Ka.creationData=Pn,Ka.year=va,Ka.isLeapYear=ge,Ka.weekYear=Tn,Ka.isoWeekYear=jn,Ka.quarter=Ka.quarters=Ln,Ka.month=le,Ka.daysInMonth=de,Ka.week=Ka.weeks=Ie,Ka.isoWeek=Ka.isoWeeks=De,Ka.weeksInYear=On,Ka.isoWeeksInYear=En,Ka.date=Ga,Ka.day=Ka.days=Re,Ka.weekday=Le,Ka.isoWeekday=Ne,Ka.dayOfYear=Nn,Ka.hour=Ka.hours=Da,Ka.minute=Ka.minutes=Qa,Ka.second=Ka.seconds=Xa,Ka.millisecond=Ka.milliseconds=Za,Ka.utcOffset=Et,Ka.utc=At,Ka.local=Rt,Ka.parseZone=Lt,Ka.hasAlignedHourOffset=Nt,Ka.isDST=Ut,Ka.isLocal=Ht,Ka.isUtcOffset=Vt,Ka.isUtc=Wt,Ka.isUTC=Wt,Ka.zoneAbbr=Bn,Ka.zoneName=Hn,Ka.dates=C("dates accessor is deprecated. Use date instead.",Ga),Ka.months=C("months accessor is deprecated. Use month instead",le),Ka.years=C("years accessor is deprecated. Use year instead",va),Ka.zone=C("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Ot),Ka.isDSTShifted=C("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Bt);var eo=D.prototype;eo.calendar=P,eo.longDateFormat=M,eo.invalidDate=T,eo.ordinal=j,eo.preparse=zn,eo.postformat=zn,eo.relativeTime=E,eo.pastFuture=O,eo.set=x,eo.months=ae,eo.monthsShort=oe,eo.monthsParse=se,eo.monthsRegex=pe,eo.monthsShortRegex=ue,eo.week=Se,eo.firstDayOfYear=xe,eo.firstDayOfWeek=ke,eo.weekdays=Te,eo.weekdaysMin=Ee,eo.weekdaysShort=je,eo.weekdaysParse=Ae,eo.weekdaysRegex=Ue,eo.weekdaysShortRegex=Be,eo.weekdaysMinRegex=He,eo.isPM=Ye,eo.meridiem=qe,Je("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===b(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),e.lang=C("moment.lang is deprecated. Use moment.locale instead.",Je),e.langData=C("moment.langData is deprecated. Use moment.localeData instead.",et);var to=Math.abs,no=ci("ms"),io=ci("s"),ao=ci("m"),oo=ci("h"),ro=ci("d"),so=ci("w"),co=ci("M"),lo=ci("y"),uo=di("milliseconds"),po=di("seconds"),fo=di("minutes"),ho=di("hours"),mo=di("days"),go=di("months"),vo=di("years"),yo=Math.round,bo={ss:44,s:45,m:45,h:22,d:26,M:11},wo=Math.abs,_o=xt.prototype;return _o.isValid=St,_o.abs=Zn,_o.add=ei,_o.subtract=ti,_o.as=ri,_o.asMilliseconds=no,_o.asSeconds=io,_o.asMinutes=ao,_o.asHours=oo,_o.asDays=ro,_o.asWeeks=so,_o.asMonths=co,_o.asYears=lo,_o.valueOf=si,_o._bubble=ii,_o.get=li,_o.milliseconds=uo,_o.seconds=po,_o.minutes=fo,_o.hours=ho,_o.days=mo,_o.weeks=ui,_o.months=go,_o.years=vo,_o.humanize=gi,_o.toISOString=vi,_o.toString=vi,_o.toJSON=vi,_o.locale=mn,_o.localeData=gn,_o.toIsoString=C("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",vi),_o.lang=qa,$("X",0,0,"unix"),$("x",0,0,"valueOf"),X("x",Qi),X("X",Zi),ee("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),ee("x",function(e,t,n){n._d=new Date(b(e))}),e.version="2.18.1",function(e){yi=e}(yt),e.fn=Ka,e.min=wt,e.max=_t,e.now=Ha,e.utc=d,e.unix=Vn,e.months=qn,e.isDate=r,e.locale=Je,e.invalid=h,e.duration=zt,e.isMoment=v,e.weekdays=Qn,e.parseZone=Wn,e.localeData=et,e.isDuration=It,e.monthsShort=Gn,e.weekdaysMin=Jn,e.defineLocale=Ze,e.updateLocale=Ke,e.locales=tt,e.weekdaysShort=Xn,e.normalizeUnits=R,e.relativeTimeRounding=hi,e.relativeTimeThreshold=mi,e.calendarFormat=Qt,e.prototype=Ka,e}),function(e,t){"use strict";"object"==typeof module&&module.exports?module.exports=t(require("moment")):"function"==typeof define&&define.amd?define("momentTimezone",["moment"],t):t(e.moment)}(this,function(e){"use strict";function t(e){return e>96?e-87:e>64?e-29:e-48}function n(e){var n,i=0,a=e.split("."),o=a[0],r=a[1]||"",s=1,c=0,l=1;for(45===e.charCodeAt(0)&&(i=1,l=-1),i;i<o.length;i++)n=t(o.charCodeAt(i)),c=60*c+n;for(i=0;i<r.length;i++)s/=60,n=t(r.charCodeAt(i)),c+=n*s;return c*l}function i(e){for(var t=0;t<e.length;t++)e[t]=n(e[t])}function a(e,t){for(var n=0;n<t;n++)e[n]=Math.round((e[n-1]||0)+6e4*e[n]);e[t-1]=1/0}function o(e,t){var n,i=[];for(n=0;n<t.length;n++)i[n]=e[t[n]];return i}function r(e){var t=e.split("|"),n=t[2].split(" "),r=t[3].split(""),s=t[4].split(" ");return i(n),i(r),i(s),a(s,r.length),{name:t[0],abbrs:o(t[1].split(" "),r),offsets:o(n,r),untils:s,population:0|t[5]}}function s(e){e&&this._set(r(e))}function c(e){var t=e.toTimeString(),n=t.match(/\([a-z ]+\)/i);n&&n[0]?(n=n[0].match(/[A-Z]/g),n=n?n.join(""):void 0):(n=t.match(/[A-Z]{3,5}/g),n=n?n[0]:void 0),"GMT"===n&&(n=void 0),this.at=+e,this.abbr=n,this.offset=e.getTimezoneOffset()}function l(e){this.zone=e,this.offsetScore=0,this.abbrScore=0}function d(e,t){for(var n,i;i=6e4*((t.at-e.at)/12e4|0);)n=new c(new Date(e.at+i)),n.offset===e.offset?e=n:t=n;return e}function u(){var e,t,n,i=(new Date).getFullYear()-2,a=new c(new Date(i,0,1)),o=[a];for(n=1;n<48;n++)t=new c(new Date(i,n,1)),t.offset!==a.offset&&(e=d(a,t),o.push(e),o.push(new c(new Date(e.at+6e4)))),a=t;for(n=0;n<4;n++)o.push(new c(new Date(i+n,0,1))),o.push(new c(new Date(i+n,6,1)));return o}function p(e,t){return e.offsetScore!==t.offsetScore?e.offsetScore-t.offsetScore:e.abbrScore!==t.abbrScore?e.abbrScore-t.abbrScore:e.zone.population!==t.zone.population?t.zone.population-e.zone.population:t.zone.name.localeCompare(e.zone.name)}function f(e,t){var n,a;for(i(t),n=0;n<t.length;n++)a=t[n],O[a]=O[a]||{},O[a][e]=!0}function h(e){var t,n,i,a=e.length,o={},r=[];for(t=0;t<a;t++){i=O[e[t].offset]||{};for(n in i)i.hasOwnProperty(n)&&(o[n]=!0)}for(t in o)o.hasOwnProperty(t)&&r.push(E[t]);return r}function m(){try{var e=Intl.DateTimeFormat().resolvedOptions().timeZone;if(e&&e.length>3){var t=E[v(e)];if(t)return t;x("Moment Timezone found "+e+" from the Intl api, but did not have that data loaded.")}}catch(e){}var n,i,a,o=u(),r=o.length,s=h(o),c=[];for(i=0;i<s.length;i++){for(n=new l(b(s[i]),r),a=0;a<r;a++)n.scoreOffsetAt(o[a]);c.push(n)}return c.sort(p),c.length>0?c[0].zone.name:void 0}function g(e){return M&&!e||(M=m()),M}function v(e){return(e||"").toLowerCase().replace(/\//g,"_")}function y(e){var t,n,i,a;for("string"==typeof e&&(e=[e]),t=0;t<e.length;t++)i=e[t].split("|"),n=i[0],a=v(n),T[a]=e[t],E[a]=n,f(a,i[2].split(" "))}function b(e,t){e=v(e);var n,i=T[e];return i instanceof s?i:"string"==typeof i?(i=new s(i),T[e]=i,i):j[e]&&t!==b&&(n=b(j[e],b))?(i=T[e]=new s,i._set(n),i.name=E[e],i):null}function w(){var e,t=[];for(e in E)E.hasOwnProperty(e)&&(T[e]||T[j[e]])&&E[e]&&t.push(E[e]);return t.sort()}function _(e){var t,n,i,a;for("string"==typeof e&&(e=[e]),t=0;t<e.length;t++)n=e[t].split("|"),i=v(n[0]),a=v(n[1]),j[i]=a,E[i]=n[0],j[a]=i,E[a]=n[1]}function C(e){y(e.zones),_(e.links),I.dataVersion=e.version}function S(e){return S.didShowError||(S.didShowError=!0,x("moment.tz.zoneExists('"+e+"') has been deprecated in favor of !moment.tz.zone('"+e+"')")),!!b(e)}function k(e){var t="X"===e._f||"x"===e._f;return!(!e._a||void 0!==e._tzm||t)}function x(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e)}function I(t){var n=Array.prototype.slice.call(arguments,0,-1),i=arguments[arguments.length-1],a=b(i),o=e.utc.apply(null,n);return a&&!e.isMoment(t)&&k(o)&&o.add(a.parse(o),"minutes"),o.tz(i),o}function D(e){return function(){return this._z?this._z.abbr(this):e.call(this)}}function P(e){return function(){return this._z=null,e.apply(this,arguments)}}var M,T={},j={},E={},O={};e&&"string"==typeof e.version||x("Moment Timezone requires Moment.js. See https://momentjs.com/timezone/docs/#/use-it/browser/");var A=e.version.split("."),R=+A[0],L=+A[1];(R<2||2===R&&L<6)&&x("Moment Timezone requires Moment.js >= 2.6.0. You are using Moment.js "+e.version+". See momentjs.com"),s.prototype={_set:function(e){this.name=e.name,this.abbrs=e.abbrs,this.untils=e.untils,this.offsets=e.offsets,this.population=e.population},_index:function(e){var t,n=+e,i=this.untils;for(t=0;t<i.length;t++)if(n<i[t])return t},parse:function(e){var t,n,i,a,o=+e,r=this.offsets,s=this.untils,c=s.length-1;for(a=0;a<c;a++)if(t=r[a],n=r[a+1],i=r[a?a-1:a],t<n&&I.moveAmbiguousForward?t=n:t>i&&I.moveInvalidForward&&(t=i),o<s[a]-6e4*t)return r[a];return r[c]},abbr:function(e){return this.abbrs[this._index(e)]},offset:function(e){return x("zone.offset has been deprecated in favor of zone.utcOffset"),this.offsets[this._index(e)]},utcOffset:function(e){return this.offsets[this._index(e)]}},l.prototype.scoreOffsetAt=function(e){this.offsetScore+=Math.abs(this.zone.utcOffset(e.at)-e.offset),this.zone.abbr(e.at).replace(/[^A-Z]/g,"")!==e.abbr&&this.abbrScore++},I.version="0.5.26",I.dataVersion="",I._zones=T,I._links=j,I._names=E,I.add=y,I.link=_,I.load=C,I.zone=b,I.zoneExists=S,I.guess=g,I.names=w,I.Zone=s,I.unpack=r,I.unpackBase60=n,I.needsOffset=k,I.moveInvalidForward=!0,I.moveAmbiguousForward=!1;var N=e.fn;e.tz=I,e.defaultZone=null,e.updateOffset=function(t,n){var i,a=e.defaultZone;if(void 0===t._z&&(a&&k(t)&&!t._isUTC&&(t._d=e.utc(t._a)._d,t.utc().add(a.parse(t),"minutes")),t._z=a),t._z)if(i=t._z.utcOffset(t),Math.abs(i)<16&&(i/=60),void 0!==t.utcOffset){var o=t._z;t.utcOffset(-i,n),t._z=o}else t.zone(i,n)},N.tz=function(t,n){if(t){if("string"!=typeof t)throw Error("Time zone name must be a string, got "+t+" ["+typeof t+"]");return this._z=b(t),this._z?e.updateOffset(this,n):x("Moment Timezone has no data for "+t+". See http://momentjs.com/timezone/docs/#/data-loading/."),this}if(this._z)return this._z.name},N.zoneName=D(N.zoneName),N.zoneAbbr=D(N.zoneAbbr),N.utc=P(N.utc),N.local=P(N.local),N.utcOffset=function(e){return function(){return arguments.length>0&&(this._z=null),e.apply(this,arguments)}}(N.utcOffset),e.tz.setDefault=function(t){return(R<2||2===R&&L<9)&&x("Moment Timezone setDefault() requires Moment.js >= 2.9.0. You are using Moment.js "+e.version+"."),e.defaultZone=t?b(t):null,e};var U=e.momentProperties;return"[object Array]"===Object.prototype.toString.call(U)?(U.push("_z"),U.push("_a")):U&&(U._z=null),e.tz.load({"version":"2019b","zones":["Asia/Shanghai|CST CDT|-80 -90|010101010101010101010101010|-1c2w0 Rz0 11d0 1wL0 A10 8HX0 1G10 Tz0 1ip0 1jX0 1cN0 11b0 1oN0 aL0 1tU30 Rb0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0|23e6"],"links":["Asia/Shanghai|Asia/Chongqing","Asia/Shanghai|Asia/Chungking","Asia/Shanghai|Asia/Harbin","Asia/Shanghai|PRC"]}),e}),define("util/ejs",["window","jquery","momentTimezone"],function(e,t,n){var i={company:"https://cdn.tianyancha.com/wap/images/logo327.png",product:"https://img.tianyancha.com/logo/teamMember/ye_def.png@!fill_200x200",human:"https://img.tianyancha.com/tmp/2018011421/169520.jpg@!fill_200x200"};return t.extend(templates.locals,{moment:n,serverDomain:e.serverDomain,discussServerDomain:e.discussServerDomain,ownServerDomain:e.ownServerDomain,cloudServerDomain:e.cloudServerDomain,newsServerDomain:e.newsServerDomain,topicCreateTimeFormat:function(e){if("number"!=typeof e)return"";var t=Date.now(),i=n(e),a="",o=n(e).year(),r=n().year();if(t-e<=6e4)a="ÂàöÂàö";else if(t-e<864e5){var s=parseInt((t-e)/6e4/60);a="".concat(s<1?1:s,"Â∞èÊó∂Ââç")}else a=t-e>864e5&&o===r?i.format("MM-DD"):i.format("YYYY-MM-DD");return a},checkData:function(e){return!e||void 0===e||"null"===e||"false"===e||e&&/(^\s*$)/.test(e)||"--"===e||"‚Äî‚Äî‚Äî‚Äî"===e||"‚Äî‚Äî"===e||"‚Äî ‚Äî"===e||"Êó†"===e||"Êú™ÂÖ¨Á§∫"===e||"Á©∫"===e||"&nbsp;"===e||"---"===e?0===e?0:" ":e},checkDataNew:function(e){return!e||void 0===e||"null"===e||"false"===e||e&&/(^\s*$)/.test(e)||"--"===e||"‚Äî‚Äî‚Äî‚Äî"===e||"‚Äî‚Äî"===e||"‚Äî ‚Äî"===e||"Êó†"===e||"Êú™ÂÖ¨Á§∫"===e||"Á©∫"===e||"&nbsp;"===e||"---"===e?0===e?0:"-":e},initTime:function(e,t,i){return e?(i=i||"YYYY-MM-DD",
/^[1-9]\d{3}-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])$/.test(e)?e:/^[1-9]\d{3}(Âπ¥|\.)(0[1-9]|1[0-2])(Êúà|\.)(0[1-9]|[1-2][0-9]|3[0-1])(Êó•)*$/.test(e)?e.replace("Âπ¥","-").replace("Êúà","-").replace("Êó•","").replace(/\./g,"-"):e&&0!==parseInt(e)?(/^[1-9]\d{3}-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/.test(e)&&(e=new Date(e).getTime()),n(parseInt(e)).tz("Asia/Shanghai").format(i)):t||"-"):t||"-"},getProvName:function(e){var t={GJ:"ÊÄªÂ±Ä",BJ:"Âåó‰∫¨",TJ:"Â§©Ê¥•",HEB:"Ê≤≥Âåó",SX:"Â±±Ë•ø",NMG:"ÂÜÖËíôÂè§",LN:"ËæΩÂÆÅ",JL:"ÂêâÊûó",HLJ:"ÈªëÈæôÊ±ü",SH:"‰∏äÊµ∑",JS:"Ê±üËãè",ZJ:"ÊµôÊ±ü",AH:"ÂÆâÂæΩ",FJ:"Á¶èÂª∫",JX:"Ê±üË•ø",SD:"Â±±‰∏ú",GD:"Âπø‰∏ú",GX:"ÂπøË•ø",HAN:"Êµ∑Âçó",HEN:"Ê≤≥Âçó",HUB:"ÊπñÂåó",HUN:"ÊπñÂçó",CQ:"ÈáçÂ∫Ü",SC:"ÂõõÂ∑ù",GZ:"Ë¥µÂ∑û",YN:"‰∫ëÂçó",XZ:"Ë•øËóè",SNX:"ÈôïË•ø",GS:"ÁîòËÇÉ",QH:"ÈùíÊµ∑",NX:"ÂÆÅÂ§è",XJ:"Êñ∞ÁñÜ"};return e?(e=e.toUpperCase(),t[e]):"Êó†"},vipList:[{name:"‰∏ÄÂπ¥VIP‰ºöÂëò",state:50,vipPrice:"360",unitPrice:"30",time:"12",discount:"",give:"Âè¶Ëµ†200ÂÖÉÊä•ÂëäÊäµÊâ£Âà∏",originalPrice:"560",year:"1Âπ¥",yearText:"‰∏ÄÂπ¥VIP",isDiscount:0,finalPrice:"360",finalPriceText:null,originalPriceText:null,vipPriceText:null,recommend:!1},{name:"‰∏§Âπ¥VIP‰ºöÂëò",state:60,vipPrice:"720",unitPrice:"30",time:"24",discount:"‰ºòÊÉ†0ÂÖÉ",give:"Âè¶Ëµ†350ÂÖÉÊä•ÂëäÊäµÊâ£Âà∏",originalPrice:"1120",year:"2Âπ¥",yearText:"‰∫åÂπ¥VIP",isDiscount:0,finalPrice:"720",finalPriceText:null,originalPriceText:null,vipPriceText:null,recommend:!1},{name:"‰∏âÂπ¥VIP‰ºöÂëò(ÈôêÊó∂‰ºòÊÉ†)",state:70,vipPrice:"720",unitPrice:"20",time:"36",discount:"‰ºòÊÉ†360ÂÖÉ",give:"Âè¶Ëµ†500ÂÖÉÊä•ÂëäÊäµÊâ£Âà∏",originalPrice:"1680",year:"3Âπ¥",yearText:"‰∏âÂπ¥VIP",isDiscount:0,finalPrice:"720",finalPriceText:null,originalPriceText:null,vipPriceText:null,recommend:!0}],dateFormat:function(e,t,i){if("int"===i){if(/^[1-9]\d{3}-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])$/.test(e))return e;if(/^[1-9]\d{3}(Âπ¥)(0[1-9]|1[0-2])(Êúà)(0[1-9]|[1-2][0-9]|3[0-1])(Êó•)*$/.test(e))return e.replace("Âπ¥","-").replace("Êúà","-").replace("Êó•","");if(e&&0!==parseInt(e))return/^[1-9]\d{3}-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/.test(e)&&(e=new Date(e).getTime()),n(parseInt(e)).tz("Asia/Shanghai").format("YYYY-MM-DD")}else if(i)try{return n(parseInt(e)).tz("Asia/Shanghai").format(i)}catch(e){return t||null}return t||" "},dateFormatMinut:function(e,t,i){return/^[1-9]\d{3}-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])$/.test(e)?e:/^[1-9]\d{3}(Âπ¥)(0[1-9]|1[0-2])(Êúà)(0[1-9]|[1-2][0-9]|3[0-1])(Êó•)*$/.test(e)?e.replace("Âπ¥","-").replace("Êúà","-").replace("Êó•",""):e&&0!==parseInt(e)?n(parseInt(e)).tz("Asia/Shanghai").format("YYYY-MM-DD H:mm"):t||" "},strFilter:function(e,t){return t&&void 0!==t&&"null"!==t&&"false"!==t&&"--"!==t&&"‚Äî‚Äî‚Äî‚Äî"!==t&&"‚Äî‚Äî"!==t&&"‚Äî ‚Äî"!==t?t:t||" "},trim:function(e){return e=(e||"")+"",e.replace(/(^\s*)|(\s*$)/g,"")},safeCharAt:function(e,t,n){return e?e.charAt(t):n},arrayLimit:function(e,t,n){n=n||0;var i=n+t;if(e&&e.length>0){if(e.length>i)return e.slice(n,i);if(e.length>n)return e.slice(n,e.length)}return[]},safeRenderNotice:function(e){return/<\/div>$/.test(e)?e:"".concat(e,"</div>")},num99_plus:function(e){return parseInt(e,10)>99?"99+":e},waterMark:function(e,t,n,a){return n=n||"company",t=t||"",a=a||i[n]||i.product,e?e+t:a},imageSelf:function(e,t,n){return e||(e?(e.startsWith("https://cdn.tianyancha.com")?e=e.replace("https://cdn.tianyancha.com","https://img.tianyancha.com"):e.startsWith("https://image.tianyancha.com")&&(e=e.replace("https://image.tianyancha.com","https://img.tianyancha.com")),e.indexOf("@")>-1?n?e.substring(0,e.indexOf("@"))+t:e:e+(t||"@!pad_200x200")):e)},getVipCountdown:function(e){if(!e)return{};if(e.renewal>0&&e.vipToTime>0){var t=function(e){return e<10&&(e="0".concat(e)),e},n=e.vipToTime-(new Date).getTime(),i=parseInt(n/1e3/60/60/24,10);if(i>=1)return{text:"".concat(i,"Â§©"),type:"day"};var a=parseInt(n/1e3/60/60,10),o=parseInt(n/1e3/60%60,10),r=parseInt(n/1e3%60,10);return{text:"".concat(t(a),"Êó∂").concat(t(o),"ÂàÜ").concat(t(r),"Áßí"),type:"hour"}}return{}},tableSort:function(e,t,n){return t?e+1+(t-1)*(n||5):e+1},imageError:function(e,t){return t?(e||("company"===t?e="":"human"===t?e="":"bop"===t?e="https://img.tianyancha.com/logo/teamMember/ye_def.png@!fill_200x200":"tm"===t&&(e="https://cdn.tianyancha.com/wap/images/searchLogo918.png")),e):e||""},sliceChar:function(e,t,n){return n=n||"",e?e.length<=t?e:e.slice(0,t)+n:""},fmtTotal:function(e,t){return parseInt(e||"0")>t?"".concat(t,"+"):e},pageArr_currentCenter:function(e,t,n,i){var a=Math.ceil(e/t),o=!0,r=!0,s=!0,c=!0,l=null;return i>1&&(s=!1),i<a&&(c=!1),n>=a?{noPrevious:s,noNext:c,noFirst:!0,noEnd:!0,pageArr:Array.from({length:a}).map(function(e,t){return t+1})}:(o=!1,i<=Math.ceil(n/2)?l=0:i>=a-Math.floor(n/2)?(l=a-n,r=!1,o=!0):(l=i-Math.ceil(n/2),r=!1),{noPrevious:s,noNext:c,noFirst:r,noEnd:o,pageArr:Array.from({length:n}).map(function(e,t){return l+t+1})})},escapeHtml:function(e){return e?(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;"):""},getRandomLogoBg:function(e,t){return e=e||1,t=t||5,"-bg".concat(Math.floor(Math.random()*(t-e+1)+e))},companyNewsDateFormat:function(e){if("number"!=typeof e)return"";var t=1*new Date,n=new Date(e);return t-e<6e4?"".concat(new Date(t-e).getSeconds(),"ÁßíÂâç"):t-e<36e5?"".concat(new Date(t-e).getMinutes(),"ÂàÜÈíüÂâç"):t-e<864e5?"".concat(parseInt((t-e)/6e4/60),"Â∞èÊó∂").concat(new Date(t-e).getMinutes(),"ÂàÜÈíüÂâç"):t-e<1296e6?"".concat(parseInt((t-e)/864e5),"Â§©Ââç"):"".concat(n.getFullYear()+""+(n.getMonth()>8?"Âπ¥":"Âπ¥0")+(n.getMonth()+1)+(n.getDate()>9?"Êúà":"Êúà0")+n.getDate(),"Êó•")},initStatusColor:function(e,t,n){var i="num-opening",a="num-cancel";t&&(i="tag-common -normal",a="tag-common -risk"),n&&(i="tag-common -normal-bg",a="tag-common -risk-bg");var o="";switch(e){case"ÂºÄ‰∏ö":case"Ê≠£Â∏∏":case"ÁôªËÆ∞ÊàêÁ´ã":case"Âú®‰∏ö":case"Âú®Ëê•":case"Âú®Ëê•‰ºÅ‰∏ö":case"Â≠òÁª≠":case"Â≠òÁª≠ÔºàÂú®Ëê•„ÄÅÂºÄ‰∏ö„ÄÅÂú®ÂÜåÔºâ":case"ËøÅÂá∫":case"Â∑≤ËøÅÂá∫‰ºÅ‰∏ö":case"Â∏ÇÂÜÖËøÅÂá∫":case"ËøÅÂæÄÂ∏ÇÂ§ñ":o=i;break;case"Â∑≤Ê≥®ÈîÄ":case"ÂêäÈîÄ":case"ÂêäÈîÄÔºåÊú™Ê≥®ÈîÄ":case"ÂêäÈîÄ,Â∑≤Ê≥®ÈîÄ":case"ÂêäÈîÄÔºåÂ∑≤Ê≥®ÈîÄ":case"ÂêäÈîÄÊú™Ê≥®ÈîÄ":case"Â∑≤ÂêäÈîÄ":case"Ê≥®ÈîÄ":case"Ê≥®ÈîÄ ":case"ÂêäÈîÄ‰ºÅ‰∏ö":case"ÂêäÈîÄ,Êú™Ê≥®ÈîÄ":o=a;break;default:o=i}return o},titleDescibeV2:{subjectMatterofEnforcement:{name:"ÊâßË°åÊ†áÁöÑ",describe:["Ë¥¢‰∫ßÊâßË°åÁöÑÊâßË°åÊ†áÁöÑÊúâ‰∏§Á±ªÔºå‰∏ÄÁ±ªÊòØË¥¢‰∫ß(ÂåÖÊã¨Êúâ‰ΩìÁâ©ÂíåÊó†ÂΩ¢Ë¥¢‰∫ßÊùÉ)Ôºå‰∏ÄÁ±ªÊòØÂèØ‰ª•Êõø‰ª£ÁöÑË°å‰∏∫„ÄÇ","Ê†πÊçÆÊ≥ïÂæãÊñá‰π¶ÁöÑÂÜÖÂÆπÔºåÊ≥ïÈô¢ÈúÄË¶ÅÂÆåÊàêÁöÑÊâßË°åÊ¥ªÂä®ÂèØËÉΩÊòØË¶ÅÊ±ÇÂÄ∫Âä°‰∫∫Áªô‰ªòÈáëÈí±„ÄÅÁâ©ÂìÅ„ÄÅÊúâ‰ª∑ËØÅÂà∏Á≠âË¥¢‰∫ßÔºå‰πüÂèØËÉΩÊòØË¶ÅÊ±ÇÂÄ∫Âä°‰∫∫Â±•Ë°å‰∏ÄÂÆöÁöÑË°å‰∏∫ÊàñËÄÖ‰∏ç‰∏∫‰∏ÄÂÆöÁöÑË°å‰∏∫„ÄÇ"]}},questionRelationLabelFilter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return[1,2,3,4].includes(e)?e:1}}),e.ejs=templates,templates}),define("lib/domReady",[],function(){"use strict";function e(e){var t;for(t=0;t<e.length;t+=1)e[t](l)}function t(){var t=d;c&&t.length&&(d=[],e(t))}function n(){c||(c=!0,r&&clearInterval(r),t())}function i(e){return c?e(l):d.push(e),i}var a,o,r,s="undefined"!=typeof window&&window.document,c=!s,l=s?document:null,d=[];if(s){if(document.addEventListener)document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1);else if(window.attachEvent){window.attachEvent("onload",n),o=document.createElement("div");try{a=null===window.frameElement}catch(e){}o.doScroll&&a&&window.external&&(r=setInterval(function(){try{o.doScroll(),n()}catch(e){}},30))}"complete"===document.readyState&&n()}return i.version="2.0.1",i.load=function(e,t,n,a){a.isBuild?n(null):i(n)},i}),define("util/animate",["window","jquery","lib/domReady"],function(e,t,n){if(e.animate){if("animate"!==e.animate.pluginName)throw Error("plugin error: animate");return e.animate}var i={pluginName:"animate"};e.animate=i;var a=document.documentElement,o=function(){t("[animate]").each(function(e,n){var i=t(n),a=i.attr("animate"),o=i.attr("animate-in");a&&o&&(i.hasClass(a)||(i.on("animationend webkitAnimationEnd oAnimationEnd",function(){i.removeClass(o)}),i.addClass(a),i.addClass(o)))})};return n(function(){e.MutationObserver?new MutationObserver(o).observe(a,{childList:!0,subtree:!0,attributes:!0}):t("body").on("DOMSubtreeModified",o)}),i.checkAnimate=o,i}),define("util/jquery.toastr",["jquery"],function(e){return function(){function t(e,t,n){return h({type:_.error,iconClass:m().iconClasses.error,message:e,optionsOverride:n,title:t})}function n(t,n){return t||(t=m()),v=e("#"+t.containerId),v.length?v:(n&&(v=u(t)),v)}function i(e,t,n){return h({type:_.info,iconClass:m().iconClasses.info,message:e,optionsOverride:n,title:t})}function a(e){y=e}function o(e,t,n){return h({type:_.success,iconClass:m().iconClasses.success,message:e,optionsOverride:n,title:t})}function r(e,t,n){return h({type:_.warning,iconClass:m().iconClasses.warning,message:e,optionsOverride:n,title:t})}function s(e,t){var i=m();v||n(i),d(e,i,t)||l(i)}function c(t){var i=m();if(v||n(i),t&&0===e(":focus",t).length)return void g(t);v.children().length&&v.remove()}function l(t){for(var n=v.children(),i=n.length-1;i>=0;i--)d(e(n[i]),t)}function d(t,n,i){var a=!(!i||!i.force)&&i.force;return!(!t||!a&&0!==e(":focus",t).length)&&(t[n.hideMethod]({duration:n.hideDuration,easing:n.hideEasing,complete:function(){g(t)}}),!0)}function u(t){return v=e("<div/>").attr("id",t.containerId).addClass(t.positionClass).addClass(t.containerClass),v.appendTo(e(t.target)),v}function p(){return{tapToDismiss:!0,toastClass:"toast",containerId:"toast-container",containerClass:"toast-container",debug:!1,showMethod:"fadeIn",showDuration:300,showEasing:"swing",onShown:void 0,hideMethod:"fadeOut",hideDuration:1e3,hideEasing:"swing",onHidden:void 0,closeMethod:!1,closeDuration:!1,closeEasing:!1,closeOnHover:!0,extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},iconClass:"toast-info",positionClass:"toast-top-center",timeOut:1500,titleClass:"toast-title",messageClass:"toast-message",escapeHtml:!1,target:"body",closeHtml:'<button type="button">&times;</button>',closeClass:"toast-close-button",iconWarpClass:"toast-icon",newestOnTop:!0,preventDuplicates:!1,progressBar:!1,progressClass:"toast-progress",rtl:!1}}function f(e){y&&y(e)}function h(t){function i(e){return null==e&&(e=""),e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function a(){if(t.iconClass){var e=_.iconWarpClass;x.addClass("tic-"+C).addClass(e),k.addClass(_.toastClass).addClass(C).append(x)}}function o(){_.newestOnTop?v.prepend(k):v.append(k)}function r(){if(t.title){var e=t.title;_.escapeHtml&&(e=i(t.title)),I.append(e).addClass(_.titleClass),k.append(I)}}function s(){if(t.message){var e=t.message;_.escapeHtml&&(e=i(t.message)),D.append(e).addClass(_.messageClass),k.append(D)}}function c(){_.closeButton&&(M.addClass(_.closeClass).attr("role","button"),k.prepend(M))}function l(){_.progressBar&&(P.addClass(_.progressClass),k.prepend(P))}function d(){_.rtl&&k.addClass("rtl")}function u(t){var n=t&&!1!==_.closeMethod?_.closeMethod:_.hideMethod,i=t&&!1!==_.closeDuration?_.closeDuration:_.hideDuration,a=t&&!1!==_.closeEasing?_.closeEasing:_.hideEasing;if(!e(":focus",k).length||t)return clearTimeout(T.intervalId),k[n]({duration:i,easing:a,complete:function(){g(k),clearTimeout(S),_.onHidden&&"hidden"!==j.state&&_.onHidden(),j.state="hidden",j.endTime=new Date,f(j)}})}function p(){(_.timeOut>0||_.extendedTimeOut>0)&&(S=setTimeout(u,_.extendedTimeOut),T.maxHideTime=parseFloat(_.extendedTimeOut),T.hideEta=(new Date).getTime()+T.maxHideTime)}function h(){clearTimeout(S),T.hideEta=0,k.stop(!0,!0)[_.showMethod]({duration:_.showDuration,easing:_.showEasing})}function y(){var e=(T.hideEta-(new Date).getTime())/T.maxHideTime*100;P.width(e+"%")}var _=m(),C=t.iconClass||_.iconClass;if(void 0!==t.optionsOverride&&(_=e.extend(_,t.optionsOverride),C=t.optionsOverride.iconClass||C),!function(e,t){if(e.preventDuplicates){if(t.message===b)return!0;b=t.message}return!1}(_,t)){w++,v=n(_,!0);var S=null,k=e("<div/>"),x=e('<i class="tic"><i/>'),I=e("<div/>"),D=e("<div/>"),P=e("<div/>"),M=e(_.closeHtml),T={intervalId:null,hideEta:null,maxHideTime:null},j={toastId:w,state:"visible",startTime:new Date,options:_,map:t};!function(){a(),r(),s(),c(),l(),d(),o()}(),function(){k.closest(".toast-warp").hide(),k[_.showMethod]({duration:_.showDuration,easing:_.showEasing,complete:_.onShown}),_.timeOut>0&&(S=setTimeout(u,_.timeOut),T.maxHideTime=parseFloat(_.timeOut),T.hideEta=(new Date).getTime()+T.maxHideTime,_.progressBar&&(T.intervalId=setInterval(y,10)))}(),function(){_.closeOnHover&&k.hover(h,p),!_.onclick&&_.tapToDismiss&&k.click(u),_.closeButton&&M&&M.click(function(e){e.stopPropagation?e.stopPropagation():void 0!==e.cancelBubble&&!0!==e.cancelBubble&&(e.cancelBubble=!0),_.onCloseClick&&_.onCloseClick(e),u(!0)}),_.onclick&&k.click(function(e){_.onclick(e),u()})}(),f(j),_.debug&&console&&console.log(j);k.wrap('<div class="toast-warp"></div>');return k}}function m(){return e.extend({},p(),C.options)}function g(e){v||(v=n()),e.is(":visible")||(e.closest(".toast-warp").remove(),e=null,0===v.children().length&&(v.remove(),b=void 0))}var v,y,b,w=0,_={error:"error",info:"info",success:"success",warning:"warning"},C={clear:s,remove:c,error:t,getContainer:n,info:i,options:{},subscribe:a,success:o,version:"2.1.4",warning:r};return C}()}),define("util/modal",["jquery","util/ejs","util/animate","util/jquery.toastr"],function(e,t,n,i){function a(t,n){if(e("#_modal_container .modal-dialog[need-watch][is-delete=0]").length)if("resize"!==n){if(e(".outersvg").length)return;var i=!1,a=!1;t=t||[];var o=[],r={};t.forEach(function(t,n){if("height-bak"===t.attributeName&&"attributes"===t.type)return a=!0;if(t&&t.target&&e(t.target).closest(".modal-dialog")&&e(t.target).closest(".modal-dialog").attr("is-delete")<1&&e(t.target).closest(".modal-dialog").attr("need-watch")){i=!0;var s=e(t.target).closest(".modal-dialog").attr("id");r[s]||(r[s]=s,o.push(s))}}),i&&o.length>0&&o.forEach(function(t,n){e("#".concat(t)).length&&setTimeout(function(){e("#".concat(t)).height()!==e("#".concat(t)).attr("height-bak")&&s.resetPosition(t)},0)})}else e("#_modal_container .modal-dialog").each(function(t,n){var i=e(n).attr("id");s.resetPosition(i)})}var o,r={duringTime:500,supportTransform:!0};document&&document.documentElement&&document.documentElement.style&&"transform"in document.documentElement.style&&(r.supportTransform=!0),e.fn.modal=function(t){if("hide"===t){var n=e("#_modal_container");if("_modal_msg_container"===e(this).attr("id")&&(n=e("#_modal_msg_container")),e(this).hasClass("modal-dialog")){e(this).addClass("modal-leave-animate");var i=this;e(i).attr("is-delete","1"),setTimeout(function(){e(i).remove()},r.duringTime);var a=n.find(".modal-mask").css("z-index"),o=n.find('.modal-dialog[is-delete="0"]');o.length>0&&o.eq(o.length-1).css("z-index",parseInt(a)+1),o.length||(n.attr("is-delete",1).find(".modal-mask").addClass("fadeOut"),setTimeout(function(){1==+n.attr("is-delete")?(n.remove(),e("body").removeClass("modal-open")):n.find(".modal-mask").removeClass("fadeOut")},r.duringTime))}else{e(this).find(".modal-dialog").attr("is-delete",1).addClass("modal-leave-animate");var s=this;n.attr("is-delete",1).find(".modal-mask").addClass("fadeOut"),setTimeout(function(){n.find('.modal-dialog[is-delete="1"]').remove(),1==+n.attr("is-delete")?e(s).remove():n.find(".modal-mask").removeClass("fadeOut"),e("#_modal_container").length||e("body").removeClass("modal-open")},r.duringTime)}}},e("body").off("click.unModal"),e("body").on("click.unModal","#_modal_container",function(t){if(!(e(".-login-box").length||e(".modal-year-check").length||e(".no-mask-close").length)){t.stopPropagation();var n=e(t.target);if(!e(".modal-dialog").has(n).length){if(e(".modal-dialog").attr("no-mask-close"))return;o&&"function"==typeof o&&(o(),o=null),e("#_modal_container").modal("hide")}}}),e("body").off("touchstart.unModal"),e("body").on("touchstart.unModal","#_modal_container",function(t){if(!e(".-login-box").length){t.stopPropagation();var n=e(t.target);e(".modal-dialog").has(n).length||e("#_modal_container").modal("hide")}}),e("body").off("click.modal-click-cancel"),e("body").on("click.modal-click-cancel",'[modal-click="cancel"]',function(t){t.stopPropagation();var n=e(t.target);o&&"function"==typeof o&&(o(),o=null),n.closest(".modal-dialog").modal("hide")});var s={},c='<div id="_modal_container" class="modal '.concat(r.supportTransform?"-transform":"",'" is-delete="0" ><div class="modal-mask" animate="animated" animate-in="fadeIn"></div></div>');return s.dialogBack=function(){var t=e("#_modal_container"),n=t.find(".modal-mask").css("z-index");t.find(".modal-dialog").css("z-index",parseInt(n)-1)},s.resetPosition=function(t){if(t&&!r.supportTransform){var n=e("#".concat(t));n.attr("height-bak",n.height()),n.css({"margin-top":parseInt(e(window).height()/2-n.height()/2)})}},s.openByElementStr=function(t,n,i,a){if(a&&"function"==typeof a&&(o=a),"string"!=typeof t)return!1;if(n&&"object"!==_typeof(n))return!1;n||(n={}),e("#_modal_container").length||e("body").append(e(c));var r=e("#_modal_container").attr("is-delete",0),l="-".concat(n.size?n.size:"lg"),d=n.style,u=n.id||"dialog_".concat(((new Date).getTime()+"").substr(-8)),p=e('<div class="modal-dialog" animate="animated" animate-in="modal-animate" is-delete="0"><div class="modal-content" ></div></div>');return p.attr("id",u),s.dialogBack(),r.append(p).find(".modal-mask").removeClass("fadeOut"),p.addClass(l),d&&p.css(d),p.find(".modal-content").html(t),s.resetPosition(u),p.find("outersvg").length||!p.find("[modal-action]").length&&p.find(".modal-scroll").length||p.attr("need-watch",!0),n.notMaskClose&&p.attr("no-mask-close",!0),i&&"function"==typeof i&&i(p),e("#_modal_container").off("hidden.bs.modal"),e("#_modal_container").on("hidden.bs.modal",function(t){e("#_modal_container").remove()}),s.checkModal(),u},s.openByElementStrMsg=function(t,n,i){if("string"!=typeof t)return!1;if(n&&"object"!==_typeof(n))return!1;if(n||(n={}),e("#_modal_msg_container").length){var a=e("#_modal_msg_container"),o="-".concat(n.size?n.size:"lg");a.find(".modal-dialog").addClass(o),a.find(".modal-content").html(t),i&&"function"==typeof i&&i()}else{var r=e('<div id="_modal_msg_container" class="modal"><div class="modal-dialog" animate="animated" animate-in="modal-animate"><div class="modal-content" ></div></div></div>'),c="-".concat(n.size?n.size:"lg");r.find(".modal-dialog").addClass(c),r.find(".modal-content").append(t),r.find(".modal-content").find('[ng-click="cancel()"]').click(function(){e("#_modal_msg_container").modal("hide")}),n.nobg&&r.css("background-color","transparent"),e("body").append(r),i&&"function"==typeof i&&i(),e("#_modal_msg_container").on("hidden.bs.modal",function(t){e("#_modal_msg_container").remove()})}s.checkModal()},s.showToastStr=function(e,t,n){return"string"==typeof e&&((!t||"object"===_typeof(t))&&(t||(t={}),void i[t.type](e,"",t)))},s.close=function(t){if(t)return void e("#".concat(t)).modal("hide");o&&"function"==typeof o&&(o(),o=null),e("#_modal_container").modal("hide")},s.closeMsg=function(){e("#_modal_msg_container").modal("hide"),e("#_modal_container").length&&e("body").addClass("modal-open")},s.showErrorMessage=function(e,t){s.showToastStr(e,{type:"error"},function(){})},s.showSuccessMessage=function(e,t){s.showToastStr(e,{type:"success"},function(){})},s.showWarningMessage=function(e){s.showToastStr(e,{type:"warning"},function(){})},s.showToastMessage=function(e,t,n){n=n||{},t=t||"info",n.type=t,s.showToastStr(e,n,function(){})},s.showVipMessage=function(e,n){n=n||2e3;var i=t.render("alert/vipmessage",{items:{alertmsg:e}});s.openByElementStrMsg(i,{size:"success-box2",nobg:!0},function(){setTimeout(function(){s.closeMsg()},n)})},s.showAppMessage=function(e,n){n=n||2e3;var i=t.render("alert/appmessage",{items:{msg:e}});s.openByElementStrMsg(i,{size:"app-msg-box"},function(){setTimeout(function(){s.closeMsg()},n)})},s.showOperateSuccess=function(e,n,i){e=e||{};var a=t.render("alert/operate_succ",e);s.openByElementStr(a,{size:"w600"},function(){n&&"function"==typeof n&&n()},function(){i&&"function"==typeof i&&i()})},s.checkModal=function(){e("#_modal_container").length&&e("body").addClass("modal-open")},document.body.addEventListener("wheel",function(t){if(e(".modal-open").length&&(t=t||window.event)){var n=e(t.target).closest(".modal-scroll");if(n.length)if(n[0].scrollHeight===n[0].clientHeight);else{if(n[0].scrollTop>0&&n[0].scrollHeight>n[0].scrollTop+n[0].clientHeight)return;if(0===n[0].scrollTop&&t.deltaY>0)return;if(n[0].scrollHeight===n[0].scrollTop+n[0].clientHeight&&t.deltaY<0)return}var i=e(t.target).closest(".modal-dialog");if(i&&i.length){var a=i.height(),o=i.offset().top,r=e(document).scrollTop(),s=o-r,c=parseInt(i.css("top")),l=0,d=0;t.deltaY>0&&(d=t.deltaY,d>20&&(d=20),a+s>e(window).height()-20&&(l=c-d,a+s-l<e(window).height()-20&&(l=a+s-(e(window).height()-20)))),t.deltaY<0&&(d=t.deltaY,d<-20&&(d=-20),s<50&&(l=c-d,s+l>50&&(l=s-50)))}return t.stopPropagation(),t.returnValue=!1,("boolean"!=typeof t.cancelable||t.cancelable)&&t.preventDefault(),!1}},{passive:!1}),e(function(){if(!r.supportTransform){var t=document.documentElement;window.MutationObserver?new MutationObserver(a).observe(t,{childList:!0,subtree:!0,attributes:!0}):e("body").on("DOMSubtreeModified",a),e(window).on("resize",function(e){a([],"resize")})}}),window.modal=s,s}),define("util/loading",["jquery"],function(e){var t={};return t.show=function(){e("#_loading_container").remove();var t=e('<div id="_loading_container" style="background-color:#bcbcbc;position: fixed; height:100%;width:100%;top: 0;left: 0;opacity: 0.58;filter: progid:DXImageTransform.Microsoft.Alpha(opacity=58);z-index: 100000;"> <i class="tic tic-spinner tic-pulse tic-3x" style="color: black; top: 40%;    left: 48%;   position: absolute;"></i> </div>');e("body").append(t)},t.hide=function(){e("#_loading_container").remove()},t.riskshow=function(t){t&&e(".loading-risk .-success-box2").removeClass("hidden").find(".alert-em").html(t),e(".loading-risk").show()},t.riskhide=function(t){t&&e(".loading-risk .-success-box2").addClass("hidden").find(".alert-em").html(""),e(".loading-risk").hide()},t}),define("util/query",["jquery","Cookies"],function(e,t){var n=function(){var t=e("meta[name=tyc-seo]");return!(!t||!t.length)&&"true"===t.attr("content")},i=function(){var t=e.Deferred();return setTimeout(function(){t.reject()},10),t.promise()};window.Cookies=t;var a={getData:function(t,a){return n()?i():e.ajax({url:t,type:"get",cache:!1,timeout:5e3,data:a,dataType:"json"})},get:function(t,a){return new Promise(function(o){if(n())return i();e.ajax({url:t,type:"get",cache:!1,data:a}).then(function(e){o(e)})})},getCloud:function(a,o,r){return new Promise(function(s,c){if(n())return i();var l=e.extend({url:window.cloudServerDomain+a,type:"get",cache:!1,data:o,crossDomain:!0,headers:{version:"TYC-Web","X-AUTH-TOKEN":t.get("auth_token")}},r);return e.ajax(l).then(function(e){s(e)}).fail(function(e){c(e)})})},getSp0:function(a,o){return n()?i():e.ajax({url:window.sp0ServerDomain+a,type:"get",cache:!1,data:o,crossDomain:!0,headers:{version:"TYC-Web","X-Auth-Token":t.get("auth_token")}})},getHtml:function(t,a){return n()?i():e.ajax({url:t,type:"get",cache:!1,data:a,statusCode:{505:function(){window.location.href="".concat(window.serverDomain,"/black")},501:function(){window.location.href="".concat(window.antirobotServer,"/captcha/verify?return_url=").concat(encodeURIComponent(window.location.href),"&rnd=")},401:function(){window.location.href="".concat(window.serverDomain,"/login?from=").concat(encodeURIComponent(window.location.pathname))},403:function(){if(-1===t.indexOf("companyholder")){var n="network(403) url:".concat(t),i=document.getElementById("top_error_div");i||(i=document.createElement("div"),i.id="top_error_div",document.body.insertBefore(i,document.body.firstChild),i.style="width: 100vw;font-size: 14px;color: #202020;background:#fff8d9;padding: 12px;text-align:center;position:fixed;margin-top:-44px;z-index:2000",document.body.style="padding-top:44px");var a=[];a.push('<i class="tic tic-exclamation-circle" style="color:#ef5644 "></i>È°µÈù¢Âá∫Èîô‰∫Ü:'),a.push('<span style="line-height1.5;max-width: 400px;display:inline-block;word-break: keep-all;word-wrap: normal;overflow: hidden;text-overflow: ellipsis;white-space: nowrap;    line-height: 14px;">'.concat(n,"</span>")),a.push('<a href="javascript:window.location.reload(true)" style="color:#ef5644;margin-left: 100px;" ><i class="tic tic-refresh" ></i>Âà∑Êñ∞ËØïËØï</a>'),i.innerHTML=a.join(""),setTimeout(function(){e("#top_error_div").animate({display:"none"},500),e("body").animate({"padding-top":"0px"},500),e("#top_error_div").remove()},500)}}}})},postHtml:function(a,o){if(n())return i();var r=t.get("csrfToken");return r&&(o.xyz=r),e.ajax({url:a,type:"post",cache:!1,data:o,headers:{version:"TYC-Web","X-AUTH-TOKEN":t.get("auth_token")},statusCode:{505:function(){window.location.href="".concat(window.serverDomain,"/black")},501:function(){window.location.href="".concat(window.antirobotServer,"/captcha/verify?return_url=").concat(encodeURIComponent(window.location.href),"&rnd=")},401:function(){window.location.href="".concat(window.serverDomain,"/login?from=").concat(encodeURIComponent(window.location.pathname))},403:function(){if(-1===a.indexOf("companyholder")){var t="network(403) url:".concat(a),n=document.getElementById("top_error_div");n||(n=document.createElement("div"),n.id="top_error_div",document.body.insertBefore(n,document.body.firstChild),n.style="width: 100vw;font-size: 14px;color: #202020;background:#fff8d9;padding: 12px;text-align:center;position:fixed;margin-top:-44px;z-index:2000",document.body.style="padding-top:44px");var i=[];i.push('<i class="tic tic-exclamation-circle" style="color:#ef5644 "></i>È°µÈù¢Âá∫Èîô‰∫Ü:'),i.push('<span style="line-height1.5;max-width: 400px;display:inline-block;word-break: keep-all;word-wrap: normal;overflow: hidden;text-overflow: ellipsis;white-space: nowrap;    line-height: 14px;">'.concat(t,"</span>")),i.push('<a href="javascript:window.location.reload(true)" style="color:#ef5644;margin-left: 100px;" ><i class="tic tic-refresh" ></i>Âà∑Êñ∞ËØïËØï</a>'),n.innerHTML=i.join(""),setTimeout(function(){e("#top_error_div").animate({display:"none"},500),e("body").animate({"padding-top":"0px"},500),e("#top_error_div").remove()},500)}}}})},post:function(t,a){return n()?i():e.ajax({cache:!1,method:"post",contentType:"application/json; charset=utf-8",url:t,datatype:"json",data:JSON.stringify(a)})},pvPost:function(t,a){return a=a||{},n()?i():(e('meta[name="tyc-id"]').attr("content")&&(a.tyc_id=e('meta[name="tyc-id"]').attr("content")),e.ajax({cache:!1,method:"post",crossDomain:!0,contentType:"application/json; charset=utf-8",url:t,xhrFields:{withCredentials:!0},datatype:"json",data:JSON.stringify(a)}))},postForm:function(t,a){return n()?i():e.ajax({cache:!1,method:"post",url:t,datatype:"json",data:a})},pvPostForm:function(t,a){return a=a||{},n()?i():(e('meta[name="tyc-id"]').attr("content")&&(a.tyc_id=e('meta[name="tyc-id"]').attr("content")),e.ajax({cache:!1,method:"post",url:t,xhrFields:{withCredentials:!0},crossDomain:!0,datatype:"json",data:a}))},postCloud:function(a,o){return n()?i():e.ajax({cache:!1,method:"post",contentType:"application/json; charset=utf-8",url:window.cloudServerDomain+a,datatype:"json",data:JSON.stringify(o),crossDomain:!0,headers:{version:"TYC-Web","X-AUTH-TOKEN":t.get("auth_token")}})},postCloudForm:function(a,o){return n()?i():e.ajax({cache:!1,method:"post",url:window.cloudServerDomain+a,datatype:"json",data:o,crossDomain:!0,headers:{version:"TYC-Web","X-AUTH-TOKEN":t.get("auth_token")}})},serializeArrayObj:function(e){for(var t={},n=0;n<e.length;n++){var i=e[n];t[i.name]?(t[i.name]=[t[i.name]],t[i.name].push(i.value)):t[i.name]=i.value}return t},sendParamFz:function(e){return a.get(e)},getPaginationByType:function(e,t){return a.getHtml("/pagination/".concat(e,".xhtml"),t)},getNewJudicialCase:function(e){return a.getHtml("/pagination/newJudicialCase.xhtml",e)},getConcernList:function(e){return a.getHtml("/follow/concernPage.html",e)},getWatchList:function(e){return a.getHtml("/watch/watchPageList.html",e)},getInvoiceRecordList:function(e){return a.getHtml("/user/invoiceRecordList.html",e)},getInvoiceList:function(e){return a.getHtml("/user/invoiceList.html",e)},getVisitorsList:function(e){return a.getHtml("/user/visitorsList.html",e)},getAnnouncementList:function(e){return a.getHtml("/user/announcementList.html",e)},getPrivatemsgList:function(e){return a.getHtml("/user/privatemsgList.html",e)},getfranchiseDetail:function(e){return a.getHtml("/franchise.html",e)},getNewsByPage:function(e){return a.getHtml("/pagination/news.html",e)},getCompanyHolderRight:function(e){return a.getHtml("/company/companyholder.xhtml",e)},getStockTabByType:function(e,t){return a.getHtml("/stock/".concat(e,".xhtml"),t)},Index_receiveFeedback:function(e,t,n){return a.post("/feedback.json",{content:e,email:t,picUrl:n})},Index_getNewest:function(e){return a.getData("/newest.json",{ps:e})},home_getNewestHtml:function(e){return a.getHtml("/newest.html",{ps:e})},home_getActivityList:function(){return a.getData("/activity.json")},home_getBottomBanner:function(){return a.getData("/banner.json")},index_suggest:function(e){return a.getData("/search/suggest.json",{key:e})},findex_suggest:function(e){return a.getSp0("/search/suggestV2.json",{key:e})},index_human_suggest:function(e){return a.getData("/search/humanSuggest.json",{key:e})},Expanse_getRelatedHuman:function(e){return a.getData("relation/getRelatedHuman.json",{id:e})},userGetTagList:function(){return a.getData("/follow/getTagList.json?_t=".concat((new Date).getTime()))},userCancelFollowOrMonitor:function(e,t){var n="/follow/userCancelFollowOrMonitor.json?id=".concat(e);return t&&(n+="&flag=".concat(t)),a.getData(n)},userGetFollowList:function(e,t,n){var i="/follow/userGetFollowList.json?pageSize=10&tags=".concat(t,"&flag=").concat(e,"&pageNum=").concat(n,"&_t=").concat((new Date).getTime());return a.getData(i)},userMoveFollowList:function(e,t){t=t?encodeURIComponent(t):"";var n="/follow/userMoveFollowList.json?id=".concat(e,"&tag=").concat(t);return a.getData(n)},userDelFollowTag:function(e,t){var n="/follow/userDelFollowTag.json";return n+="?defaultId=".concat(e,"&delId=").concat(t),a.getData(n)},userAddFollowTag:function(e){return a.getData("/follow/addFollowTag.json",e)},userEditFollowTag:function(e,t){e=encodeURIComponent(e);var n="/follow/userEditFollowTag.json";return n+="?tagName=".concat(e,"&id=").concat(t),a.getData(n)},doFollowOrMonitor:function(e,t){var n="/follow/doFollowOrMonitor.json?id=".concat(e);return t&&(n+="&tagId=".concat(t)),a.getData(n)},getOrderList:function(e){return a.post("/order/getOrderList.json",e)},getEquityById:function(e){return a.getData("/equity/equityratio.json?id=".concat(e))},haveEquityPermissionById:function(e){return a.getData("/equity/haveEquityPermission.json?id=".concat(e))},haveEBSPermissionById:function(e){return a.getCloud("/cloud-equity-provider/v4/hold/beneHolders?id=".concat(e))},getEquityDetailById:function(e){return a.getData("/equity/equitydetail.json?id=".concat(e))},getReportOrderInfo:function(e){return a.getData("/report/getReportOrderInfo.json?type=".concat(e))},userLogout:function(){return a.getData("/user/userLogout.json")},beforeVipOrder:function(e,t,n){return a.getData("/order/preorder.json",{state:e,inviteCode:t,targetMobile:n})},preVipOrder:function(e){return a.getData("/order/previporder.json",e)},preRenewVipOrder:function(e){return a.getData("/order/preRenewVipOrder.json",e)},preVipBussinessOrder:function(e){return a.getData("/order/previpbussinessorder.json",e)},preRubyVip:function(e){return a.getData("/order/preRubyVip.json",e)},dataResendMail:function(e){return a.post("/report/dataServiceresendMail.json",e)},reportResendMail:function(e){return a.postCloud("/cloud-c-report/services/v3/reportV2/sendmail",e)},getShortestPath:function(e,t,n,i){return a.getData("/relation/shortpath.json",{fromCompanyGid:e,fromHumanGid:t,toCompanyGid:n,toHumanGid:i})},Index_hotHuman:function(){return a.getData("/v2/hotHuman.json")},Company_receiveFeedback:function(e,t,n,i,o,r){return a.post("/company/feedback.json",{companyName:e,companyId:t,content:n,phone:i,name:o,picUrl:r})},Company_receiveFeedback_uploadImg:function(e,t,n,i,o,r,s,c){return a.post("/company/feedbackUploadImg.json",{companyName:e,companyId:t,content:n,phone:i,name:o,picUrls:r,userTypeExt:s,userType:c})},sendSMSCode:function(e,t,n,i){
return a.post("/verify/sms.json?p=".concat(e),{phone:e,type:t,funtype:n,challenge:i.geetest_challenge,validate:i.geetest_validate,seccode:i.geetest_seccode})},sendSMSCodeWithTelephone:function(e,t,n,i){return a.post("/verify/smsTelephone.json?p=".concat(e),{phone:e,type:t,funtype:n,challenge:i.geetest_challenge,validate:i.geetest_validate,seccode:i.geetest_seccode})},sendSMSCodeWithTelephoneByDun:function(e,t,n,i){return a.post("/verify/smsTelephoneByDun.json?p=".concat(e),{phone:e,type:t,validata:i})},sendSMSCodeXhtml:function(e,t,n){return a.post("/verify/sms.xhtml",{phone:e,type:t,funtype:n})},getLocationByName:function(e){return a.getData("/getLocation.json",{key:encodeURIComponent(e)})},deepSearch:function(e,t){return a.getData("/deepSearch.json",{word:e,base:t.toLowerCase()})},addRealTime:function(e,t){return a.getData("/addRealtime.json",{word:e,base:t.toLowerCase()})},applySMSCode:function(e,t){return a.post("/verify/apply/sms.json?p=".concat(e),{phone:e,challenge:t.geetest_challenge,validate:t.geetest_validate,seccode:t.geetest_seccode})},applyStdSMSCode:function(e,t){return a.post("/verify/std/sms.json?p=".concat(e),{phone:e,challenge:t.geetest_challenge,validate:t.geetest_validate,seccode:t.geetest_seccode})},channelApply:function(e){return a.post("/channel/media.json",e)},channelBusiness:function(e){return a.post("/channel/business.json",e)},channelLawyer:function(e){return a.post("/channel/lawyer.json",e)},channelInvestor:function(e){return a.post("/channel/investor.json",e)},channelRecruit:function(e){return a.post("/huodong/recruitapply.json",e)},channelPro:function(e){return a.post("/channel/pro.json",e)},pwdReset:function(e){return a.post("/user/pwdReset.json",e)},weiXinPayInfo:function(e){return a.getData("/order/pay/weixin.json",{orderId:e})},weiXinPayPolling:function(e){return a.getData("/order/polling/weixin.json",{orderId:e})},alipayInfo:function(e,t){return a.getData("/order/pay/ali.json",{orderId:e,levelUp:t||0})},getUserInfo:function(){return a.getData("/user/info.json")},getStockPdf:function(e){return a.getData("/stock/getAnnouncementPdf.json?id=".concat(e))},getAnnouncementPdfUrl:function(e){return a.getData("/stock/getAnnouncementPdfUrl.json",e)},getAnnouncementPdfByUuid:function(e){return a.getData("/stock/getAnnouncementPdfByUuid.json",e)},getStockVolatility:function(e){return a.getData("/stock/stockVolatility.json?id=".concat(e))},shareholder:function(e,t,n,i){var o="/stock/shareholder.json";return o+="?graphId=".concat(e,"&type=").concat(t),n&&(o+="&time=".concat(n)),i&&(o+="&index=".concat(i)),a.getData(o)},getUpdateTime:function(e){return a.getData("update/updatetime.json?id=".concat(e,"&random=").concat((new Date).getTime()))},addToUpdateImmediatelyTimeQueue:function(e,t,n){return a.getData("update/timeQueue.json?id=".concat(e,"&reg=").concat(t,"&base=").concat(n))},geetestConfig:function(){return a.post("/verify/geetest.xhtml",{uuid:(new Date).getTime()+""})},cd_reg:function(e){return a.post("/cd/reg.json",e)},cd_login:function(e){return a.post("/cd/login.json",e)},wapLogin:function(e){return a.post("/cd/login/wap.json",e)},cd_reset:function(e){return a.post("/cd/cdreset.json",e)},getOrderNorCreat:function(e){return a.postCloud("/cloud-c-report/services/v3/reportV2/createOrderWeb",e)},getOrderCreat:function(e){return a.post("/order/getOrderCreat.json",e)},createSearchOrder:function(e,t){return a.post("/order/createSearchOrder.json",{key:e,data:t})},getOrderHumanPrice:function(e){return a.getData("/order/getOrderHumanPrice.json",e)},footer_complaint:function(e){return a.post("/footer/complaint.json",e)},getWeixinJsSdkConfig:function(e){return a.getData("/wxApi/getJsSdkConfig.json",{url:e})},sendPV:function(e){return a.pvPost("https://pv.tianyancha.com/pv?url=".concat(encodeURIComponent(e)))},sendPSV:function(e,t,n,i,o,r,s,c,l){return a.pvPostForm("https://pv.tianyancha.com/sv",{name:e,cid:s,keywords:t,pageNo:n,position:i,mobile:o,category:r,type:c,modifiedQuery:l})},postUserInfo:function(e){return a.getData("/user/setUserInfo.json",e)},getRiskNum:function(e){return a.getData("/risk/riskNum.json",e)},getRiskInfo:function(e){return a.getHtml("/risk/riskInfo.html",e)},getRiskDetail:function(e){return a.getHtml("/risk/riskDetail.html",e)},getRiskInfoNew:function(e){return a.getHtml("/risk/riskInfoNew.html",e)},getRiskDetailNew:function(e){return a.getHtml("/risk/riskDetailNew.html",e)},haveRiskPermissionByType:function(e){return a.getData("/risk/havePermission.json",e)},getHumanRiskInfo:function(e){return a.getHtml("/risk/humanRiskInfo.html",e)},getCertificateInfo:function(e){return a.getData("/company/certificateDetail.json",e)},getjudicialAidDetail:function(e){return a.getData("/company/judicialAidDetail.json",e)},getEquityInfo:function(e){return a.getData("/company/getCompanyEquityInfoById.json",e)},getLandPublicityDetail:function(e){return a.getData("/company/getLandPublicityDetail.json",e)},getLandTransferDetail:function(e){return a.getData("/company/getLandTransferDetail.json",e)},getLandMortgageDetail:function(e){return a.getData("/company/getLandMortgageDetail.json",e)},getTaxContraventionDetail:function(e){return a.getData("/company/getTaxContraventionDetail.json",e)},getConstructQualificationDetail:function(e){return a.getCloud("/cloud-newdim/construct/getQualificationDetail.json",e)},getConstructHumanDetail:function(e){return a.getCloud("/cloud-newdim/construct/getRegHumanDetail.json",e)},getConstructHumanDetailPage:function(e){return a.getCloud("/cloud-newdim/construct/getRegHumanDetailPage.json",e)},getConstructProjectDetailPage:function(e){return a.getCloud("/cloud-newdim/construct/getProjectDetailPage.json",e)},getConstructProjectDetail:function(e){return a.getCloud("/cloud-newdim/construct/getProjectDetail.json",e)},getConstructBadConductDetail:function(e){return a.getCloud("/cloud-newdim/construct/getConductDetail.json",e)},getConstructGoodConductDetail:function(e){return a.getCloud("/cloud-newdim/construct/getConductDetail.json",e)},getEquityPledgeDetailDetail:function(e){return a.getCloud("/cloud-newdim/companyBusinessRisk/stockPledge/detail.json",e)},getEquityPledgeSharehdDetail:function(e){return a.getCloud("/cloud-newdim/companyBusinessRisk/stockPledge/shareholderDetail.json",e)},getLicenseCancelDetail:function(e){return a.getCloud("/cloud-newdim/company/licenseInvalid.json",e)},getDoubleRandomCheckDetail:function(e){return a.getCloud("/cloud-newdim/company/doubleRandomCheckDetail.json",e)},getCustomerCaseDetail:function(e){return a.getCloud("/cloud-company-background//company/lawfirm/customer/case.json",e)},getTmDetail:function(e){return a.getData("/company/tmDetail.json",e)},getCustomerNamePage:function(e){return a.getHtml("/lawfirmpagination/customerNamePage.html",e)},searchSyncCompany:function(e,t){var n="";return n=t?"/search/".concat(t,"/company.html"):"/search/company.html",a.getHtml(n,{key:e})},searchSyncHuman:function(e){return a.getHtml("/search/human.html",{humanName:e})},getAllPermission:function(e){return a.getData("/doctor/getAllPermission.json",e)},getChangePaginationById:function(e){return a.getHtml("/app/pagination/changeinfo.html",e)},getChangeItemById:function(e){return a.getHtml("/app/changeitem.html",e)},getCorePersonById:function(e){return a.getHtml("/pagination/coreperson.xhtml",e)},getMemberByPage:function(e){return a.getHtml("/business/memberPage.html",e)},saveMember:function(e){return a.getData("/business/saveMember.json",e)},delMember:function(e){return a.getData("/business/delMember.json",e)},getReceiptInfo:function(e){return a.getData("/receipt/getReceiptInfo.json",e)},vipReceiptSubmit:function(e){return a.post("/receipt/vipReceiptSubmit.json",e)},invoiceSubmt:function(e){return a.post("/receipt/invoiceSubmt.json",e)},getVipPopPage:function(e){return a.getHtml("/vip/vipPopPage.html",e)},getVipOrder:function(e){return a.getData("/vip/getVipOrder.json",e)},getVipPrice:function(e){return a.getData("/vip/getVipPrice.json",e)},getRubyPopPage:function(e){return a.getHtml("/vip/rubyPopPage.html",e)},getRubyPopPageNew:function(e){return a.getHtml("/vip/rubyPopPageNew.html",e)},gifDown:function(e){return a.post("/timeline/".concat(e,"/gif.xhtml"),{companyId:e})},humanPngDown:function(e,t){return a.post("/human/".concat(e,"-").concat(t,"/png.xhtml"),{companyId:t})},claimApplySubmit:function(e){return a.post("/claim/claimApplySubmit.json",e)},claimApplySubmitProxy:function(e){return a.post("/claim/claimApplySubmitProxy.json",e)},claimSavePreview:function(e){return a.post("/claim/savePreview.json",e)},getClaimList:function(e){return a.getHtml("/claim/getClaimList.html",e)},getProjectPaginationByType:function(e,t){return a.getHtml("/pagination_brand/".concat(e,".xhtml"),t)},getOrganizePaginationByType:function(e,t){return a.getHtml("/pagination_organize/".concat(e,".xhtml"),t)},getOrganizeAnalysis:function(e){return a.getData("organize/analysisModal.json",e)},saveUserNick:function(e){return a.post("/user/nickname.json",e)},saveUserRealName:function(e){return a.post("/user/realName.json",e)},sendContactCard:function(e){return a.post("/contact/sendCard/".concat(e.companyId,".json"),e)},sendContactMultiCard:function(e){return a.post("/contact/sendMultiCard.json",e)},companyContactCount:function(e,t,n){return n=n||1,a.getHtml("/contact/company/".concat(e,".json"),{companyId:e,type:t,pn:n})},companyContactList:function(e,t,n){return n=n||1,a.getHtml("/contact/company/".concat(e,"/").concat(t,".json"),{pn:n})},contact_markRead:function(e,t){return a.post("/contact/markRead/".concat(e,".json"),{ids:[t]})},contact_markReadAll:function(e,t){return a.post("/contact/markReadAll/".concat(e,".json"),{ids:t})},contact_prompt:function(){return a.getData("/contact/prompt")},company_add_comment:function(e,t){return a.post("/discuss/".concat(e,"/comment.json"),{companyId:e,content:t})},company_do_approval:function(e){return a.post("/discuss/".concat(e,"/approval.json"),{companyId:e})},companyDiscussCount:function(){return new Promise(function(e){e()})},companyDiscussComment:function(e,t,n){return a.getData("/discuss/".concat(e,"/comment_list.json"),{companyId:e,pn:t,ps:n})},companyDiscussCommentAll:function(e,t){return a.getData("/discuss/".concat(e,"/comment_list_all.json"),{companyId:e,pn:t})},companyDiscussApproval:function(e,t){return a.getData("/discuss/".concat(e,"/approval_list.json"),{companyId:e,pn:t})},companyDiscussApprovalAll:function(e,t){return a.getData("/discuss/".concat(e,"/approval_list_all.json"),{companyId:e,pn:t})},stock_suggest:function(e){return a.getData("/announcement/suggest.json",{kw:e})},claimIsJump:function(e){return a.post("/claim/isjump.json",e)},claimDetail:function(e){return a.getData("/claim/detail.json",{id:e})},fapiaoTaitou:function(e){return a.getData("/cloud-wechat/qrcode.json",{gid:e})},saveTaitou:function(e){return a.getData("/savefptt.json",e)},getDiscountInfo:function(e){return a.getData("/vip/getDiscountInfo.json",e)},getVipPriceList:function(e){return a.getData("/vip/getVipPriceList.json",e)},getVipAcitity:function(){return a.getData("/vip/getVipAcitity.json")},getVipRenewOrder:function(e){return a.getData("/vip/getRenewVipOrder.json",e)},getUseReport:function(e){return a.getData("/user/getUseReport.json",e)},setWatchEmail:function(e){return a.getCloud("/cloud-monitor-provider/v4/monitor/modifyEmail.json",e)},checkWatchEmail:function(e){return a.getCloud("/cloud-monitor-provider/v4/monitor/checkEmail.json",e)},modifyMonitor:function(e){return a.getCloud("/cloud-monitor-provider/v4/monitor/modifyMonitor.json",e)},getEntityReport:function(e){return a.getHtml("/watch/getEntityReport.html",e)},getWatchTimeLine:function(e){return a.getHtml("/watch/getWatchTimeLine.html",e)},checkMonitorTip:function(e){return a.getCloud("/cloud-monitor-provider/v4/monitor/checkMonitorTip.json",e)},readMonitorTip:function(e){return a.getCloud("/cloud-monitor-provider/v4/monitor/readMonitorTip.json",e)},setReportRead:function(e){return a.getCloud("/cloud-monitor-provider/v4/monitor/setReportRead.json",e)},getWatchTimelineList:function(e){return a.getHtml("/watch/watchTimelinePageList.html",e)},getUserIsVip:function(e){return a.getData("/user/getUserIsVip.json",e)},getHidByName:function(e){return a.getData("/human/getHidByName.json",e)},getRelatedBossOrganize:function(e){return a.getHtml("/pagination/relatedBossOrganize.html",e)},getNoBossButRecommend:function(e){return a.getHtml("/pagination/noBossButRecommend.html",e)},getClaimEmail:function(e){return a.getData("/claim/getEmail.json",e)},sendClaimEmailCode:function(e){return a.getData("/claim/sendEmailCode.json",e)},validateClaimEmailCode:function(e){return a.getData("/claim/validateEmailCode.json",e)},getClaimMobile:function(e){return a.getData("/claim/getMobile.json",e)},sendClaimMobileCode:function(e){return a.post("/claim/sendMobileCode.json",e)},validateClaimMobileCode:function(e){return a.getData("/claim/validateMobileCode.json",e)},get_push_msgList:function(e,t){return a.getCloud("/cloud-msg-center/v4/push/msgList",{pageNum:e,pageSize:t})},question_addQuestion:function(e,t,n,i){return a.postCloud("/cloud-discuss/service/v2/question/addQuestion",{targetId:e,content:t,targetType:n||1,relationCompany:i})},pic_question_add:function(e,t,n,i,o,r){return a.postCloud("/cloud-discuss/service/pic/question/addQuestion",{targetId:e,content:t,targetType:n||1,relationCompany:i,description:o||"",pictures:r||[]})},pic_question_add_new:function(e,t,n,i,o,r){return a.postCloud("/cloud-discuss/service/pic/question/add",{targetId:e,content:t,targetType:n||1,relationCompany:i,userShowType:o||"",pictures:r||[]})},answer_addAnswer:function(e,t){return a.postCloud("/cloud-discuss/service/v2/answer/addAnswer",{questionId:e,content:t})},answer_thumbsUp:function(e,t){return a.getCloud("/cloud-discuss/service/v2/answer/thumbsUp",{id:e,type:t||2})},question_getReportType:function(e){return a.getCloud("/cloud-discuss/service/question/getReportType",{id:e})},report_qa:function(e,t,n){return a.getCloud("/cloud-discuss/service/question/report",{targetType:e,targetId:t,reportType:n})},msg_setAllRead:function(e){return a.getCloud("/cloud-msg-center/v4/push/setAllRead",{type:e})},getClaiminfoByType:function(e){return a.getHtml("/pagination/getClaiminfoByType.xhtml",e)},discuss_declinedInvite:function(e){return a.getCloud("/cloud-discuss/service/discuss/declinedInvite",{questionId:e})},answer_discussDetail:function(e,t,n,i,o){return a.getCloud("/cloud-discuss/service/v2/discuss/discussDetail/userCenter",{questionId:e,pageNum:t,pageSize:n,relationType:i,enterType:o||""})},answer_del:function(e){return a.getCloud("/cloud-discuss/service/answer/del",{answerId:e})},random_question:function(e){return a.getCloud("/cloud-discuss/service/question/commend",{id:e})},getMapListByPoint:function(e){return a.getHtml("/map/getListByPoint.html",e)},getMapListByGid:function(e){return a.getHtml("/map/getListByGid.html",e)},batch_getExcelList:function(e){return a.getCloud("/cloud-third-party/batchSearch/getExcelList",{excelId:e})},batch_reedit:function(e,t,n){return a.getCloud("/cloud-third-party/batchSearch/reedit",{excelId:e,name:n,rowId:t})},batch_export:function(e){return a.getCloud("/cloud-third-party/batchSearch/export",{excelId:e})},batch_allowImport:function(){return a.getCloud("/cloud-third-party/batchSearch/allowImport")},getNavHeader:function(e){return a.getHtml("/user/getNavHeader.html",e)},getHomeNavHeader:function(e){return a.getHtml("/user/getHomeNavHeader.html",e)},getReport_billState:function(e){return a.getData("/user/report_billState.json",{id:e})},getCompanyQuestionListHotPro:function(e){return a.getHtml("/pagination/company_own/question_hotPro.xhtml",e)},setOwnerExplainList:function(e){return a.getData("/claim/setOwnerExplainList.json",e)},claim_getShowCase:function(e){return a.getData("/claim/getShowCase.json",{pageSize:e.pageSize||32,label:e.label||""})},claim_getHomePageShowCase:function(e){return a.getData("/claim/getHomePageShowCase.json",{pageSize:e.pageSize||32,label:e.label||""})},claim_getLabels:function(){return a.getData("/claim/getLabels.json",{})},user_set_announcement:function(e,t,n,i,o,r){return a.postCloud("/cloud-monitor-provider/userCenter/addAnnouncement.json",{title:e,content:t,companyGid:n,companyName:i,announcementId:r,operateType:o})},user_del_announcement:function(e){return a.getCloud("/cloud-monitor-provider/userCenter/deleteAnnouncement.json",{announcementId:e})},getDimInfoDetails:function(e){return a.getData("/search/getDimInfoDetails.json",{list:JSON.stringify(e.list)})},getNicknameTips:function(e){return a.getData("/user/getNicknameTips.json",e)},getClaimOwnerPopup:function(e){return a.getData("/user/getClaimOwnerPopup.json",e)},checkLegalWord:function(e){return a.getData("/claim/checkLegalWord.json",e)},getClaimRepayOrder:function(e){return a.getData("/claim/getRepayOrder.json",e)},setReportAllRead:function(){return a.getCloud("/cloud-monitor-provider/v4/monitor/setReportAllRead.json")},setContactCardAllRead:function(e){return a.getData("/user/setContactCardAllRead.json",e)},getForward:function(e,t,n){return a.postCloud("/cloud-share/service/forward",{type:e,companyId:t,humanId:n})},getAnswerReplyList:function(e,t){return a.getCloud("/cloud-discuss/service/v2/answer/replyList/examine",{answerID:e,pageSize:t})},setAnswerAddReply:function(e,t,n,i){return a.postCloud("/cloud-discuss/service/v2/answer/addReply",{answerId:e,content:t,educationShow:n,companyShow:i})},getPrivateMsgChat:function(e,t){return a.getCloud("/cloud-discuss/privateMsg/getChat",{targetUserId:e,pageNum:t||1,pageSize:10})},sendPrivateMsg:function(e,t){return a.getCloud("/cloud-discuss/privateMsg/sendMsg",{targetUserId:e,content:t})},havePrivateMsgPermission:function(e,t){return a.postCloud("/cloud-discuss/privateMsg/sendPrivateMsg",{targetUserId:e,content:t})},getPrivateMsgUserInfo:function(e){return a.getCloud("/cloud-discuss/privateMsg/targetUserInfo",{targetUserId:e})},getPrivateMsgredPoint:function(e){return a.getCloud("/cloud-discuss/privateMsg/redPoint",{targetUserId:e})},setPrivatemsgAllRead:function(){return a.getCloud("/cloud-discuss/privateMsg/makeAllRead")},delPrivatemsgByUserid:function(e){return a.getCloud("/cloud-discuss/privateMsg/delChat",{targetUserId:e})},replyDel:function(e){return a.getCloud("/cloud-discuss/service/v2/reply/del?replyID=".concat(e))},questionCommend:function(e,t,n,i){return a.getCloud("/cloud-discuss/service/v2/question/commend",{id:e,type:t||1,pageNum:n||1,pageSize:i||5})},questionCommendV2:function(e,t,n,i){return a.getCloud("/cloud-discuss/service/v2/question/commendV2",{id:e,type:t||1,pageNum:n||1,pageSize:i||5})},aboutCompany:function(e,t){return a.getCloud("/cloud-discuss/service/v2/discuss/aboutCompany",{id:e,type:t||1})},answerReadReply:function(e){return a.getCloud("/cloud-discuss/service/v2/answer/readReply",{answerID:e})},v2QuestionDel:function(e){return a.getCloud("/cloud-discuss/service/v2/question/del",{questionID:e})},discussList:function(e,t,n,i,o){return a.getCloud("/cloud-discuss/discuss/v1/group",{id:e,type:t,pageSize:n,pageNum:i,childNum:o})},downloadPreviewImg:function(e){return a.getData("/qa/download/previewImg",{url:e})},recommendDiscussList:function(e){return a.getCloud("/cloud-discuss/discuss/v1/recommend/group",{size:e})},questionListCompany:function(e,t,n,i,o){return a.getCloud("/cloud-discuss/service/pic/question/group",{id:e,type:t,answerNum:n,pageNum:i,pageSize:o})},v2DiscussHotPro:function(e,t,n,i,o){return a.getCloud("/cloud-discuss/service/v2/hotDiscuss4PC",{excludeId:e,targetType:t,answerNum:n,pageNum:i,pageSize:o||3})},v2DiscussTimeline:function(e,t,n){return a.getCloud("/cloud-discuss/service/v2/discuss/timeline",{excludeId:e,targetType:t,pageSize:n||3})},youLikePC:function(e,t,n,i){return a.getCloud("/cloud-discuss/service/v2/discuss/timeline",{excludeId:e,targetType:t,pageNum:n||1,pageSize:i||3})},writtenOff:function(e){return a.getData("/user/getwrittenoff.json",e)},company_panel:function(e){return a.getHtml("/company/company_panel.xhtml",{id:e})},dishonest_risk:function(e){return a.getHtml("/dishonest/risk.xhtml",{id:e})},company_tab:function(e,t){return a.getHtml("/company/company_tab.html",{id:e,activeTab:t})},company_risk:function(e){return a.getHtml("/company/company_risk.xhtml",{id:e})},company_holder_holding_analysis:function(e){return a.getHtml("/company/holder_holding_analysis.xhtml",{id:e})},companyVolatilityNum:function(e,t){return a.getHtml("/company/volatility_num.xhtml",{id:e,type:t})},company_monitor_checkMonitor:function(e){return a.getCloud("/cloud-monitor-provider/v4/monitor/checkMonitor.json",{type:1,gid:e})},get_monitor_checkMonitor:function(e){return a.getCloud("/cloud-monitor-provider/v4/monitor/checkMonitor.json",e)},questionYouLike:function(e,t){return a.getCloud("/cloud-discuss/service/v2/guess/questionYouLike",{pageNum:e,pageSize:t||4})},getClaimOrderId:function(e){return a.getData("/claim/getOrderId.json",e)},sendClaimConsult:function(e){return a.getData("/claim/sendClaimConsult.json",e)},user_set_promote:function(e){return a.post("/user/setPromote.json",e)},getPromoteList:function(e){return a.getHtml("/company/getPromoteList.html",e)},getVisitorsChartWeek:function(e){return a.getCloud("/cloud-monitor-provider/userCenter/getVisitorsChartWeek.json",{companyGid:e})},getOwnerClaimInfo:function(e){return a.getData("/claim/getOwnerClaimInfo.json",e)},haveHumanVipRight:function(e){return a.getData("/human/haveHumanVipRight.json",e)},getRiskList:function(e){return a.getHtml("/lawsuit/getRiskList.html",e)},getLawyerBanner:function(e){return a.getCloud("/cloud-newdim/index/dimensionImportFlow",e)},getGuideInformation:function(e){return a.getCloud("/cloud-other-information/guide/shuffling",{type:e||1})},trademarkCommendList:function(e,t,n){return a.getCloud("/cloud-third-party/trademark/commend/list",{id:e,pageSize:n||30,pageNum:t||1})},human_company_holder:function(e,t,n,i){return a.getHtml("/human/human_company_holder.xhtml",{id:"".concat(e+"","-c").concat(t+""),pn:n,ps:i})},ciaCarousel:function(e){return a.getCloud("/cloud-cia-provider/cia/carousel",{gid:e})},baidu_claim_uploadInfo:function(e){return a.postCloud("/cloud-third-party/baidu/claim/uploadInfo",e)},baidu_claim_uploadLicenceInfo:function(e){return a.postCloud("/cloud-third-party/baidu/claim/uploadLicenceInfo",e)},baidu_claim_provinceInfo:function(){return a.getCloud("/cloud-third-party/baidu/claim/provinceInfo")},baidu_claim_cityInfo:function(e){return a.getCloud("/cloud-third-party/baidu/claim/cityInfo",{areaId:e})},getZhixingDetail:function(e){return a.getCloud("/cloud-newdim/company/getZhixingDetail.json",{zid:e})},getDishonestinfoDetail:function(e){return a.getCloud("/cloud-newdim/company/getDishonestinfoDetail",{did:e})},getMortgageInfoDetail:function(e){return a.getCloud("/cloud-operating-risk/operating/chattelMortgage/getMortgageDetail",{businessId:e})},getPunishDetail:function(e){return a.getCloud("/cloud-operating-risk/operating/punishment/getPunishmentInfoDetail",{businessId:e})},getBankruptcyDetail:function(e){return a.getCloud("/cloud-judicial-risk/bankruptcy/detail",e)},getBankruptcyAnnouncementDetail:function(e){return a.getCloud("/cloud-judicial-risk/bankruptcy/announcement",e)},getBankruptcyDocumentDetail:function(e){return a.getCloud("/cloud-judicial-risk/bankruptcy/document",e)},getEndCaseDetail:function(e){return a.getCloud("/cloud-newdim/company/getFinalCaseDetail",e)},getRelationId:function(e){return a.getData("/relation/getRelationId.json",e)},contact_count:function(e){return a.getData("/contact/getCount.json",{id:e})},usercenterUniteList:function(e,t,n,i){return a.getData("/claim/usercenterUniteList.json",{pn:e||1,ps:t||6,pricingPackage:n||3,source:i||1})},getHotNewsList:function(e,t,n,i){return a.getCloud("/cloud-yq-news/company/detail/publicmsg/news/hot",{id:e,type:t,ps:n||10,pn:i||1})},getDeadbeatSexAndYear:function(){return a.getCloud("/cloud-newdim/deadbeat/getDeadbeatSexAndYear")},claimOopUnreadCount:function(e){return a.getData("/contact/companyCount.json",{id:e})},claimVerifyMobileCode:function(e){return a.getData("/claim/claimVerifyMobileCode.json",e)},baiduClaimCanFree:function(){return a.getCloud("/cloud-third-party/baidu/claim/canFree")},questionReportV2:function(e){return a.postCloud("/cloud-discuss/service/question/reportV2",e)},nicknameGotIt:function(e){return a.getData("/user/nicknameGotIt.json",e)},verifyOrder:function(e){return a.getData("/order/verify/".concat(e))},invoiceSubmtV2:function(e){return a.post("/receipt/invoiceSubmtV2.json",e)},createReport:function(e){return a.post("/receipt/createReport.json",e)},getTaxPayerId:function(e){return a.getData("/receipt/getTaxPayerId.json",{name:e})},claimSaveDimInfo:function(e){return a.post("/claim/saveDimInfo.json",e)},deleteInvalidOrder:function(e){return a.getData("/order/deleteInvalidOrder.json",e)},getPublicNoticeById:function(e){return a.getData("/watch/getPublicNoticeById.json",{businessId:e})},getSendAnnouncementsByBusinessId:function(e){return a.getData("/watch/getSendAnnouncementsByBusinessId.json",{businessId:e})},getCourtRegisterByBusinessId:function(e,t){return a.getData("/watch/getCourtRegisterByBusinessId.json",{businessId:e,gid:t})},getEnvironmentalPenaltyById:function(e){return a.getData("/watch/getEnvironmentalPenaltyById.json",{businessId:e})},getLandMortgageById:function(e){return a.getData("/watch/getLandMortgageById.json",{businessId:e})},getTaxContraventionById:function(e){return a.getData("/watch/getTaxContraventionById.json",{businessId:e})},teleCommunicationLicenseDetail:function(e,t){return a.getData("/watch/teleCommunicationLicenseDetail.json",{businessId:e,id:t})},getDishonestDetailByBusinessId:function(e){return a.getData("/company/getDishonestDetailByBusinessId.json",{businessId:e})},getZhixingDetailByBusinessId:function(e){return a.getData("/company/getZhixingDetailByBusinessId.json",{businessId:e})},getFinalCaseDetail:function(e){return a.getData("/company/getFinalCaseDetail.json",{businessId:e})},getBaiduConf:function(){return a.getData("/company/getBaiduConf.json")},getBrandTag:function(e){return a.getData("/brandDetail/tag.json",{name:e})},getTopList:function(e,t){return a.getData("/toplist/list.json",{word:t,type:e})},getBrandSearch:function(e){return a.getHtml("/getBrand/list.html",e)},getClaimCompanyLicence:function(e){return a.getData("/company/getClaimCompanyLicence.json",{id:e})},getBriefCancelAnnouncements:function(e){return a.getData("/company/getBriefCancelAnnouncements.json",{id:e})},getPledgeRegById:function(e){return a.getData("/company/getPledgeRegById.json",{businessId:e})},downloadClaimLicence:function(e){return a.getData("/user/download/claimLicence",{url:e})},getOverseasOrder:function(e){return a.postCloud("/cloud-c-report/services/v3/reportV2/abroadReport/confirm.json",e)},overseasCommit:function(e){return a.postCloud("/cloud-c-report/services/v3/reportV2/abroadReport/commit.json",e)},getdishonestCompanyCaseDetail:function(e){return a.getCloud("/cloud-newdim/deadbeat/getDishonestinfoDetailWeb",{bussinessId:e})},getdishonestHumanCaseDetail:function(e){return a.getCloud("/cloud-newdim/deadbeat/getDishonestinfoDetailWeb",{bussinessId:e})},getBaipinStatus:function(){return a.getCloud("/cloud-third-party/baidu/claim/getBaiPinStatus",{})},sensitiveWordCheck:function(e){return a.postCloud("/cloud-other-information/companyDuplicateChecking/sensitiveWord/check",e)},updateReadStatus:function(e){return a.getCloud("/cloud-bid-order/bidSub/updateReadStatus",{uuid:e||""})},userBidSubList:function(e,t){return a.getCloud("/cloud-bid-order/bidSub/bidSubList",{pageNum:e||1,pageSize:t||20})},postSetSubParams:function(e){return a.postCloud("/cloud-bid-order/bidSub/setSubParams",e)},vipGetCoupons:function(e){return a.getCloud("/cloud-operation-platform/management/promotion",{id:e})},getInvestById:function(e){return a.getData("/company/getInvestById.json",{id:e.id,pageNum:e.pageNum})},getPurchaseLandV2Detail:function(e){return a.getData("/company/getPurchaseLandV2Detail.json",{businessId:e})},getLandPublicityLocationArea:function(e){return a.getData("/company/getLandPublicityLocationArea.json",{location:e.location,area:e.area,pageNum:e.pageNum||1,gid:e.gid})},getLandPublicityDetailV3:function(e){return a.getData("/company/getLandPublicityDetailV3.json",{businessId:e})},getPurchaseLandLocation:function(e){return a.getData("/company/getPurchaseLandLocation.json",{location:e.location,area:e.area,pageNum:e.pageNum||1,gid:e.gid})},getListByNameAndYear:function(e,t,n){return a.getData("/company/getListByNameAndYear.json",{name:e,year:t,pageNum:n||1})},getListWithCompanyowntax:function(e,t,n){return a.getData("/company/getListWithCompanyowntax.json",{name:e,year:t,pageNum:n||1})},getApplyType:function(e){return a.getData("/claim/getApplyType.json",e)},getScanToken:function(){return a.getData("/user/getScanToken")},getScanLogin:function(e){return a.getData("/user/getScanLogin",{token:e})},getReportStatusPolling:function(e){return a.getCloud("/cloud-c-report/services/v3/reportV2/report/status/".concat(e))},reCreateReport:function(e,t){return a.postCloud("/cloud-c-report/services/v3/reportV2/recreatereport?orderId=".concat(e,"&email=").concat(t))},picAnswerAddAnswer:function(e,t,n,i,o,r,s,c,l){return a.postCloud("/cloud-discuss/service/pic/answer/addAnswer",{questionId:e,content:t,sourceAnswerType:n,targetId:i,targetType:o,relationCompany:r,pictures:s,educationShow:c,companyShow:l})},questionGetEditUserInfo:function(){return a.getCloud("/cloud-discuss/service/pic/question/getEditUserInfo")},getCompanyPhoneList:function(e){return a.getCloud("/cloud-other-information/companyinfo/getCompanyPhoneList",{gid:e})},getCorrectInfo:function(e){return a.getCloud("/cloud-other-information/correct/info",e)},submitCorrectInsert:function(e){return a.postCloud("/cloud-other-information/correct/insert",e)},particularlyTrademarks:function(e,t,n){return a.getCloud("/cloud-other-information/particularly/trademarks",{gid:e,pageSize:n||30,pageNum:t||1})},particularlyTrademarksHtml:function(e,t,n){return a.getHtml("/company/particularlyTrademarks.html",{gid:e,pageSize:n||30,pageNum:t||1})},renderTMRecommend:function(e,t,n,i){return a.getHtml("/company/renderTM.html",{gid:e,pageSize:n||30,pageNum:t||1,hasData:i})},getEnterpriseService4Web:function(){return a.getCloud("/cloud-newdim/index/getEnterpriseService4Web")},checkGiftPackageReceived:function(){return a.getCloud("/cloud-operation-platform/management/checkGiftPackageReceived")},guide:function(){return a.getCloud("/cloud-operation-platform/management/getReceiveGiftPackageHistory")},receiveGiftPackage:function(){return a.getCloud("/cloud-operation-platform/management/receiveGiftPackage")},getYearCheckCompany:function(){return a.getData("/claim/getYearCheckCompany.json")},getInvoiceSendmail:function(e){return a.getCloud("/cloud-c-report/invoice/sendmail",e)},recentExpired:function(e){return a.getData("/user/recentExpired.json",e)},yearCheckSubmit:function(e){return a.post("/claim/yearCheckSubmit.json",e)},yearCheckGetOrderId:function(e){return a.getData("/claim/yearCheckGetOrderId.json",e)},monitorCount:function(e){return a.getCloud("/cloud-monitor-provider/v4/monitor/count",e)},complaint:function(){return a.getCloud("/cloud-operation-platform/importFlow/complaints")},dataExportEntrance:function(){return a.getCloud("/cloud-operation-platform/platformConfiguration/dataExportEntrance")},dataExportPopupWindow:function(e){return a.getCloud("/cloud-operation-platform/platformConfiguration/dataExportPopupWindow",e)},certificate_send_info:function(e){return a.postCloud("/cloud-other-information/claim/certificate/send/info",e)},userVisitorListWithDays:function(e,t,n,i){return a.getCloud("/cloud-statistics/statistics/userVisitorListWithDays.json",{gid:e,days:t,pageNum:n,pageSize:i})},getVisitorsChartWithDays:function(e,t){return a.getCloud("/cloud-statistics/statistics/getVisitorsChartWithDays.json",{gid:e,days:t})},analyzePagination:function(e,t,n){return a.getHtml("/user/analyze/pagination.html",{gid:e,
pageNum:t,pageSize:n})},staffDynamicPagination:function(e){return a.getHtml("/pagination/staffDynamic.html",e)},getExportDataNum:function(){return a.getData("/order/getExportDataNum.json")},submitAuthentication:function(e){return a.postCloud("/cloud-other-information/personalAuthentication/submitAuthentication",e)},bossSubmitInformation:function(e){return a.postCloud("/cloud-biz/boss/certificate/commit",e)},getSchoolSearchData:function(e){return a.getCloud("/cloud-other-information/user/schoolSearch",{schoolName:e})},feedbackSchool:function(e){return a.postCloud("/cloud-other-information/user/feedbackSchool",e)},feedbackCompany:function(e){return a.postCloud("/cloud-other-information/user/feedbackCompany",e)},userClaimInfo:function(e){return a.getCloud("/cloud-other-information/companyinfo/user/claimInfo",{companyGid:e},{async:!1})},companyClaimScore:function(e){return a.getCloud("/cloud-other-information/companyinfo/claim/score",{companyGid:e})},statisticsCompanyPv:function(e){return a.getCloud("/cloud-statistics/statistics/company/pv",{gid:e})},getupgradeWatchNum:function(){return a.getCloud("/cloud-monitor-provider/v4/monitor/upgrade/price")},getupgradeWatchOrder:function(e){return a.getCloud("/cloud-monitor-provider/v4/monitor/upgrade/order",e)},getMainPerson:function(e){return a.getCloud("/cloud-company-background/company/getMainPerson",e)},getCompanyDJGLink:function(e){return a.getCloud("/cloud-c-report/services/v3/reportV2/getCompanyDJGLink",e)},getWatchRecommend:function(){return a.getCloud("/cloud-monitor-provider/v4/monitor/recommend")},watchArrMonitor:function(e){return a.postCloud("/cloud-monitor-provider/v4/monitor/batch/monitor",e)},getWatchSysConfig:function(){return a.getData("/watch/getWatchSysConfig.json")},getupgradeWatchWindow:function(){return a.getCloud("/cloud-other-information/monitor/upgrade/window")},cancelWebOrder:function(e){return a.getCloud("/cloud-operation-platform/management/cancelWebOrder",{id:e})},searchAdvanceResult:function(e){return a.postHtml("/search/advance/result.html",e)},baseinfoPriceOrder:function(e){return a.getCloud("/cloud-biz/order/edit/baseinfo/create",{graphId:e})},batchContactCheck:function(e){return a.postCloud("/cloud-biz/batch/contact/check",{count:e})},batchContactCreate:function(e){return a.getCloud("/cloud-biz/order/batch/contact/create",{num:e})},advanceSearchPopWindow:function(e){return a.getCloud("/cloud-c-report/services/v3/reportV2/advanceSearch/popWindow",{sessionId:e})},advanceSearchCreateWOrder:function(e,t){return a.postCloud("/cloud-c-report/services/v3/reportV2/advanceSearch/createWOrder",{sessionId:e,isFree:t})},batchSearchCreate:function(e,t){return a.getCloud("/cloud-biz/order/batch/search/create",{excelId:e,num:t})},reportItchPointEvent:function(e,t){return a.getCloud("/cloud-operation-platform/management/paymentEvent",{orderId:e,event:t})},judicialCaseRelated:function(e,t,n){return a.getData("/judicialcase/related.json",{detailId:e,type:t,gid:n})},getAnnouncementDetai:function(e){return a.getData("/judicialcase/getAnnouncementDetail.json",{bussinessId:e})},getDishonestinfoDetailById:function(e){return a.getData("/judicialcase/getDishonestinfoDetailById.json",{bussinessId:e})},sendAnnouncements:function(e){return a.getData("/judicialcase/sendAnnouncements.json",{bussinessId:e})},courtRegister:function(e,t){return a.getData("/judicialcase/courtRegister.json",{bussinessId:t,gid:e})},getJudicialAidDetail:function(e){return a.getData("/judicialcase/getJudicialAidDetail.json",{bussinessId:e})},getLawsuitDetail:function(e){return a.getData("/judicialcase/getLawsuitDetailByUuid.json",{bussinessId:e})},getCourtAnnouncement:function(e,t){return a.getData("/judicialcase/getCourtAnnouncement.json",{bussinessId:t,gid:e})},getInquiryEvaluationDetail:function(e){return a.getData("/judicialcase/inquiryEvaluationDetail.json",{bussinessId:e})},activityActiveInfo:function(){return a.getCloud("/cloud-operation-platform/activity/activeInfo")},activityCurrentInfo:function(){return a.getCloud("/cloud-operation-platform/activity/currentInfo")},activityReceiveAward:function(){return a.getCloud("/cloud-operation-platform/activity/receiveAward")},activityGetAward:function(){return a.getCloud("/cloud-operation-platform/activity/getAward")},activityQuery:function(e){return a.getCloud("/cloud-operation-platform/activity/query",{activityId:e})},queryWebPcActivityList:function(){return a.getCloud("/cloud-app-management/window/webIndex/get")},searchCardDetailLink:function(e,t,n){return a.postCloud("/cloud-other-information/companyinfo/searchCardDetailLink",{gid:e,fieldName:t,fieldContent:n})},getVipBussinessOrder:function(e){return a.getCloud("/cloud-biz/order/vip/meal/create",e)},renewalsVipBussinessOrder:function(e){return a.postCloud("/cloud-biz/order/vip/meal/renewals/create",e)},addMember:function(e){return a.postCloud("/cloud-biz/vip/add/member",e)},batchAddMember:function(e){return a.postCloud("/cloud-biz/vip/batchAdd/member",e)},deleteMember:function(e){return a.postCloud("/cloud-biz/vip/delete/member",e)},cancelIdentityPost:function(e){return a.postCloud("/cloud-biz/boss/certificate/cancel",e)},changePromptGet:function(){return a.getCloud("/cloud-biz/boss/certificate/notice")},changeNoticeGet:function(e){return a.getCloud("/cloud-biz/boss/certificate/notice/accept",e)},closeModalRead:function(e){return a.getCloud("/cloud-biz/boss/certificate/notice/read",e)},getUgcHumanInfo:function(e){return a.getCloud("/cloud-discuss/service/pic/question/ugc/profile",e)},getUgcHumanInfoV2:function(e){return a.getCloud("/cloud-discuss/service/pic/question/ugc/profile/v2",e)},getUserYellowDiamond:function(){return a.getCloud("/cloud-discuss/service/pic/question/user/rights")},getPastTaxInfo:function(e){return a.getCloud("/cloud-operating-risk/operating/tax/getCompanyOwnTaxById.json",{businessId:e})},deleteMonitor:function(e){return a.postCloud("/cloud-data-stream/entity/cancel/focus",e)},popWindows:function(e,t){return a.getCloud("/cloud-c-report/services/v3/reportV2/export/web/popWindows",{sessionId:e,type:t})},createWOrder:function(e){return a.postCloud("/cloud-c-report/services/v3/reportV2/export/createWOrder",e)},purchaseHighLevel:function(){return a.postCloud("/cloud-c-report/services/v3/reportV2/purchaseHighLevel",{})},addCompanyWebsit:function(e,t){return a.postCloud("/cloud-intellectual-property/intellectualProperty/icp/risk/check",{url:e,gid:t})},getLawsuitTitleByUuid:function(e){return a.getCloud("/cloud-judicial-risk/judicial/lawsuit/getLawsuitTitleByUuid",{uuids:e})},getBankruptcyDetailV2:function(e,t){return a.getCloud("/cloud-judicial-risk/bankruptcy/detail",{gid:e,uuid:t})},cancelFocusQuestion:function(e){return a.getCloud("/cloud-discuss/service/pic/question/cancelFocus",{id:e})},getDiscussRedPoint:function(){return a.getCloud("/cloud-discuss/discuss/v1/redPoint")},getBossVipIdentityTag:function(e,t){return a.getCloud("/cloud-other-information/human/IdentityTag",{hgid:e,cgid:t})},getFilterMealList:function(){return a.getCloud("/cloud-biz/vip/user/filter/meal")},getHumanNewsList:function(e,t,n,i){return a.getCloud("/cloud-yq-news/human/news/list",{humanGraphId:e,humanCompanyGraphId:t,pn:n,ps:i})},renderQuestionUserInfo:function(e,t){return a.getHtml("/question/render/userInfo.html",{type:e,userShowType:t})}};return a}),define("util/UserManage",["window","jquery","util/modal","Cookies","Base64","util/query"],function(e,t,n,i,a,o){e.btoa||(e.btoa=function(e){return a.encode(e)}),e.atob||(e.atob=function(e){return a.decode(e)});var r={path:"/",secure:!1,expires:60,domain:e.cookieServerSuffix.split(":")[0]};e.cookieServerSuffix.split(":")[0];if(e.UserManage)return e.UserManage;var s={};return s.setUserInfo=function(t,n){t&&(s.logout(),i.set("tyc-user-info",e.encodeURIComponent(JSON.stringify(t)),r),i.set("auth_token",t.token,r))},s.isExpired=function(){var e=s.getUserInfo();if(e)try{return 1==parseInt(e.isExpired)}catch(e){return!1}},s.isPutong=function(){var e=s.getUserInfo();if(e)try{return 0==parseInt(e.state)}catch(e){return!1}},s.isHasVip=function(){var e=s.getUserInfo();if(e)try{if(parseInt(e.state)>=3||1==parseInt(e.state))return!(parseInt(e.isExpired)>0)}catch(e){return!1}return!1},s.isVip=function(){var e=s.getUserInfo();if(!e||t.isEmptyObject(e))return!1;var n=parseInt(e.state||0);return!(n<=0)&&(n<=2||parseInt(e.isExpired)<=0)},s.isVVip=function(){var e=s.getUserInfo();if(e)try{if(1==parseInt(e.state))return!0}catch(e){return!1}return!1},s.isMT=function(){var e=s.getUserInfo();if(e)try{if(2==parseInt(e.state))return!0}catch(e){return!1}return!1},s.logged=function(){return!t(".jwt-error-pop").length&&!!s.getUserInfo()},s.logout=function(t){s.getUserInfo()&&(i.remove("tyc-user-info",{path:"/",domain:e.cookieServerSuffix.split(":")[0]}),i.remove("auth_token",{path:"/",domain:e.cookieServerSuffix.split(":")[0]}))},s.getUserInfo=function(){var t=i.get("tyc-user-info",{path:"/",domain:e.cookieServerSuffix.split(":")[0]}),n=i.get("auth_token",{path:"/",domain:e.cookieServerSuffix.split(":")[0]});if(!n)return t&&i.remove("tyc-user-info",{path:"/",domain:e.cookieServerSuffix.split(":")[0]}),null;if(!t)return n&&i.remove("auth_token",{path:"/",domain:e.cookieServerSuffix.split(":")[0]}),null;try{return JSON.parse(e.decodeURIComponent(t))}catch(t){return console.log(t),i.remove("tyc-user-info",{path:"/",domain:e.cookieServerSuffix.split(":")[0]}),i.remove("auth_token",{path:"/",domain:e.cookieServerSuffix.split(":")[0]}),null}},s.isVipManager=function(){var e=s.getUserInfo();if(e)try{if(1==parseInt(e.vipManager))return!0}catch(e){return!1}return!1},s.refresh=function(){return new Promise(function(t,n){o.getUserInfo().then(function(n){if("ok"===n.state){var a=s.getUserInfo()||{},o=n.data;o.token=a.token,i.set("tyc-user-info",e.encodeURIComponent(JSON.stringify(o)),r)}t()},function(){n()})})},s.setPhoneList=function(t){var n=s.getPhoneList();n||(n=[]),n=n.filter(function(e){return e.replace(/\s/g,"")!=t.replace(/\s/g,"")}),n.unshift(t.replace(/\s/,"")),i.set("tyc-user-phone",e.encodeURIComponent(JSON.stringify(n)),r)},s.getPhoneList=function(){var t=i.get("tyc-user-phone",{path:"/",domain:e.cookieServerSuffix.split(":")[0]});if(!t)return null;try{return t=JSON.parse(e.decodeURIComponent(t)),t=t.slice(0,3),t=t.map(function(e){return/\s/.test(e)?e:e.replace(/^(.{3})(.{4})(.*)$/g,"$1 $2 $3")})}catch(t){return console.log(t),i.remove("tyc-user-phone",{path:"/",domain:e.cookieServerSuffix.split(":")[0]}),null}},e.UserManage=s,t(function(){t(".jwt-error-pop").length&&s.logout()}),s}),define("util/common",["window","jquery","util/modal","util/ejs","util/UserManage","lib/domReady","util/query"],function(e,t,n,i,a,o,r){if(e.common)return e.common;var s={};return s.formatAndFilterUrl=function(e){if(String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}),e)return e=e.trim(),0==e.indexOf(".")&&(e=e.replace(".","")),e.replace(/#/gi,"").replace(/\!/gi,"").replace(/\\/gi,"").replace(/\%/gi,"").replace(/\=/gi,"").replace(/\;/gi,"").replace(/\?/gi,"")},s.toQueryPair=function(e,t){return void 0===t?e:"".concat(e,"=").concat(encodeURIComponent(null===t?"":t+""))},s.toQueryString=function(e){var t=[];for(var n in e){n=encodeURIComponent(n);var i=e[n];if(i&&i.constructor==Array){for(var a,o=[],r=0,c=i.length;r<c;r++)a=i[r],o.push(s.toQueryPair(n,a));t=t.concat(o)}else t.push(s.toQueryPair(n,i))}return t.join("&")},s.parseQueryString=function(t){var n=t||e.location.href,i={};if(-1==n.indexOf("?"))return i;var a=n.split("?")[1],o=a.split("&");if(!o)return i;for(var r=0;r<o.length;r++){var s=o[r].split("=");i[s[0]]=decodeURIComponent(s[1])}return i},s.mouseShowBySelElem=function(e){t(e).addClass("in")},s.mouseHideBySelElem=function(e){t(e).removeClass("in")},s.addUserAction=function(t){var n=e.location.href;return t?(-1!=n.indexOf("useraction=")?n=n.replace(/(?![?&])(useraction=)[^&]+/gi,"$1".concat(t)):-1==n.indexOf("?")?n+="?useraction=".concat(t):n+="&useraction=".concat(t),n):n=n.replace(/(?![?&])(useraction=)[^&]+/gi,"")},s.jumpNoUserAction=function(){var t=e.location.href;-1!=t.indexOf("useraction=")&&(t=t.replace(/(?![?&])(useraction=)[^&]+/gi,""),e.location.href=t)},s.delUserAction=function(){var t=e.location.href;return-1!=t.indexOf("useraction=")&&(t=t.replace(/(?![?&])(useraction=)[^&]+/gi,"")),t},s.openUrl=function(t){t&&e.open(t)},s.jumpUrl=function(t){t&&(e.location.href=t)},s.stopPropagation=function(t,n){t||(t=e.event),t&&(t.preventDefault?t.stopPropagation():t.cancelBubble=!0)},s.stopPropagationAll=function(t,n){t||(t=e.event),t&&(t.preventDefault?(t.stopPropagation(),t.preventDefault()):(t.returnValue=!1,t.cancelBubble=!0))},s.appDownload=function(t){if(/tg=(\w+)?[\&]?/.test(e.location.search)||sessionStorage.getItem("tg")){var n=sessionStorage.getItem("tg")||e.TYC_TG_CODE;location.href=t?"".concat(e.appServerDomain,"/channel?from=companyDetail&param1=").concat(t,"&channelCode=").concat(n,"_WAP03"):"".concat(e.appServerDomain,"/channel?channelCode=").concat(n,"_WAP03")}else location.href=t?"".concat(e.appServerDomain,"/channel?from=companyDetail&param1=").concat(t,"&channelCode=WAP03"):"".concat(e.appServerDomain,"/channel?channelCode=WAP03")},s.refresh=function(){e.location.reload(!0)},s.closePopup=function(){n.close()},s.openHrefNeedLogin=function(e,t){if(!a.logged()){e.preventDefault();var n=t.getAttribute("href");return login.showLoginModal({loginUrl:n,isOpen:!0}),!1}},s.getBrowser=function(){var t,n=e,i={},a=navigator.userAgent;return n.ActiveXObject?(i.name="ie",i.ver=9-(-1==a.indexOf("Trident/5.0"))-!n.XDomainRequest-!n.XMLHttpRequest):(document.getBoxObjectFor||void 0!=n.mozInnerScreenX?(i.name="firefox",i.ver=(t=/(?:Firefox|GranParadiso|Iceweasel|Minefield).(\d+\.\d+)/i.exec(a))?parseFloat(t[1],10):3.3):navigator.taintEnabled?n.opera?(i.name="opera",i.ver=parseFloat(navigator.appVersion,10)):(i.name="ie",i.ver=6):(t=/AppleWebKit.(\d+\.\d+)/i.exec(a),i.name="webkit",i.ver=t?parseFloat(t[1],10):document.evaluate?document.querySelector?525:420:419,(t=/Chrome.(\d+\.\d+)/i.exec(a))||n.chrome?(i.name="chrome",i.ver=t?parseFloat(t[1],10):2):((t=/Version.(\d+\.\d+)/i.exec(a))||n.safariHandler)&&(i.name="safari",i.ver=t?parseFloat(t[1],10):3.3)),a.indexOf("Edge")>-1&&(i.name="edge")),i},s.clearKey=function(n,i,a){n=n||e.event,t(i).val("").html("").focus()},s.show_display_modal=function(){e.open("".concat(e.serverDomain,"/claim/entry?from=f3"))},s.show_search_modal=function(){e.open("".concat(e.serverDomain,"/claim/entry/"))},s.throttle=function(e,t){var n;return function(){var i=this,a=arguments;n||(n=setTimeout(function(){n=null,e.apply(i,a)},t))}},s.goToPageBpz=function(n,i){function a(){setTimeout(function(){if(l>=d)return t("body").off("DOMSubtreeModified.bpzDomListener"),!1;var e=t("#".concat(n)),i=t("html, body");if(!e.length)return!1;var a=e.offset().top-o;i.scrollTop(a)},0)}var o=e.pageTop?e.pageTop:138,r=s.getBrowser().name,c=600,l=0,d=8;"chrome"!==r&&(c=2e3);var u=setInterval(function(){++l>=d&&clearInterval(u)},1e3);"chrome"!==r&&"company"===i?e.MutationObserver?new MutationObserver(a).observe(document.documentElement,{childList:!0,subtree:!0}):t("body").on("DOMSubtreeModified.bpzDomListener",s.throttle(function(){a()},500)):s.bpz.intervalTimer=setInterval(function(){t("#".concat(n)).length&&(a(),clearInterval(s.bpz.intervalTimer))},c)},s.bpz={intervalTimer:null,companyDownloadReport:function(e){var t={reportArr:[{title:"Ëë£ÁõëÈ´òÂØπÂ§ñÊäïËµÑÂèä‰ªªËÅåÊä•Âëä",type:"4",typeText:"‰∏ì‰∏öÁâà",money:[{title:"¬•40.00",check:!1,mtNum:20},{title:"¬•45.00",check:!0,mtNum:30}],content:["Âü∫Êú¨‰ø°ÊÅØ","ÊãÖ‰ªªÊ≥ïÂÆö‰ª£Ë°®‰∫∫ÁöÑ‰ºÅ‰∏ö‰ø°ÊÅØ","ÊäïËµÑÁöÑ‰ºÅ‰∏ö‰ø°ÊÅØ(Âê´ËÇ°ÊØî)","‰ªªËÅåÁöÑ‰ºÅ‰∏ö‰ø°ÊÅØ","‰∫∫ËÑâÂúàÂàÜÊûê"]},{title:"Ëë£ÁõëÈ´òÂØπÂ§ñÊäïËµÑÂèä‰ªªËÅåÊä•Âëä",type:"3",typeText:"Â¢ûÂÄºÁâà",money:[{title:"¬•20.00",check:!1,mtNum:20},{title:"¬•25.00",check:!0,mtNum:30}],content:[" Âü∫Êú¨‰ø°ÊÅØ","ÊãÖ‰ªªÊ≥ïÂÆö‰ª£Ë°®‰∫∫ÁöÑ‰ºÅ‰∏ö‰ø°ÊÅØ","ÊäïËµÑÁöÑ‰ºÅ‰∏ö‰ø°ÊÅØ","‰ªªËÅåÁöÑ‰ºÅ‰∏ö‰ø°ÊÅØ"]},{title:"‰ºÅ‰∏ö‰ø°Áî®Êä•Âëä",type:"2",typeText:"‰∏ì‰∏öÁâà",money:[{title:"¬•20.00",check:!1,mtNum:20},{title:"¬•25.00",check:!0,mtNum:30}],content:["Â¢ûÂÄºÁâà‰ºÅ‰∏ö‰ø°Áî®Êä•ÂëäÊâÄÊúâ‰ø°ÊÅØ","‰ºÅ‰∏öËÅîÁ≥ªÊñπÂºè","Ê≥®ÂÜåËµÑÊú¨ÁªÑÊàêÊàêÂàÜ","‰∏ªË¶Å‰∫∫ÂëòËØ¶ÁªÜ‰ø°ÊÅØ","ÂÆûÈôÖËÇ°ÊùÉÊéßÂà∂Ë∑ØÂæÑ"]},{title:"‰ºÅ‰∏ö‰ø°Áî®Êä•Âëä",type:"1",typeText:"Â¢ûÂÄºÁâà",money:[{title:"¬•15.00",check:!1,mtNum:20},{title:"¬•20.00",check:!0,mtNum:30}],content:["Âü∫Á°ÄÁâà‰ºÅ‰∏ö‰ø°Áî®Êä•ÂëäÊâÄÊúâ‰ø°ÊÅØ","Ê≥ïÂÆö‰ª£Ë°®‰∫∫ÂØπÂ§ñÊäïËµÑ‰ø°ÊÅØÔºàÂê´ËÇ°ÊØîÔºâÂèäÂú®Â§ñ‰ªªËÅå‰ø°ÊÅØ","ËÇ°‰∏úÂá∫ËµÑ‰ø°ÊÅØÔºàÂê´ËÇ°ÊØîÔºâ","ÂØπÂ§ñÊäïËµÑ‰ø°ÊÅØÔºàÂê´ËÇ°ÊØîÔºâ"]}],reportLast:{title:"‰ºÅ‰∏ö‰ø°Áî®Êä•Âëä",type:"0",typeText:"Âü∫Á°ÄÁâà",money:[{title:"¬•00.00",check:!1,mtNum:20},{title:"¬•10.00",check:!0,mtNum:50}],content:["Âü∫Êú¨Â∑•ÂïÜ‰ø°ÊÅØ","‰ºÅ‰∏öÂèëÂ±ï‰ø°ÊÅØ","Âè∏Ê≥ïÈ£éÈô©‰ø°ÊÅØ","ÁªèËê•È£éÈô©‰ø°ÊÅØ","ÁªèËê•Áä∂ÂÜµ‰ø°ÊÅØ","Áü•ËØÜ‰∫ßÊùÉ‰ø°ÊÅØ"]}},a={};switch(e){case 0:a=t;break;case 1:a.reportArr=t.reportArr.slice(2,4);break;case 2:a.reportArr=t.reportArr.slice(0,2);break;case 3:a.reportArr=t.reportArr.slice(2,4);break;case 4:case 5:a=t;break;case 6:a.reportArr=t.reportArr.slice(0,2);break;default:a=t}r.getReportOrderInfo(0).then(function(e){if(report.reportUrl={},report.reportPriceInfo=e.data,report.discountObj={},report.reportPriceInfo)for(var o=0;o<report.reportPriceInfo.item.length;o++){var r=report.reportPriceInfo.item[o];switch(r.type){case 11:t.reportLast.title=r.name,t.reportLast.preUrl=r.preUrl,t.reportLast.overPlus=r.overPlus,t.reportLast.money[0].title="¬•".concat(r.actualAmount),t.reportLast.money[1].title="¬•".concat(r.wordActualAmount/100),report.reportUrl.basicReportPreurl=r.preUrl,report.reportUrl.basicOverPlus=r.overPlus;break;case 12:t.reportArr[3].title=r.name,t.reportArr[3].preUrl=r.preUrl,t.reportArr[3].overPlus=r.overPlus,t.reportArr[3].money[0].title="¬•".concat(r.actualAmount/100),t.reportArr[3].money[1].title="¬•".concat(r.wordActualAmount/100),report.reportUrl.increaseReportPreurl=r.preUrl,report.reportUrl.increaseOverPlus=r.overPlus;break;case 14:t.reportArr[2].title=r.name,t.reportArr[2].preUrl=r.preUrl,t.reportArr[2].overPlus=r.overPlus,t.reportArr[2].money[0].title="¬•".concat(r.actualAmount/100),t.reportArr[2].money[1].title="¬•".concat(r.wordActualAmount/100),report.reportUrl.profeReportPreurl=r.preUrl,report.reportUrl.profeOverPlus=r.overPlus,report.discountObj.discoverAmount=r.discoverAmount/100,report.discountObj.coupanNum=e.data.coupanNum,report.discountObj.overPlus=r.overPlus;break;case 15:t.reportArr[1].title=r.name,t.reportArr[1].preUrl=r.preUrl,t.reportArr[1].overPlus=r.overPlus,t.reportArr[1].money[0].title="¬•".concat(r.actualAmount/100),t.reportArr[1].money[1].title="¬•".concat(r.wordActualAmount/100);break;case 16:t.reportArr[0].title=r.name,t.reportArr[0].preUrl=r.preUrl,t.reportArr[0].overPlus=r.overPlus,t.reportArr[0].money[0].title="¬•".concat(r.actualAmount/100),t.reportArr[0].money[1].title="¬•".concat(r.wordActualAmount/100)}}report.items={reportUserType:5,reportContent:a,reportUrl:report.reportUrl,reportNew:report.discountObj},report.items=report.initReport(report.items);var s=i.render("report/company",{items:report.items});n.openByElementStr(s,{size:"report"},function(){})})},humanDownloadReport:function(e,t){r.getReportOrderInfo(3).then(function(a){if(report.reportPriceInfo=a.data,a.data&&a.data.item&&a.data.item.length)var o=a.data.item[0];else var o={preUrl:"https://cache.tianyancha.com/credit_report/%E6%9D%8E%C3%97%C3%97-%E4%B8%93%E4%B8%9A%E7%89%88%E6%9C%AC-%E6%A0%B7%E6%9C%AC%E9%A2%84%E8%A7%88.pdf",actualAmount:4e3};var r="/humanOrder?";e&&(r+="hid=".concat(e)),t&&(r+="&cid=".concat(t)),report.items={reportUserType:3,reportUrl:o.preUrl,jumpurl:r,discoverAmount:o.discoverAmount/100,coupanNum:a.data.coupanNum,money:o.amount/100,overPlus:o.overPlus};var s=i.render("report/human_bpz",{items:report.items});n.openByElementStr(s,{size:"reporthuman"},function(){})})}},s.manageBpzEvent=function(){var n=e.location,i=n.pathname,a=s.parseQueryString(),o=/[=|-|?|\/]/g;if(!a||!a.hasOwnProperty("bpz"))return!1;history&&"scrollRestoration"in history&&(history.scrollRestoration="manual");var r=a.bpz,c=r.split("_");if(c.length<2)return!1;if(o.test(c[1]))return!1;if(-1!==i.indexOf("human")||-1!==i.indexOf("company")){var l=c[1];if("downloadReport"!==l){var d="nav-main-";switch("human"===c[0]&&(d="_container_"),l){case"basicInfo":l="baseInfo";break;case"qaMyself":d="_container_",l="qa_myself";break;case"qaOther":d="_container_",l="qa_other"}s.goToPageBpz(d+l,c[0])}else{if(-1!==i.indexOf("company")){var u=t("#_companyId").val();"2318455639"!==u&&"24416401"!==u||setTimeout(function(){e.report&&s.bpz.companyDownloadReport(0)},400)}if(-1!==i.indexOf("human")){var p=t("#_companyId").val(),f=t("#_hid").val(),u=t("#_cid").val();"2015682356-c2318455639"!==p&&"2277041716-c59837300"!==p||setTimeout(function(){e.report&&s.bpz.humanDownloadReport(f,u)},400)}}}},s.updateInputClear=function(){var e=this;t(e).val()?t(e).closest(".form-group").find(".claim-input-clear-btn").removeClass("hidden"):t(e).closest(".form-group").find(".claim-input-clear-btn").addClass("hidden")},s.triggerTycClick=function(e){if(!e)return!1;var n=t('<div style="display: none" tyc-event-click tyc-event-ch=""></div>');n.attr("tyc-event-ch",e),t("body").append(n),n.click(),setTimeout(function(){n.remove()},300)},s.open=function(t){if(!t)return!1;if("firefox"===s.getBrowser().name)var n=e.open("about:blank");return{jump:function(i){if(i&&(t=i),n)return n.location.href=t,!0;e.open(t)}}},s.formSubmit=function(e,n){var i=t('<form method="post"></form>');t("body").append(i);var a=Cookies.get("csrfToken");a&&!n.xyz&&(n.xyz?n.xyz=a:i.append('<input type="hidden" name="xyz" value="'.concat(a,'">'))),i.attr("action",e),t.each(n,function(e,n){var a=t('<input type="hidden" name="'.concat(e,'" value="').concat(n,'">'));i.append(a)}),i.submit()},o(function(){s.manageBpzEvent()}),e.common=s,s}),define("util/liveSearch",["window","jquery","util/query","util/ejs","util/UserManage","util/common"],function(e,t,n,i,a,o){if(t.fn.liveSearch)return t.fn.liveSearch;e.TYC_UI||(e.TYC_UI={});var r=e.TYC_UI.LIVESEARCH;r||(r=e.TYC_UI.LIVESEARCH={});var s=function(t){if(t=t||"",t.trim()){for(var n=t.split("."),i=e,a=0;a<n.length;a++){if(!i[n[a]])return null;i=i[n[a]]}return i}},c=function(e,t){var e={companyList:e,type:t};return a.logged()||(e.needLogin=!0),i.render("live-search/company",e)},l=function(e){return i.render("live-search/human",{humanInfo:e})},d=function(e,n){var i=this;this.$target=e,this.options=n,e.siblings("ul").remove();var a=this.$ul=t('<ul class="live-search-content hidden"></ul>');e.after(a),this.timer=null,this.dataStore=[],this.prevalue="","ie"==o.getBrowser().name?e.attr("nocomplete","true"):(e.attr("autocomplete","off"),e.attr("readonly","true"),e.attr("disableautocomplete",""));var r=function(o){var r=t(this).val(),s=o.keyCode;if(a.find("li").length?a.removeClass("hidden"):a.addClass("hidden"),38===s||40===s)i.selectOption(s);else if(37===s||39===s||16===s||17===s||18===s||20===s);else if(13===s){if(n.enterSelected||e.attr("enter-selected")){var c=a.find("li").index(a.find("li.selected"));if(-1===c)return;var l=i.dataStore[c];i.selected(l)}a.addClass("hidden")}else"false"!==t(this).attr("suggest")&&i.renderSuggest(r,!0);i.updateClear(r)};e.on("keyup",function(t){r.call(this,t);var n=s(e.attr("event-trigger"));n&&n.call(this,t)}),e.on("click",function(){var e=t(this).val();i.setReadOnly(),e&&a.find("li").length>0&&a.removeClass("hidden").find("li.selected").removeClass("selected")}),e.on("blur",function(){i.setReadOnly(!0)}),e.on("dblclick",function(){i.setReadOnly(),i.renderSuggest(e.val(),!0)}),e.parent().on("click.liSelect","li",function(){var e=a.find("li").index(this);if(-1!==e){var t=i.dataStore[e];i.selected(t),a.addClass("hidden")}}),t("body").on("click.".concat(e.id),function(n){var i=t(n.target);a.hasClass("hidden")||e.parent().has(i).length||a.addClass("hidden")});e.val();e.data("live-search-state","complete")},u=d.prototype;return u.setReadOnly=function(e){var t=this.$target;t.attr("nocomplete")||(e?t.attr("readonly","true"):t.removeAttr("readonly"))},u.selected=function(e){var t=this,n=this.options,i=this.$target;if(e)if(n.clickSelected&&"function"==typeof n.clickSelected)n.clickSelected(e);else if(i.attr("click-selected")){var a=s(i.attr("click-selected"));"function"==typeof a&&a(e,i)}else t.selectedHandler&&t.selectedHandler(e)},u.selectedHandler=function(e){},u.selectOption=function(e){var t=38===e?-1:1,n=this,i=this.$ul,a=this.$target,o=i.find("li"),r=o.index(i.find("li.selected")),s=o.length,c=r+t;if(s){if(c>=s?c=0:c<-1&&(c=s-1),o.removeClass("selected"),-1===c)return void a.val(n.prevalue);var l=o.eq(c).addClass("selected");"true"!==a.attr("livesearch-is-human")&&a.val(l.find(".js-text").text())}},u.renderSuggest=function(e,t){e=e||"",e=e.trim();var i=this,a=this.$ul,o=this.$target,r=o.attr("livesearch-is-human");e?(clearTimeout(i.timer),i.timer=setTimeout(function(){i.timer=null;var e=o.val();if(i.prevalue===e)return void(t&&a.removeClass("hidden"));i.prevalue=e,e&&e.replace(/\\/gi,"")&&("true"!==r?n.findex_suggest(e.replace(/\\/gi,"")).then(function(e){e.data&&e.data.length?(a.html(c(e.data)),i.dataStore=e.data,t&&a.removeClass("hidden")):(i.dataStore=[],a.empty().addClass("hidden"))}):n.index_human_suggest(e).then(function(e){e.data&&e.data.resultList&&e.data.resultList.length?(a.html(l(e.data)),i.dataStore=e.data.resultList,t&&a.removeClass("hidden")):(i.dataStore=[],a.empty().addClass("hidden"))}))},50)):a.addClass("hidden")},u.config=function(e){return this},u.updateClear=function(e){e=e||"",e=e.trim();var t=this.$target.parents(".search-group").find(".clear-input");e?t.removeClass("hidden"):t.addClass("hidden")},u.getSelected=function(){var e=this,t=this.$ul,n=t.find("li"),i=n.index(t.find("li.selected"));return e.dataStore[i]},u.hide=function(){this.$target.parent().addClass("hidden")},u.show=function(){this.$target.parent().removeClass("hidden")},t.fn.liveSearch=function(e){e=e||{};var n=this;if(n.each(function(n){var i=t(this),a=i.attr("id");if(a&&r[a]&&i.data("live-search-state")){return r[a].config(e)}a||(a="live-search-".concat("".concat((new Date).getTime()).substring(8)),i.attr("id",a)),i.wrap('<div class="live-search-wrap"></div>');var o=i.parent();e.wrapClass?o.addClass(e.wrapClass):i.attr("wrap-class")&&o.addClass(i.attr("wrap-class")),i.hasClass("hidden")&&(o.addClass(i.addClass("hidden")),i.removeClass("hidden")),r[a]=new d(i,e)}),1===n.length)return r[n.attr("id")]},t(".js-live-search").liveSearch(),t.fn.liveSearch}),define("util/storage",["window"],function(e){if(e.tyc_storage)return e.tyc_storage;var t={};return t.isSupport=function(){return e.Storage&&e.localStorage&&e.localStorage instanceof e.Storage},t.getSearch=function(){if(!t.isSupport())return[];var n=e.localStorage.getItem("live-search"),i=[];if(n)try{i=JSON.parse(n)}catch(e){console.log(e)}return i},t.addSearch=function(n){if(t.isSupport()&&(n=(n||"")+"",n=n.replace(/^\s+/g,"").replace(/\s+$/g,""))){var i=t.getSearch(),a=i.findIndex(function(e){return e===n});a>-1&&i.splice(a,1),i.unshift(n),i.length>1e3&&i.splice(1e3,i.length-1e3),e.localStorage.setItem("live-search",JSON.stringify(i))}},t.clearSearch=function(){t.isSupport()&&e.localStorage.removeItem("live-search")},t.searchWarp=function(e){var t=[];return e.forEach(function(e){t.push({name:e})}),t},t.matchSearch=function(e){var n=t.getSearch();if(!e)return n.length>5&&(n=n.slice(0,5)),t.searchWarp(n);var i=[];return n.forEach(function(t){t.indexOf(e)>-1&&i.push(t)}),i.length>5&&(i=i.slice(0,5)),t.searchWarp(i)},t.getSearchHuman=function(){if(!t.isSupport())return[];var n=e.localStorage.getItem("live-search-human"),i=[];if(n)try{i=JSON.parse(n)}catch(e){console.log(e)}return i},t.clearSearchHuman=function(){t.isSupport()&&e.localStorage.removeItem("live-search-human")},t.addSearchHuman=function(n){if(t.isSupport()&&(n=(n||"")+"",n=n.replace(/^\s+/g,"").replace(/\s+$/g,""))){var i=t.getSearchHuman(),a=i.findIndex(function(e){return e===n});a>-1&&i.splice(a,1),i.unshift(n),i.length>1e3&&i.splice(1e3,i.length-1e3),e.localStorage.setItem("live-search-human",JSON.stringify(i))}},t.searchHumanWarp=function(e){if(!t.isSupport())return[];var n=[];return e.forEach(function(e){n.push({name:e})}),n},t.matchSearchHuman=function(e){if(!t.isSupport())return[];var n=t.getSearchHuman();if(!e)return n.length>5&&(n=n.slice(0,5)),t.searchHumanWarp(n);var i=[];return n.forEach(function(t){t.indexOf(e)>-1&&i.push(t)}),i.length>5&&(i=i.slice(0,5)),t.searchHumanWarp(i)},t.getClaimCompany=function(n){var i="claim-company";if(n&&(i+="-".concat(encodeURIComponent(n))),!t.isSupport())return null;var a=e.localStorage.getItem(i),o="";if(a)try{o=JSON.parse(a)}catch(e){console.log(e)}return o},t.addClaimCompany=function(n,i,a){var o="claim-company";if(a&&(o+="-".concat(encodeURIComponent(a))),t.isSupport()&&n){var r="";try{r=JSON.stringify({data:n,time:i})}catch(e){console.log(e)}e.localStorage.setItem(o,r)}},t.getHomeClaimCompany=function(n){var i="claim-company-home";if(n&&(i+="-".concat(encodeURIComponent(n))),!t.isSupport())return null;var a=e.localStorage.getItem(i),o="";if(a)try{o=JSON.parse(a)}catch(e){console.log(e)}return o},t.addHomeClaimCompany=function(n,i,a){var o="claim-company-home";if(a&&(o+="-".concat(encodeURIComponent(a))),t.isSupport()&&n){var r="";try{r=JSON.stringify({data:n,time:i})}catch(e){console.log(e)}e.localStorage.setItem(o,r)}},t.getClaimCompanyLabels=function(){if(!t.isSupport())return null;var n=e.localStorage.getItem("claim-company-label"),i="";if(n)try{i=JSON.parse(n)}catch(e){console.log(e)}return i},t.addClaimCompanyLabels=function(n,i){if(t.isSupport()&&n){var a="";try{a=JSON.stringify({data:n,time:i})}catch(e){console.log(e)}e.localStorage.setItem("claim-company-label",a)}},t.add_magic_bg=function(n,i){if(t.isSupport()&&n){var a="";try{a=JSON.stringify(n),e.localStorage.setItem("live-magic-bg",a)}catch(e){console.log(e)}}},t.get_magic_bg=function(){if(!t.isSupport())return null;var n=e.localStorage.getItem("live-magic-bg"),i=[];if(n)try{i=JSON.parse(n)}catch(e){console.log(e)}return i},t.getHistroyCompany=function(){if(!t.isSupport())return[];var n=e.localStorage.getItem("history-company"),i=[];if(n)try{i=JSON.parse(n)}catch(e){console.log(e)}return i},t.matchHistroyCompany=function(){var e=t.getHistroyCompany();return e.length>5&&(e=e.slice(0,5)),e},t.addHistroyCompany=function(n){if(t.isSupport()){n=n||{};var i=n,a=i.id;if(a){var o=t.getHistroyCompany(),r=o.findIndex(function(e){return e&&e.id===a});r>-1&&o.splice(r,1),o.unshift(n),o.length>1e3&&o.splice(1e3,o.length-1e3),e.localStorage.setItem("history-company",JSON.stringify(o))}}},t.clearHistroyCompany=function(){t.isSupport()&&e.localStorage.removeItem("history-company")},t.getHistroyHuman=function(){if(!t.isSupport())return[];var n=e.localStorage.getItem("history-human"),i=[];if(n)try{i=JSON.parse(n)}catch(e){console.log(e)}return i},t.matchHistroyHuman=function(){var e=t.getHistroyHuman();return e.length>5&&(e=e.slice(0,5)),e},t.addHistroyHuman=function(n){if(t.isSupport()){n=n||{};var i=n,a=i.cid,o=n,r=o.hid;if(a&&r){var s=t.getHistroyHuman(),c=s.findIndex(function(e){return e&&e.cid===a&&e.hid===r});c>-1&&s.splice(c,1),s.unshift(n),s.length>1e3&&s.splice(1e3,s.length-1e3),e.localStorage.setItem("history-human",JSON.stringify(s))}}},t.clearHistroyHuman=function(){t.isSupport()&&e.localStorage.removeItem("history-human")},t.getHistroyDishonest=function(){if(!t.isSupport())return[];var n=e.localStorage.getItem("history-dishonest"),i=[];if(n)try{i=JSON.parse(n)}catch(e){console.log(e)}return i},t.matchHistroyDishonest=function(){var e=t.getHistroyDishonest();return e.length>5&&(e=e.slice(0,5)),e},t.addHistroyDishonest=function(n){if(t.isSupport()){n=n||{};var i=n,a=i.name;if(a){var o=t.getHistroyDishonest(),r=o.findIndex(function(e){return e&&e.name===a});r>-1&&o.splice(r,1),o.unshift(n),o.length>1e3&&o.splice(1e3,o.length-1e3),e.localStorage.setItem("history-dishonest",JSON.stringify(o))}}},t.clearHistroyDishonest=function(){t.isSupport()&&e.localStorage.removeItem("history-dishonest")},t.getErrorCompany=function(n){if(!t.isSupport())return[];var i=[];1==n?i=e.localStorage.getItem("history-error-company"):2==n&&(i=e.localStorage.getItem("history-error-human"));var a=[];if(i)try{a=JSON.parse(i)}catch(e){console.log(e)}return a},t.addErrorCompany=function(n,i,a,o,r){var s="history-error-company";if(t.isSupport()&&i&&n&&(2!=n||(s="history-error-human",a))){var c={
errorType:n,companyid:i,hgid:a};c[o]=r;var l=t.getErrorCompany(n);if(l.length){l.some(function(e){return 2==n?e.companyid==i&&e.hgid==a:e.companyid==i})?l.forEach(function(e,t){var s=e.companyid==i;2==n&&(s=e.companyid==i&&e.hgid==a),s&&(e[o]=r)}):(l.length>=10&&l.shift(),l.push(c))}else l.push(c);e.localStorage.setItem(s,JSON.stringify(l))}},t.removeErrorCompany=function(n,i,a){var o="history-error-company";if(t.isSupport()&&i&&n&&(2!=n||(o="history-error-human",a))){var r=t.getErrorCompany(n);if(r.length){var s=r.filter(function(e){return e.companyid!=i});e.localStorage.setItem(o,JSON.stringify(s))}}},t.getInvoiceStorage=function(n){if(!t.isSupport())return[];var i=[];if(listStr=e.localStorage.getItem(n),listStr)try{i=JSON.parse(listStr)}catch(e){console.log(e)}return i},t.addInvoiceStorage=function(n,i,a){var o="",n=n||"",i=i||"",r=a||{};if("eTicket"==n?o="eTicketStorage":"normal"==n?o="normalStorage":"special"==n&&(o="specialStorage"),""==i||""==o)return!1;var s=t.getInvoiceStorage(o),c=s.findIndex(function(e){return e&&e.mobile==i});c>-1&&s.splice(c,1),s.unshift(r),s.length>5&&s.splice(5,list.length-5),e.localStorage.setItem(o,JSON.stringify(s))},t.getInvoiceItem=function(e,n){var i="",e=e||"",n=n||"",a={};if(a.hasItem=!1,"eTicket"==e?i="eTicketStorage":"normal"==e?i="normalStorage":"special"==e&&(i="specialStorage"),""==n||""==i)return!1;var o=t.getInvoiceStorage(i),r=o.findIndex(function(e){return e&&e.mobile==n});return r>-1&&(a.hasItem=!0,a.item=o[r]),a},t.setStorage=function(n,i){if(!t.isSupport())return!1;e.localStorage.setItem(n,i)},t.getStorage=function(n){return!!t.isSupport()&&e.localStorage.getItem(n)},t.removeStorage=function(n){if(!t.isSupport())return!1;e.localStorage.removeItem(n)},t.getBannerPhone=function(){if(!t.isSupport())return[];var n=e.localStorage.getItem("history-banner-phone"),i=[];if(n)try{i=JSON.parse(n)}catch(e){console.log(e)}return i},t.clearBannerPhone=function(){t.isSupport()&&e.localStorage.removeItem("history-banner-phone")},t.addBannerPhone=function(n){if(t.isSupport()&&n){var i=t.getBannerPhone(),a=i.findIndex(function(e){return e&&e.phone===n.phone});a>-1?i[a]=n.phone:i.unshift(n),i.length>1e3&&i.splice(1e3,i.length-1e3),e.localStorage.setItem("history-banner-phone",JSON.stringify(i))}},t.matchBannerPhone=function(e){var n=t.getBannerPhone(),i=n.findIndex(function(t){return t&&t.phone===e});if(i>-1)return n[i]},t.getHistroyRisk=function(){if(!t.isSupport())return[];var n=e.localStorage.getItem("history-risk"),i=[];if(n)try{i=JSON.parse(n)}catch(e){console.log(e)}return i},t.matchHistroyRisk=function(){var e=t.getHistroyRisk();return e.length>5&&(e=e.slice(0,5)),e},t.addHistroyRisk=function(n){if(t.isSupport()){n=n||{};var i=n,a=i.name;if(a){var o=t.getHistroyRisk(),r=o.findIndex(function(e){return e&&e.name===a});r>-1&&o.splice(r,1),o.unshift(n),o.length>1e3&&o.splice(1e3,o.length-1e3),e.localStorage.setItem("history-risk",JSON.stringify(o))}}},t.clearHistroyRisk=function(){t.isSupport()&&e.localStorage.removeItem("history-risk")},e.tyc_storage=t,t}),define("util/liveSearch.auto",["window","jquery","util/query","util/ejs","util/UserManage","util/storage"],function(e,t,n,i,a,o){if(t.fn.liveSearchAuto)return t.fn.liveSearchAuto;e.TYC_UI||(e.TYC_UI={});var r=e.TYC_UI.LIVESEARCH;r||(r=e.TYC_UI.LIVESEARCH={});var s=function(t){if(t=t||"",t.trim()){for(var n=t.split("."),i=e,a=0;a<n.length;a++){if(!i[n[a]])return null;i=i[n[a]]}return i}},c=function(e,t){var e={companyList:e,type:t};return a.logged()||(e.needLogin=!0),i.render("live-search/company",e)},l=function(e,t){return i.render("live-search/human",{localData:e,humanInfo:t})},d=function(e,n){var i=this;this.$target=e,this.options=n,e.attr("autocomplete","off"),e.siblings("ul").remove();var a=this.$ul=t('<ul class="live-search-content hidden"></ul>');e.after(a),this.timer=null,this.dataStore=[],this.prevalue="";var r=function(o){var r=t(this).val(),s=o.keyCode;if(a.find("li").length?a.removeClass("hidden"):a.addClass("hidden"),38===s||40===s)i.selectOption(s);else if(37===s||39===s||16===s||17===s||18===s||20===s);else if(13===s){if(n.enterSelected||e.attr("enter-selected")){var c=a.find("li").index(a.find("li.selected"));if(-1===c)return;var l=i.dataStore[c];i.selected(l)}a.addClass("hidden")}else"false"!==t(this).attr("suggest")&&i.renderSuggest(r,!0);i.updateClear(r)};e.on("keyup change",function(t){r.call(this,t);var n=s(e.attr("event-trigger"));n&&n.call(this,t)}),e.on("paste",function(t){setTimeout(function(){r.call(this,t);var n=s(e.attr("event-trigger"));n&&n.call(this,t)},0)}),e.on("click",function(n){if(!t(this).val()){r.call(this,n);var i=s(e.attr("event-trigger"));i&&i.call(this,n)}a.find("li").length>0&&a.removeClass("hidden").find("li.selected").removeClass("selected")}),e.on("dblclick",function(){i.renderSuggest(e.val(),!0)}),e.parent().on("click.liSelect","li",function(){if(!t(this).hasClass("-login")){var e=a.find("li").index(this);if(-1!==e){var n=i.dataStore[e];i.selected(n,e),a.addClass("hidden")}}}),e.parent().on("click.operate",".operate",function(){var e=t(this),n=e.attr("operate");"clearHistroyCompany"==n?o.clearHistroyCompany():"clearHistroyHuman"==n&&o.clearHistroyHuman(),a.empty()}),t("body").on("click.".concat(e.id),function(n){var i=t(n.target);a.hasClass("hidden")||e.parent().has(i).length||a.addClass("hidden")});e.val();e.data("live-search-state","complete")},u=d.prototype;u.selected=function(t,n){var i=this,a=this.options,o=this.$target;if(t&&"historyTitle"!=t.type){if(a.clickSelected&&"function"==typeof a.clickSelected)a.clickSelected(t);else if(o.attr("click-selected")){var r=s(o.attr("click-selected"));"function"==typeof r&&r(t)}else i.selectedHandler&&i.selectedHandler(t);if(e.stget&&"function"==typeof e.stget){var c="CompanySearch.Search.".concat(i.$ul.find("li").eq(n).hasClass("-local")?"Local.":"Suggest.","Click");e.stget(c,""+n,encodeURIComponent(t.name))}}},u.selectedHandler=function(e){},u.selectOption=function(t){var n=38===t?-1:1,i=38===t?"CompanySearch.Input.Suggest.MoveUp":"CompanySearch.Input.Suggest.MoveDown",a=this,o=this.$ul,r=this.$target,s=o.find("li"),c=s.index(o.find("li.selected")),l=s.length,d=c+n;if(l){if(d>=l?d=0:d<-1&&(d=l-1),s.removeClass("selected"),-1===d)return r.val(a.prevalue),void(e.stget&&"function"==typeof e.stget&&e.stget(i,""+d,encodeURIComponent(a.prevalue)));var u=s.eq(d).addClass("selected"),i="CompanySearch.Search.".concat(u.hasClass("-local")?"Local.":"Suggest.").concat(38===t?"MoveUp":"MoveDown");"true"!==r.attr("livesearch-is-human")&&(r.val(u.find(".js-text").text()),e.stget&&"function"==typeof e.stget&&e.stget(i,""+d,encodeURIComponent(u.find(".js-text").text())))}};return u.renderSuggest=function(e,t){e=e||"",e=e.trim();var i=this,a=this.$ul,r=this.$target,s=r.attr("livesearch-is-human");if(clearTimeout(i.timer),e)i.timer=setTimeout(function(){i.timer=null;var e=r.val();if(i.prevalue===e)return void(t&&a.find("li").length&&a.removeClass("hidden"));i.prevalue=e,e&&e.replace(/\\/gi,"")&&("true"!==s?n.findex_suggest(e.replace(/\\/gi,"")).then(function(e){if(e.data&&e.data.length)var n=e.data;n&&n.length?(a.html(c(n)),i.dataStore=n,t&&a.removeClass("hidden")):(i.dataStore=[],a.empty().addClass("hidden"))}):n.index_human_suggest(e).then(function(e){var n=[];e.data&&e.data.resultList&&e.data.resultList.length&&(n=e.data.resultList),n.length?(a.html(l(n,e.data)),i.dataStore=e.data.resultList,t&&a.removeClass("hidden")):(i.dataStore=[],a.empty().addClass("hidden"))}))},50);else if("true"!==s){var d=o.matchHistroyCompany();if(!d.length)return a.addClass("hidden");d.unshift({type:"historyTitle"}),a.html(c(d,"historyCompany")),i.dataStore=d}else{var d=o.matchHistroyHuman();if(!d.length)return a.addClass("hidden");d.unshift({type:"historyTitle"}),a.html(l(d,[])),i.dataStore=d}},u.config=function(e){return this},u.updateClear=function(e){e=e||"",e=e.trim();var t=this.$target.parents(".search-group").find(".clear-input");e?t.removeClass("hidden"):t.addClass("hidden")},u.getSelected=function(){var e=this,t=this.$ul,n=t.find("li"),i=n.index(t.find("li.selected"));return e.dataStore[i]},u.hide=function(){this.$target.parent().addClass("hidden")},u.show=function(){this.$target.parent().removeClass("hidden")},t.fn.liveSearchAuto=function(e){e=e||{};var n=this;if(n.each(function(n){var i=t(this),a=i.attr("id");if(a&&r[a]&&i.data("live-search-state")){return r[a].config(e)}a||(a="live-search-".concat("".concat((new Date).getTime()).substring(8)),i.attr("id",a)),i.wrap('<div class="live-search-wrap"></div>');var o=i.parent();e.wrapClass?o.addClass(e.wrapClass):i.attr("wrap-class")&&o.addClass(i.attr("wrap-class")),i.hasClass("hidden")&&(o.addClass(i.addClass("hidden")),i.removeClass("hidden")),r[a]=new d(i,e)}),1===n.length)return r[n.attr("id")]},t(".js-live-search-auto").liveSearchAuto(),t.fn.liveSearchAuto}),function(){function e(e){return e+="",e.charAt(0).toUpperCase()+e.slice(1)}function t(e,t,n){var a={"10.0":"10",6.4:"10 Technical Preview",6.3:"8.1",6.2:"8",6.1:"Server 2008 R2 / 7","6.0":"Server 2008 / Vista",5.2:"Server 2003 / XP 64-bit",5.1:"XP",5.01:"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"};return t&&n&&/^Win/i.test(e)&&!/^Windows Phone /i.test(e)&&(a=a[/[\d.]+$/.exec(e)])&&(e="Windows "+a),e+="",t&&n&&(e=e.replace(RegExp(t,"i"),n)),e=i(e.replace(/ ce$/i," CE").replace(/\bhpw/i,"web").replace(/\bMacintosh\b/,"Mac OS").replace(/_PowerPC\b/i," OS").replace(/\b(OS X) [^ \d]+/i,"$1").replace(/\bMac (OS X)\b/,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/\bx86\.64\b/gi,"x86_64").replace(/\b(Windows Phone) OS\b/,"$1").replace(/\b(Chrome OS \w+) [\d.]+\b/,"$1").split(" on ")[0])}function n(e,t){var n=-1,i=e?e.length:0;if("number"==typeof i&&i>-1&&i<=v)for(;++n<i;)t(e[n],n,e);else a(e,t)}function i(t){return t=l(t),/^(?:webOS|i(?:OS|P))/.test(t)?t:e(t)}function a(e,t){for(var n in e)_.call(e,n)&&t(e[n],n,e)}function o(t){return null==t?e(t):C.call(t).slice(8,-1)}function r(e,t){var n=null!=e?typeof e[t]:"number";return!(/^(?:boolean|number|string|undefined)$/.test(n)||"object"==n&&!e[t])}function s(e){return(e+"").replace(/([ -])(?!$)/g,"$1?")}function c(e,t){var i=null;return n(e,function(n,a){i=t(i,n,a,e)}),i}function l(e){return(e+"").replace(/^ +| +$/g,"")}function d(e){function n(t){return c(t,function(t,n){var a=n.pattern||s(n);return!t&&(t=RegExp("\\b"+a+" *\\d+[.\\w_]*","i").exec(e)||RegExp("\\b"+a+" *\\w+-[\\w]*","i").exec(e)||RegExp("\\b"+a+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(e))&&((t=((n.label&&!RegExp(a,"i").test(n.label)?n.label:t)+"").split("/"))[1]&&!/[\d.]+/.test(t[0])&&(t[0]+=" "+t[1]),n=n.label||n,t=i(t[0].replace(RegExp(a,"i"),n).replace(RegExp("; *(?:"+n+"[_-])?","i")," ").replace(RegExp("("+n+")[-_.]?(\\w)","i"),"$1 $2"))),t})}function u(){return this.description||""}var h=p,m=e&&"object"==typeof e&&"String"!=o(e);m&&(h=e,e=null);var g=h.navigator||{},v=g.userAgent||"";e||(e=v);var w,_,S=m||b==f,k=m?!!g.likeChrome:/\bChrome\b/.test(e)&&!/internal|\n/i.test(""+C),x=m?"Object":"ScriptBridgingProxyObject",I=m?"Object":"Environment",D=m&&h.java?"JavaPackage":o(h.java),P=m?"Object":"RuntimeObject",M=/\bJava/.test(D)&&h.java,T=M&&o(h.environment)==I,j=M?"a":"Œ±",E=M?"b":"Œ≤",O=h.document||{},A=h.operamini||h.opera,R=y.test(R=m&&A?A["[[Class]]"]:o(A))?R:A=null,L=e,N=[],U=null,B=e==v,H=B&&A&&"function"==typeof A.version&&A.version(),V=function(t){return c(t,function(t,n){return t||RegExp("\\b"+(n.pattern||s(n))+"\\b","i").exec(e)&&(n.label||n)})}([{"label":"EdgeHTML","pattern":"Edge"},"Trident",{"label":"WebKit","pattern":"AppleWebKit"},"iCab","Presto","NetFront","Tasman","KHTML","Gecko"]),W=function(t){return c(t,function(t,n){return t||RegExp("\\b"+(n.pattern||s(n))+"\\b","i").exec(e)&&(n.label||n)})}(["Adobe AIR","Arora","Avant Browser","Breach","Camino","Electron","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel","K-Meleon","Konqueror","Lunascape","Maxthon",{"label":"Microsoft Edge","pattern":"Edge"},"Midori","Nook Browser","PaleMoon","PhantomJS","Raven","Rekonq","RockMelt",{"label":"Samsung Internet","pattern":"SamsungBrowser"},"SeaMonkey",{"label":"Silk","pattern":"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser",{"label":"SRWare Iron","pattern":"Iron"},"Sunrise","Swiftfox","Waterfox","WebPositive","Opera Mini",{"label":"Opera Mini","pattern":"OPiOS"},"Opera",{"label":"Opera","pattern":"OPR"},"Chrome",{"label":"Chrome Mobile","pattern":"(?:CriOS|CrMo)"},{"label":"Firefox","pattern":"(?:Firefox|Minefield)"},{"label":"Firefox for iOS","pattern":"FxiOS"},{"label":"IE","pattern":"IEMobile"},{"label":"IE","pattern":"MSIE"},"Safari"]),z=n([{"label":"BlackBerry","pattern":"BB10"},"BlackBerry",{"label":"Galaxy S","pattern":"GT-I9000"},{"label":"Galaxy S2","pattern":"GT-I9100"},{"label":"Galaxy S3","pattern":"GT-I9300"},{"label":"Galaxy S4","pattern":"GT-I9500"},{"label":"Galaxy S5","pattern":"SM-G900"},{"label":"Galaxy S6","pattern":"SM-G920"},{"label":"Galaxy S6 Edge","pattern":"SM-G925"},{"label":"Galaxy S7","pattern":"SM-G930"},{"label":"Galaxy S7 Edge","pattern":"SM-G935"},"Google TV","Lumia","iPad","iPod","iPhone","Kindle",{"label":"Kindle Fire","pattern":"(?:Cloud9|Silk-Accelerated)"},"Nexus","Nook","PlayBook","PlayStation Vita","PlayStation","TouchPad","Transformer",{"label":"Wii U","pattern":"WiiU"},"Wii","Xbox One",{"label":"Xbox 360","pattern":"Xbox"},"Xoom"]),F=function(t){return c(t,function(t,n,i){return t||(n[z]||n[/^[a-z]+(?: +[a-z]+\b)*/i.exec(z)]||RegExp("\\b"+s(i)+"(?:\\b|\\w*\\d)","i").exec(e))&&i})}({"Apple":{"iPad":1,"iPhone":1,"iPod":1},"Archos":{},"Amazon":{"Kindle":1,"Kindle Fire":1},"Asus":{"Transformer":1},"Barnes & Noble":{"Nook":1},"BlackBerry":{"PlayBook":1},"Google":{"Google TV":1,"Nexus":1},"HP":{"TouchPad":1},"HTC":{},"LG":{},"Microsoft":{"Xbox":1,"Xbox One":1},"Motorola":{"Xoom":1},"Nintendo":{"Wii U":1,"Wii":1},"Nokia":{"Lumia":1},"Samsung":{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},"Sony":{"PlayStation":1,"PlayStation Vita":1}}),$=function(n){return c(n,function(n,i){var a=i.pattern||s(i);return!n&&(n=RegExp("\\b"+a+"(?:/[\\d.]+|[ \\w.]*)","i").exec(e))&&(n=t(n,a,i.label||i)),n})}(["Windows Phone","Android","CentOS",{"label":"Chrome OS","pattern":"CrOS"},"Debian","Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","OpenBSD","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Tizen","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "]);if(V&&(V=[V]),F&&!z&&(z=n([F])),(w=/\bGoogle TV\b/.exec(z))&&(z=w[0]),/\bSimulator\b/i.test(e)&&(z=(z?z+" ":"")+"Simulator"),"Opera Mini"==W&&/\bOPiOS\b/.test(e)&&N.push("running in Turbo/Uncompressed mode"),"IE"==W&&/\blike iPhone OS\b/.test(e)?(w=d(e.replace(/like iPhone OS/,"")),F=w.manufacturer,z=w.product):/^iP/.test(z)?(W||(W="Safari"),$="iOS"+((w=/ OS ([\d_]+)/i.exec(e))?" "+w[1].replace(/_/g,"."):"")):"Konqueror"!=W||/buntu/i.test($)?F&&"Google"!=F&&(/Chrome/.test(W)&&!/\bMobile Safari\b/i.test(e)||/\bVita\b/.test(z))||/\bAndroid\b/.test($)&&/^Chrome/.test(W)&&/\bVersion\//i.test(e)?(W="Android Browser",$=/\bAndroid\b/.test($)?$:"Android"):"Silk"==W?(/\bMobi/i.test(e)||($="Android",N.unshift("desktop mode")),/Accelerated *= *true/i.test(e)&&N.unshift("accelerated")):"PaleMoon"==W&&(w=/\bFirefox\/([\d.]+)\b/.exec(e))?N.push("identifying as Firefox "+w[1]):"Firefox"==W&&(w=/\b(Mobile|Tablet|TV)\b/i.exec(e))?($||($="Firefox OS"),z||(z=w[1])):!W||(w=!/\bMinefield\b/i.test(e)&&/\b(?:Firefox|Safari)\b/.exec(W))?(W&&!z&&/[\/,]|^[^(]+?\)/.test(e.slice(e.indexOf(w+"/")+8))&&(W=null),(w=z||F||$)&&(z||F||/\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test($))&&(W=/[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test($)?$:w)+" Browser")):"Electron"==W&&(w=(/\bChrome\/([\d.]+)\b/.exec(e)||0)[1])&&N.push("Chromium "+w):$="Kubuntu",H||(H=function(t){return c(t,function(t,n){return t||(RegExp(n+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(e)||0)[1]||null})}(["(?:Cloud9|CriOS|CrMo|Edge|FxiOS|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|SamsungBrowser|Silk(?!/[\\d.]+$))","Version",s(W),"(?:Firefox|Minefield|NetFront)"])),(w="iCab"==V&&parseFloat(H)>3&&"WebKit"||/\bOpera\b/.test(W)&&(/\bOPR\b/.test(e)?"Blink":"Presto")||/\b(?:Midori|Nook|Safari)\b/i.test(e)&&!/^(?:Trident|EdgeHTML)$/.test(V)&&"WebKit"||!V&&/\bMSIE\b/i.test(e)&&("Mac OS"==$?"Tasman":"Trident")||"WebKit"==V&&/\bPlayStation\b(?! Vita\b)/i.test(W)&&"NetFront")&&(V=[w]),"IE"==W&&(w=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(e)||0)[1])?(W+=" Mobile",$="Windows Phone "+(/\+$/.test(w)?w:w+".x"),N.unshift("desktop mode")):/\bWPDesktop\b/i.test(e)?(W="IE Mobile",$="Windows Phone 8.x",N.unshift("desktop mode"),H||(H=(/\brv:([\d.]+)/.exec(e)||0)[1])):"IE"!=W&&"Trident"==V&&(w=/\brv:([\d.]+)/.exec(e))&&(W&&N.push("identifying as "+W+(H?" "+H:"")),W="IE",H=w[1]),B){if(r(h,"global"))if(M&&(w=M.lang.System,L=w.getProperty("os.arch"),$=$||w.getProperty("os.name")+" "+w.getProperty("os.version")),S&&r(h,"system")&&(w=[h.system])[0]){$||($=w[0].os||null);try{w[1]=h.require("ringo/engine").version,H=w[1].join("."),W="RingoJS"}catch(e){w[0].global.system==h.system&&(W="Narwhal")}}else"object"==typeof h.process&&!h.process.browser&&(w=h.process)?"object"==typeof w.versions?"string"==typeof w.versions.electron?(N.push("Node "+w.versions.node),W="Electron",H=w.versions.electron):"string"==typeof w.versions.nw&&(N.push("Chromium "+H,"Node "+w.versions.node),W="NW.js",H=w.versions.nw):(W="Node.js",L=w.arch,$=w.platform,H=/[\d.]+/.exec(w.version),H=H?H[0]:"unknown"):T&&(W="Rhino");else o(w=h.runtime)==x?(W="Adobe AIR",$=w.flash.system.Capabilities.os):o(w=h.phantom)==P?(W="PhantomJS",H=(w=w.version||null)&&w.major+"."+w.minor+"."+w.patch):"number"==typeof O.documentMode&&(w=/\bTrident\/(\d+)/i.exec(e))?(H=[H,O.documentMode],(w=+w[1]+4)!=H[1]&&(N.push("IE "+H[1]+" mode"),V&&(V[1]=""),H[1]=w),H="IE"==W?H[1].toFixed(1)+"":H[0]):"number"==typeof O.documentMode&&/^(?:Chrome|Firefox)\b/.test(W)&&(N.push("masking as "+W+" "+H),W="IE",H="11.0",V=["Trident"],$="Windows");$=$&&i($)}if(H&&(w=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(H)||/(?:alpha|beta)(?: ?\d)?/i.exec(e+";"+(B&&g.appMinorVersion))||/\bMinefield\b/i.test(e)&&"a")&&(U=/b/i.test(w)?"beta":"alpha",H=H.replace(RegExp(w+"\\+?$"),"")+("beta"==U?E:j)+(/\d+\+?/.exec(w)||"")),"Fennec"==W||"Firefox"==W&&/\b(?:Android|Firefox OS)\b/.test($))W="Firefox Mobile";else if("Maxthon"==W&&H)H=H.replace(/\.[\d.]+/,".x");else if(/\bXbox\b/i.test(z))"Xbox 360"==z&&($=null),"Xbox 360"==z&&/\bIEMobile\b/.test(e)&&N.unshift("mobile mode");else if(!/^(?:Chrome|IE|Opera)$/.test(W)&&(!W||z||/Browser|Mobi/.test(W))||"Windows CE"!=$&&!/Mobi/i.test(e))if("IE"==W&&B)try{null===h.external&&N.unshift("platform preview")}catch(e){N.unshift("embedded")}else(/\bBlackBerry\b/.test(z)||/\bBB10\b/.test(e))&&(w=(RegExp(z.replace(/ +/g," *")+"/([.\\d]+)","i").exec(e)||0)[1]||H)?(w=[w,/BB10/.test(e)],$=(w[1]?(z=null,F="BlackBerry"):"Device Software")+" "+w[0],H=null):this!=a&&"Wii"!=z&&(B&&A||/Opera/.test(W)&&/\b(?:MSIE|Firefox)\b/i.test(e)||"Firefox"==W&&/\bOS X (?:\d+\.){2,}/.test($)||"IE"==W&&($&&!/^Win/.test($)&&H>5.5||/\bWindows XP\b/.test($)&&H>8||8==H&&!/\bTrident\b/.test(e)))&&!y.test(w=d.call(a,e.replace(y,"")+";"))&&w.name&&(w="ing as "+w.name+((w=w.version)?" "+w:""),y.test(W)?(/\bIE\b/.test(w)&&"Mac OS"==$&&($=null),w="identify"+w):(w="mask"+w,W=R?i(R.replace(/([a-z])([A-Z])/g,"$1 $2")):"Opera",/\bIE\b/.test(w)&&($=null),B||(H=null)),V=["Presto"],N.push(w));else W+=" Mobile";(w=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(e)||0)[1])&&(w=[parseFloat(w.replace(/\.(\d)$/,".0$1")),w],"Safari"==W&&"+"==w[1].slice(-1)?(W="WebKit Nightly",U="alpha",H=w[1].slice(0,-1)):H!=w[1]&&H!=(w[2]=(/\bSafari\/([\d.]+\+?)/i.exec(e)||0)[1])||(H=null),w[1]=(/\bChrome\/([\d.]+)/i.exec(e)||0)[1],537.36==w[0]&&537.36==w[2]&&parseFloat(w[1])>=28&&"WebKit"==V&&(V=["Blink"]),B&&(k||w[1])?(V&&(V[1]="like Chrome"),w=w[1]||(w=w[0],w<530?1:w<532?2:w<532.05?3:w<533?4:w<534.03?5:w<534.07?6:w<534.1?7:w<534.13?8:w<534.16?9:w<534.24?10:w<534.3?11:w<535.01?12:w<535.02?"13+":w<535.07?15:w<535.11?16:w<535.19?17:w<536.05?18:w<536.1?19:w<537.01?20:w<537.11?"21+":w<537.13?23:w<537.18?24:w<537.24?25:w<537.36?26:"Blink"!=V?"27":"28")):(V&&(V[1]="like Safari"),w=w[0],w=w<400?1:w<500?2:w<526?3:w<533?4:w<534?"4+":w<535?5:w<537?6:w<538?7:w<601?8:"8"),V&&(V[1]+=" "+(w+="number"==typeof w?".x":/[.+]/.test(w)?"":"+")),"Safari"==W&&(!H||parseInt(H)>45)&&(H=w)),"Opera"==W&&(w=/\bzbov|zvav$/.exec($))?(W+=" ",N.unshift("desktop mode"),"zvav"==w?(W+="Mini",H=null):W+="Mobile",$=$.replace(RegExp(" *"+w+"$"),"")):"Safari"==W&&/\bChrome\b/.exec(V&&V[1])&&(N.unshift("desktop mode"),W="Chrome Mobile",H=null,/\bOS X\b/.test($)?(F="Apple",$="iOS 4.3+"):$=null),H&&0==H.indexOf(w=/[\d.]+$/.exec($))&&e.indexOf("/"+w+"-")>-1&&($=l($.replace(w,""))),V&&!/\b(?:Avant|Nook)\b/.test(W)&&(/Browser|Lunascape|Maxthon/.test(W)||"Safari"!=W&&/^iOS/.test($)&&/\bSafari\b/.test(V[1])||/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Samsung Internet|Sleipnir|Web)/.test(W)&&V[1])&&(w=V[V.length-1])&&N.push(w),N.length&&(N=["("+N.join("; ")+")"]),F&&z&&z.indexOf(F)<0&&N.push("on "+F),z&&N.push((/^on /.test(N[N.length-1])?"":"on ")+z),$&&(w=/ ([\d.+]+)$/.exec($),_=w&&"/"==$.charAt($.length-w[0].length-1),$={"architecture":32,"family":w&&!_?$.replace(w[0],""):$,"version":w?w[1]:null,"toString":function(){var e=this.version;return this.family+(e&&!_?" "+e:"")+(64==this.architecture?" 64-bit":"")}}),(w=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(L))&&!/\bi686\b/i.test(L)?($&&($.architecture=64,$.family=$.family.replace(RegExp(" *"+w),"")),W&&(/\bWOW64\b/i.test(e)||B&&/\w(?:86|32)$/.test(g.cpuClass||g.platform)&&!/\bWin64; x64\b/i.test(e))&&N.unshift("32-bit")):$&&/^OS X/.test($.family)&&"Chrome"==W&&parseFloat(H)>=39&&($.architecture=64),e||(e=null);var Y={};return Y.description=e,Y.layout=V&&V[0],Y.manufacturer=F,Y.name=W,Y.prerelease=U,Y.product=z,Y.ua=e,Y.version=W&&H,Y.os=$||{"architecture":null,"family":null,"version":null,"toString":function(){return"null"}},Y.parse=d,Y.toString=u,Y.version&&N.unshift(H),Y.name&&N.unshift(W),$&&W&&($!=($+"").split(" ")[0]||$!=W.split(" ")[0]&&!z)&&N.push(z?"("+$+")":"on "+$),N.length&&(Y.description=N.join(" ")),Y}var u={"function":!0,"object":!0},p=u[typeof window]&&window||this,f=p,h=u[typeof exports]&&exports,m=u[typeof module]&&module&&!module.nodeType&&module,g=h&&m&&"object"==typeof global&&global;!g||g.global!==g&&g.window!==g&&g.self!==g||(p=g);var v=Math.pow(2,53)-1,y=/\bOpera/,b=this,w=Object.prototype,_=w.hasOwnProperty,C=w.toString,S=d();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(p.platform=S,define("lib/platform",[],function(){return S})):h&&m?a(S,function(e,t){h[t]=e}):p.platform=S}.call(this),define("util/msgInit",["window","Base64"],function(e,t){var n=function(){function e(e){var t=this.__MSG_QS__;t[e]||(t[e]=[]);for(var n=1,i=arguments.length;n<i;n++)t[e].push(arguments[n])}function t(e){var t=this.__MSG_QS__[e.type];if(null!=t)for(var n=0,i=t.length;n<i;n++)t[n].rm(e)}return{ini:function(n){return n.__MSG_QS__={},n.on=e,n.dm=t,n}}}();e.msgQS=n,e.F=n.ini({rm:function(e){switch(e.type){case"response":t.charDecode(e.data)}}}),e._0x9ad=[".xhtml"]}),function(e){"use strict";function t(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function n(e,t){return e<<t|e>>>32-t}function i(e,i,a,o,r,s){return t(n(t(t(i,e),t(o,s)),r),a)}function a(e,t,n,a,o,r,s){return i(t&n|~t&a,e,t,o,r,s)}function o(e,t,n,a,o,r,s){return i(t&a|n&~a,e,t,o,r,s)}function r(e,t,n,a,o,r,s){return i(t^n^a,e,t,o,r,s)}function s(e,t,n,a,o,r,s){return i(n^(t|~a),e,t,o,r,s)}function c(e,n){e[n>>5]|=128<<n%32,e[14+(n+64>>>9<<4)]=n;var i,c,l,d,u,p=1732584193,f=-271733879,h=-1732584194,m=271733878;for(i=0;i<e.length;i+=16)c=p,l=f,d=h,u=m,p=a(p,f,h,m,e[i],7,-680876936),m=a(m,p,f,h,e[i+1],12,-389564586),h=a(h,m,p,f,e[i+2],17,606105819),f=a(f,h,m,p,e[i+3],22,-1044525330),p=a(p,f,h,m,e[i+4],7,-176418897),m=a(m,p,f,h,e[i+5],12,1200080426),h=a(h,m,p,f,e[i+6],17,-1473231341),f=a(f,h,m,p,e[i+7],22,-45705983),p=a(p,f,h,m,e[i+8],7,1770035416),m=a(m,p,f,h,e[i+9],12,-1958414417),h=a(h,m,p,f,e[i+10],17,-42063),f=a(f,h,m,p,e[i+11],22,-1990404162),p=a(p,f,h,m,e[i+12],7,1804603682),m=a(m,p,f,h,e[i+13],12,-40341101),h=a(h,m,p,f,e[i+14],17,-1502002290),f=a(f,h,m,p,e[i+15],22,1236535329),p=o(p,f,h,m,e[i+1],5,-165796510),m=o(m,p,f,h,e[i+6],9,-1069501632),h=o(h,m,p,f,e[i+11],14,643717713),f=o(f,h,m,p,e[i],20,-373897302),p=o(p,f,h,m,e[i+5],5,-701558691),m=o(m,p,f,h,e[i+10],9,38016083),h=o(h,m,p,f,e[i+15],14,-660478335),f=o(f,h,m,p,e[i+4],20,-405537848),p=o(p,f,h,m,e[i+9],5,568446438),m=o(m,p,f,h,e[i+14],9,-1019803690),h=o(h,m,p,f,e[i+3],14,-187363961),f=o(f,h,m,p,e[i+8],20,1163531501),p=o(p,f,h,m,e[i+13],5,-1444681467),m=o(m,p,f,h,e[i+2],9,-51403784),h=o(h,m,p,f,e[i+7],14,1735328473),f=o(f,h,m,p,e[i+12],20,-1926607734),p=r(p,f,h,m,e[i+5],4,-378558),m=r(m,p,f,h,e[i+8],11,-2022574463),h=r(h,m,p,f,e[i+11],16,1839030562),f=r(f,h,m,p,e[i+14],23,-35309556),p=r(p,f,h,m,e[i+1],4,-1530992060),m=r(m,p,f,h,e[i+4],11,1272893353),h=r(h,m,p,f,e[i+7],16,-155497632),f=r(f,h,m,p,e[i+10],23,-1094730640),p=r(p,f,h,m,e[i+13],4,681279174),m=r(m,p,f,h,e[i],11,-358537222),h=r(h,m,p,f,e[i+3],16,-722521979),f=r(f,h,m,p,e[i+6],23,76029189),p=r(p,f,h,m,e[i+9],4,-640364487),m=r(m,p,f,h,e[i+12],11,-421815835),h=r(h,m,p,f,e[i+15],16,530742520),f=r(f,h,m,p,e[i+2],23,-995338651),p=s(p,f,h,m,e[i],6,-198630844),m=s(m,p,f,h,e[i+7],10,1126891415),h=s(h,m,p,f,e[i+14],15,-1416354905),f=s(f,h,m,p,e[i+5],21,-57434055),p=s(p,f,h,m,e[i+12],6,1700485571),m=s(m,p,f,h,e[i+3],10,-1894986606),h=s(h,m,p,f,e[i+10],15,-1051523),f=s(f,h,m,p,e[i+1],21,-2054922799),p=s(p,f,h,m,e[i+8],6,1873313359),m=s(m,p,f,h,e[i+15],10,-30611744),h=s(h,m,p,f,e[i+6],15,-1560198380),f=s(f,h,m,p,e[i+13],21,1309151649),p=s(p,f,h,m,e[i+4],6,-145523070),m=s(m,p,f,h,e[i+11],10,-1120210379),h=s(h,m,p,f,e[i+2],15,718787259),f=s(f,h,m,p,e[i+9],21,-343485551),p=t(p,c),f=t(f,l),h=t(h,d),m=t(m,u);return[p,f,h,m]}function l(e){var t,n="",i=32*e.length;for(t=0;t<i;t+=8)n+=String.fromCharCode(e[t>>5]>>>t%32&255);return n}function d(e){var t,n=[];for(n[(e.length>>2)-1]=void 0,t=0;t<n.length;t+=1)n[t]=0;var i=8*e.length;for(t=0;t<i;t+=8)n[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return n}function u(e){return l(c(d(e),8*e.length))}function p(e,t){var n,i,a=d(e),o=[],r=[];for(o[15]=r[15]=void 0,a.length>16&&(a=c(a,8*e.length)),n=0;n<16;n+=1)o[n]=909522486^a[n],r[n]=1549556828^a[n];return i=c(o.concat(d(t)),512+8*t.length),l(c(r.concat(i),640))}function f(e){var t,n,i="0123456789abcdef",a="";for(n=0;n<e.length;n+=1)t=e.charCodeAt(n),a+=i.charAt(t>>>4&15)+i.charAt(15&t);return a}function h(e){return unescape(encodeURIComponent(e))}function m(e){return u(h(e))}function g(e){return f(m(e))}function v(e,t){return p(h(e),h(t))}function y(e,t){return f(v(e,t))}function b(e,t,n){return t?n?v(t,e):y(t,e):n?m(e):g(e)}"function"==typeof define&&define.amd?define("md5",[],function(){return b}):"object"==typeof module&&module.exports?module.exports=b:e.md5=b}(this),QR8bitByte.prototype={getLength:function(e){return this.data.length},write:function(e){for(var t=0;t<this.data.length;t++)e.put(this.data.charCodeAt(t),8)}},QRCode.prototype={addData:function(e){var t=new QR8bitByte(e);this.dataList.push(t),this.dataCache=null},isDark:function(e,t){if(e<0||this.moduleCount<=e||t<0||this.moduleCount<=t)throw Error(e+","+t);return this.modules[e][t]},getModuleCount:function(){return this.moduleCount},make:function(){if(this.typeNumber<1){var e=1;for(e=1;e<40;e++){for(var t=QRRSBlock.getRSBlocks(e,this.errorCorrectLevel),n=new QRBitBuffer,i=0,a=0;a<t.length;a++)i+=t[a].dataCount;for(var a=0;a<this.dataList.length;a++){var o=this.dataList[a];n.put(o.mode,4),n.put(o.getLength(),QRUtil.getLengthInBits(o.mode,e)),o.write(n)}if(n.getLengthInBits()<=8*i)break}this.typeNumber=e}this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(e,t){this.moduleCount=4*this.typeNumber+17,this.modules=Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++){this.modules[n]=Array(this.moduleCount);for(var i=0;i<this.moduleCount;i++)this.modules[n][i]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,t),this.typeNumber>=7&&this.setupTypeNumber(e),null==this.dataCache&&(this.dataCache=QRCode.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,t)},setupPositionProbePattern:function(e,t){for(var n=-1;n<=7;n++)if(!(e+n<=-1||this.moduleCount<=e+n))for(var i=-1;i<=7;i++)t+i<=-1||this.moduleCount<=t+i||(this.modules[e+n][t+i]=0<=n&&n<=6&&(0==i||6==i)||0<=i&&i<=6&&(0==n||6==n)||2<=n&&n<=4&&2<=i&&i<=4)},getBestMaskPattern:function(){for(var e=0,t=0,n=0;n<8;n++){this.makeImpl(!0,n);var i=QRUtil.getLostPoint(this);(0==n||e>i)&&(e=i,t=n)}return t},createMovieClip:function(e,t,n){var i=e.createEmptyMovieClip(t,n);this.make();for(var a=0;a<this.modules.length;a++)for(var o=1*a,r=0;r<this.modules[a].length;r++){var s=1*r,c=this.modules[a][r];c&&(i.beginFill(0,100),i.moveTo(s,o),i.lineTo(s+1,o),i.lineTo(s+1,o+1),i.lineTo(s,o+1),i.endFill())}return i},setupTimingPattern:function(){for(var e=8;e<this.moduleCount-8;e++)null==this.modules[e][6]&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t++)null==this.modules[6][t]&&(this.modules[6][t]=t%2==0)},setupPositionAdjustPattern:function(){for(var e=QRUtil.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var n=0;n<e.length;n++){var i=e[t],a=e[n];if(null==this.modules[i][a])for(var o=-2;o<=2;o++)for(var r=-2;r<=2;r++)this.modules[i+o][a+r]=-2==o||2==o||-2==r||2==r||0==o&&0==r}},setupTypeNumber:function(e){for(var t=QRUtil.getBCHTypeNumber(this.typeNumber),n=0;n<18;n++){var i=!e&&1==(t>>n&1);this.modules[Math.floor(n/3)][n%3+this.moduleCount-8-3]=i}for(var n=0;n<18;n++){var i=!e&&1==(t>>n&1);this.modules[n%3+this.moduleCount-8-3][Math.floor(n/3)]=i}},setupTypeInfo:function(e,t){for(var n=this.errorCorrectLevel<<3|t,i=QRUtil.getBCHTypeInfo(n),a=0;a<15;a++){var o=!e&&1==(i>>a&1);a<6?this.modules[a][8]=o:a<8?this.modules[a+1][8]=o:this.modules[this.moduleCount-15+a][8]=o}for(var a=0;a<15;a++){var o=!e&&1==(i>>a&1);a<8?this.modules[8][this.moduleCount-a-1]=o:a<9?this.modules[8][15-a-1+1]=o:this.modules[8][15-a-1]=o}this.modules[this.moduleCount-8][8]=!e},mapData:function(e,t){for(var n=-1,i=this.moduleCount-1,a=7,o=0,r=this.moduleCount-1;r>0;r-=2)for(6==r&&r--;;){for(var s=0;s<2;s++)if(null==this.modules[i][r-s]){var c=!1;o<e.length&&(c=1==(e[o]>>>a&1));var l=QRUtil.getMask(t,i,r-s);l&&(c=!c),this.modules[i][r-s]=c,a--,-1==a&&(o++,a=7)}if((i+=n)<0||this.moduleCount<=i){i-=n,n=-n;break}}}},QRCode.PAD0=236,QRCode.PAD1=17,QRCode.createData=function(e,t,n){for(var i=QRRSBlock.getRSBlocks(e,t),a=new QRBitBuffer,o=0;o<n.length;o++){var r=n[o];a.put(r.mode,4),a.put(r.getLength(),QRUtil.getLengthInBits(r.mode,e)),r.write(a)}for(var s=0,o=0;o<i.length;o++)s+=i[o].dataCount;if(a.getLengthInBits()>8*s)throw Error("code length overflow. ("+a.getLengthInBits()+">"+8*s+")");for(a.getLengthInBits()+4<=8*s&&a.put(0,4);a.getLengthInBits()%8!=0;)a.putBit(!1);for(;;){if(a.getLengthInBits()>=8*s)break;if(a.put(QRCode.PAD0,8),a.getLengthInBits()>=8*s)break;a.put(QRCode.PAD1,8)}return QRCode.createBytes(a,i)},QRCode.createBytes=function(e,t){for(var n=0,i=0,a=0,o=Array(t.length),r=Array(t.length),s=0;s<t.length;s++){var c=t[s].dataCount,l=t[s].totalCount-c;i=Math.max(i,c),a=Math.max(a,l),o[s]=Array(c);for(var d=0;d<o[s].length;d++)o[s][d]=255&e.buffer[d+n];n+=c;var u=QRUtil.getErrorCorrectPolynomial(l),p=new QRPolynomial(o[s],u.getLength()-1),f=p.mod(u);r[s]=Array(u.getLength()-1);for(var d=0;d<r[s].length;d++){var h=d+f.getLength()-r[s].length;r[s][d]=h>=0?f.get(h):0}}for(var m=0,d=0;d<t.length;d++)m+=t[d].totalCount
;for(var g=Array(m),v=0,d=0;d<i;d++)for(var s=0;s<t.length;s++)d<o[s].length&&(g[v++]=o[s][d]);for(var d=0;d<a;d++)for(var s=0;s<t.length;s++)d<r[s].length&&(g[v++]=r[s][d]);return g};for(var QRMode={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},QRErrorCorrectLevel={L:1,M:0,Q:3,H:2},QRMaskPattern={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},QRUtil={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var t=e<<10;QRUtil.getBCHDigit(t)-QRUtil.getBCHDigit(QRUtil.G15)>=0;)t^=QRUtil.G15<<QRUtil.getBCHDigit(t)-QRUtil.getBCHDigit(QRUtil.G15);return(e<<10|t)^QRUtil.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;QRUtil.getBCHDigit(t)-QRUtil.getBCHDigit(QRUtil.G18)>=0;)t^=QRUtil.G18<<QRUtil.getBCHDigit(t)-QRUtil.getBCHDigit(QRUtil.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;0!=e;)t++,e>>>=1;return t},getPatternPosition:function(e){return QRUtil.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,n){switch(e){case QRMaskPattern.PATTERN000:return(t+n)%2==0;case QRMaskPattern.PATTERN001:return t%2==0;case QRMaskPattern.PATTERN010:return n%3==0;case QRMaskPattern.PATTERN011:return(t+n)%3==0;case QRMaskPattern.PATTERN100:return(Math.floor(t/2)+Math.floor(n/3))%2==0;case QRMaskPattern.PATTERN101:return t*n%2+t*n%3==0;case QRMaskPattern.PATTERN110:return(t*n%2+t*n%3)%2==0;case QRMaskPattern.PATTERN111:return(t*n%3+(t+n)%2)%2==0;default:throw Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new QRPolynomial([1],0),n=0;n<e;n++)t=t.multiply(new QRPolynomial([1,QRMath.gexp(n)],0));return t},getLengthInBits:function(e,t){if(1<=t&&t<10)switch(e){case QRMode.MODE_NUMBER:return 10;case QRMode.MODE_ALPHA_NUM:return 9;case QRMode.MODE_8BIT_BYTE:case QRMode.MODE_KANJI:return 8;default:throw Error("mode:"+e)}else if(t<27)switch(e){case QRMode.MODE_NUMBER:return 12;case QRMode.MODE_ALPHA_NUM:return 11;case QRMode.MODE_8BIT_BYTE:return 16;case QRMode.MODE_KANJI:return 10;default:throw Error("mode:"+e)}else{if(!(t<41))throw Error("type:"+t);switch(e){case QRMode.MODE_NUMBER:return 14;case QRMode.MODE_ALPHA_NUM:return 13;case QRMode.MODE_8BIT_BYTE:return 16;case QRMode.MODE_KANJI:return 12;default:throw Error("mode:"+e)}}},getLostPoint:function(e){for(var t=e.getModuleCount(),n=0,i=0;i<t;i++)for(var a=0;a<t;a++){for(var o=0,r=e.isDark(i,a),s=-1;s<=1;s++)if(!(i+s<0||t<=i+s))for(var c=-1;c<=1;c++)a+c<0||t<=a+c||0==s&&0==c||r==e.isDark(i+s,a+c)&&o++;o>5&&(n+=3+o-5)}for(var i=0;i<t-1;i++)for(var a=0;a<t-1;a++){var l=0;e.isDark(i,a)&&l++,e.isDark(i+1,a)&&l++,e.isDark(i,a+1)&&l++,e.isDark(i+1,a+1)&&l++,0!=l&&4!=l||(n+=3)}for(var i=0;i<t;i++)for(var a=0;a<t-6;a++)e.isDark(i,a)&&!e.isDark(i,a+1)&&e.isDark(i,a+2)&&e.isDark(i,a+3)&&e.isDark(i,a+4)&&!e.isDark(i,a+5)&&e.isDark(i,a+6)&&(n+=40);for(var a=0;a<t;a++)for(var i=0;i<t-6;i++)e.isDark(i,a)&&!e.isDark(i+1,a)&&e.isDark(i+2,a)&&e.isDark(i+3,a)&&e.isDark(i+4,a)&&!e.isDark(i+5,a)&&e.isDark(i+6,a)&&(n+=40);for(var d=0,a=0;a<t;a++)for(var i=0;i<t;i++)e.isDark(i,a)&&d++;return n+=Math.abs(100*d/t/t-50)/5*10}},QRMath={glog:function(e){if(e<1)throw Error("glog("+e+")");return QRMath.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return QRMath.EXP_TABLE[e]},EXP_TABLE:Array(256),LOG_TABLE:Array(256)},i=0;i<8;i++)QRMath.EXP_TABLE[i]=1<<i;for(var i=8;i<256;i++)QRMath.EXP_TABLE[i]=QRMath.EXP_TABLE[i-4]^QRMath.EXP_TABLE[i-5]^QRMath.EXP_TABLE[i-6]^QRMath.EXP_TABLE[i-8];for(var i=0;i<255;i++)QRMath.LOG_TABLE[QRMath.EXP_TABLE[i]]=i;QRPolynomial.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=Array(this.getLength()+e.getLength()-1),n=0;n<this.getLength();n++)for(var i=0;i<e.getLength();i++)t[n+i]^=QRMath.gexp(QRMath.glog(this.get(n))+QRMath.glog(e.get(i)));return new QRPolynomial(t,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var t=QRMath.glog(this.get(0))-QRMath.glog(e.get(0)),n=Array(this.getLength()),i=0;i<this.getLength();i++)n[i]=this.get(i);for(var i=0;i<e.getLength();i++)n[i]^=QRMath.gexp(QRMath.glog(e.get(i))+t);return new QRPolynomial(n,0).mod(e)}},QRRSBlock.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],QRRSBlock.getRSBlocks=function(e,t){var n=QRRSBlock.getRsBlockTable(e,t);if(void 0==n)throw Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var i=n.length/3,a=[],o=0;o<i;o++)for(var r=n[3*o+0],s=n[3*o+1],c=n[3*o+2],l=0;l<r;l++)a.push(new QRRSBlock(s,c));return a},QRRSBlock.getRsBlockTable=function(e,t){switch(t){case QRErrorCorrectLevel.L:return QRRSBlock.RS_BLOCK_TABLE[4*(e-1)+0];case QRErrorCorrectLevel.M:return QRRSBlock.RS_BLOCK_TABLE[4*(e-1)+1];case QRErrorCorrectLevel.Q:return QRRSBlock.RS_BLOCK_TABLE[4*(e-1)+2];case QRErrorCorrectLevel.H:return QRRSBlock.RS_BLOCK_TABLE[4*(e-1)+3];default:return}},QRBitBuffer.prototype={get:function(e){var t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(var n=0;n<t;n++)this.putBit(1==(e>>>t-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},define("qrcode",function(){}),define("util/jquery.qrcode",["jquery","qrcode"],function(e,t){e.fn.qrcode=function(t){"string"==typeof t&&(t={text:t}),t=e.extend({},{render:"canvas",width:256,height:256,typeNumber:-1,correctLevel:QRErrorCorrectLevel.H,background:"#ffffff",foreground:"#000000"},t);var n=function(){var e=new QRCode(t.typeNumber,t.correctLevel);e.addData(t.text),e.make();var n=document.createElement("canvas");n.width=t.width,n.height=t.height;for(var i=n.getContext("2d"),a=t.width/e.getModuleCount(),o=t.height/e.getModuleCount(),r=0;r<e.getModuleCount();r++)for(var s=0;s<e.getModuleCount();s++){i.fillStyle=e.isDark(r,s)?t.foreground:t.background;var c=Math.ceil((s+1)*a)-Math.floor(s*a),l=Math.ceil((r+1)*a)-Math.floor(r*a);i.fillRect(Math.round(s*a),Math.round(r*o),c,l)}return n},i=function(){var n=new QRCode(t.typeNumber,t.correctLevel);n.addData(t.text),n.make();for(var i=e("<table></table>").css("width",t.width+"px").css("height",t.height+"px").css("border","0px").css("border-collapse","collapse").css("background-color",t.background),a=t.width/n.getModuleCount(),o=t.height/n.getModuleCount(),r=0;r<n.getModuleCount();r++)for(var s=e("<tr></tr>").css("height",o+"px").appendTo(i),c=0;c<n.getModuleCount();c++)e("<td></td>").css("width",a+"px").css("background-color",n.isDark(r,c)?t.foreground:t.background).appendTo(s);return i};return this.each(function(){var a="canvas"==t.render?n():i();e(a).appendTo(this)})}}),define("util/liveSearchPhone",["window","jquery","util/UserManage"],function(e,t,n){if(t.fn.liveSearchPhone)return t.fn.liveSearchPhone;e.TYC_UI||(e.TYC_UI={});var i=e.TYC_UI.LIVESEARCHPHONE;i||(i=e.TYC_UI.LIVESEARCHPHONE={});var a=function(t){if(t=t||"",t.trim()){for(var n=t.split("."),i=e,a=0;a<n.length;a++){if(!i[n[a]])return null;i=i[n[a]]}return i}},o=function(e){var t="";return e&&e.length&&e.forEach(function(e){t+='<li class="item">'.concat(e,"</li>")}),t},r=function(e,n){var i=this;this.$target=e,this.options=n,e.siblings("ul").remove();var o=this.$ul=t('<ul class="live-search-content hidden"></ul>');e.after(o),this.timer=null,this.dataStore=[],this.prevalue="";var r=function(a){var r=t(this).val(),s=a.keyCode;if(38===s||40===s)i.selectOption(s);else if(91===s||37===s||39===s||16===s||17===s||18===s||20===s);else if(13===s){if(n.enterSelected||e.attr("enter-selected")){var c=o.find("li").index(o.find("li.selected"));if(-1===c)return;var l=i.dataStore[c];i.selected(l)}o.addClass("hidden")}else 8===a.keyCode?(4!==r.length&&9!==r.length||e.val(r.trim()),i.renderSuggest(r,!0)):"false"!==t(this).attr("suggest")&&i.renderSuggest(r,!0)};e.on("keyup",function(n){if(11===t(this).val().replace(/\s/g,"").length)return void o.addClass("hidden");r.call(this,n);var i=a(e.attr("event-trigger"));i&&i.call(this,n)}),e.on("paste",function(t){setTimeout(function(){r.call(this,t);var n=a(e.attr("event-trigger"));n&&n.call(this,t)},0)}),e.on("click",function(n){if(!t(this).val()){r.call(this,n);var s=a(e.attr("event-trigger"));s&&s.call(this,n)}o.find("li").length>0?o.removeClass("hidden").find("li.selected").removeClass("selected"):i.renderSuggest("",!0)}),e.on("blur",function(){e.hasClass("no-choose")&&e.val("")}),e.parent().on("click.selected","li",function(){var e=o.find("li").index(this);if(-1!==e){var t=i.dataStore[e];i.selected(t),o.addClass("hidden")}}),t("body").on("click.".concat(e.id),function(n){var i=t(n.target);o.hasClass("hidden")||e.parent().has(i).length||o.addClass("hidden")});e.val();e.data("live-search-state","complete")},s=r.prototype;return s.selected=function(t){var n=this,i=this.options,o=this.$target;if(t){if(i.clickSelected&&"function"==typeof i.clickSelected)i.clickSelected(t);else if(o.attr("click-selected")){var r=a(o.attr("click-selected"));"function"==typeof r&&r(t)}else n.selectedHandler&&n.selectedHandler(t);if(o.removeClass("no-choose").addClass("has-choose"),e.stget&&"function"==typeof e.stget){var s=n.$ul.siblings("input").attr("tyc-ch");e.stget(s)}}},s.selectedHandler=function(e){this.$target.val(e)},s.selectOption=function(e){var t=38===e?-1:1,n=this,i=this.$ul,a=this.$target,o=i.find("li"),r=o.index(i.find("li.selected")),s=o.length,c=r+t;if(s){if(c>=s?c=0:c<-1&&(c=s-1),o.removeClass("selected"),-1===c)return void a.val(n.prevalue);o.eq(c).addClass("selected"),a.val(o.eq(c).text())}},s.renderSuggest=function(e,t){e=e||"",e=e.trim();var i=this,a=this.$ul,r=this.$target,s=n.getPhoneList();if(!s)return void a.addClass("hidden");i.dataStore=s,e?(clearTimeout(i.timer),i.timer=setTimeout(function(){i.timer=null;var e=r.val();if(i.prevalue!==e&&(i.prevalue=e,e&&e.replace(/\\/gi,""))){var t=[],n=RegExp(e);s.forEach(function(i){n.test(i.substr(0,e.length))&&t.push(i)}),o(t)?(a.html(o(t)),i.dataStore=t):(a.html(o(s)),a.addClass("hidden"))}},50)):o(s)?(a.html(o(s)),t&&a.removeClass("hidden")):a.addClass("hidden")},s.config=function(e){return this},s.getSelected=function(){var e=this,t=this.$ul,n=t.find("li"),i=n.index(t.find("li.selected"));return e.dataStore[i]},s.hide=function(){this.$target.parent().addClass("hidden")},s.show=function(){this.$target.parent().removeClass("hidden")},t.fn.liveSearchPhone=function(e){e=e||{};var n=this;if(n.each(function(){var n=t(this),a=n.attr("id");if(a&&i[a]&&n.data("live-search-state")){return i[a].config(e)}a||(a="live-search-".concat("".concat((new Date).getTime()).substring(8)),n.attr("id",a)),n.wrap('<div class="live-search-wrap"></div>');var o=n.parent();e.wrapClass?o.addClass(e.wrapClass):n.attr("wrap-class")&&o.addClass(n.attr("wrap-class")),n.hasClass("hidden")&&(o.addClass(n.addClass("hidden")),n.removeClass("hidden")),i[a]=new r(n,e),n.attr("target-value-id")&&t(n.attr("target-value-id")).val()&&n.addClass("has-choose")}),1===n.length)return i[n.attr("id")]},t(".js-live-search-phone").liveSearchPhone(),t.fn.liveSearchPhone}),define("modal/login",["window","jquery","Base64","util/msgInit","md5","util/ejs","util/loading","util/modal","util/query","gt","util/UserManage","util/jquery.qrcode","util/liveSearchPhone"],function(e,t,n,i,a,o,r,s,c,l,d,u,p){var f={},h={showGeetest:!0};if(e.loginObj)return e.loginObj;var m={};m.clearMsg=function(){t(".login-errormsg").removeClass("in"),t(".input-err").removeClass("input-err")};var g=function(e,t){var n={},i=/^((1[0-9]{1})\d{9})$/,a=/^(?![0-9]+$)(?![a-zA-Z]+$)(?![^(0-9a-zA-Z)]+$)(.{8,20})$/,o=/^\d{4}$/;return e&&e.phone&&(e.phone=e.phone.replace(/\s/g,"")),e.phone?i.test(e.phone)?e.scode||1==t?o.test(e.scode)||1==t?e.word||2==t?a.test(e.word)||3!=t&&4!=t?e.reword||4!=t?e.word!=e.reword&&4==t?(n.reword="‰∏§Ê¨°ËæìÂÖ•ÁöÑÂØÜÁ†Å‰∏ç‰∏ÄËá¥ÔºåËØ∑ÂÜçÊ¨°Á°ÆËÆ§",n):n:(n.reword="ËØ∑ÂÜçÊ¨°ËæìÂÖ•ÂØÜÁ†Å",n):(n.word="ÂØÜÁ†ÅÈúÄ‰∏∫8-20‰ΩçÂ≠óÊØç/Êï∞Â≠ó/Á¨¶Âè∑ÔºàÈô§Á©∫Ê†ºÔºâÁöÑËá≥Â∞ë‰∏§Áßç",n):(n.word="ËØ∑ËæìÂÖ•ÂØÜÁ†Å",n):(n.scode="Áü≠‰ø°È™åËØÅÁ†ÅÊ†ºÂºèÈîôËØØ",n):(n.scode="ËØ∑ËæìÂÖ• 4 ‰ΩçÈ™åËØÅÁ†Å",n):(n.phone="ÊâãÊú∫Âè∑Á†ÅÊ†ºÂºèÈîôËØØ",n):(n.phone="ËØ∑ËæìÂÖ•ÊâãÊú∫Âè∑Á†Å",n)};m.obervisePhone=function(e,t){var n=e.value.replace(/[^\d|^\s]/g,"").substr(0,13).trim();e.value!==n&&(e.value=n),8===t.keyCode?4!==n.length&&9!==n.length||(e.value=n.trim()):(/\s/.test(n)||(n=n.replace(/^(.{3})(.{4})(.*)$/g,"$1 $2 $3").substr(0,13),e.value=n,4===n.length&&(n="".concat(n.substr(0,3)," ").concat(n.substr(3,4)),e.value=n)),/\s/.test(n)&&2!=n.match(/\s/g).length&&9===n.length&&(n="".concat(n.substr(0,8)," ").concat(n.substr(8,9)),e.value=n),3!==n.length&&8!==n.length||(e.value="".concat(n," ")))};var v=null;m.showLoginModal=function(e){var n="";m.option=e||{},h.scodeChange&&clearInterval(h.scodeChange),h={showGeetest:!0},m.initGeetest(),n=o.render("modal/login",{loginObj:{title:"Áü≠‰ø°È™åËØÅÁ†ÅÁôªÈôÜ"}}),s.openByElementStr(n,{size:"login-box"},function(){}),y("onLoad"),setTimeout(function(){k()},3e3),t(".js-live-search-phone").liveSearchPhone()};var y=function(n){n&&"onLoad"===n&&w(),c.getScanToken().then(function(n){if(n&&"ok"===n.state){var i=n.data.token;t("[scan-code]").val(i);var a="".concat(e.wapServerDomain,"/xcxcode/login?token=").concat(i),o=t("[scan-img]");o.empty(),o.qrcode({text:a,width:142,height:142}),t(".scan-img .scan canvas").hover(function(){t(".scan-hover").css("opacity","1"),t(".scan-hover").css("left","198px"),t(".scan-hover").css("z-index","10000")},function(){t(".scan-hover").css("opacity","0"),t(".scan-hover").css("left","152px"),t(".scan-hover").css("z-index","-1")}),t(".error-text")&&(t(".error-text").find("i").removeClass("tic-spin"),t(".scan-error").hide(),t(".scan-tips").show(),t(".scan-success-tip").hide()),t(".error-text-loading")&&t(".scan-error").empty()}else b()},function(){b()})},b=function(){t(".scan-error").show(),t(".scan-error").html('<div class="error-text">Âä†ËΩΩÂ§±Ë¥•</div><div tyc-event-click tyc-event-ch="Login.SaomaLogin.Refresh" onclick="loginObj.handleRefreshScan(event)" style="cursor:pointer;">ÁÇπÂáªÂà∑Êñ∞<i class="tic tic-update"></i></div>')};m.handleRefreshScan=function(e,n){t(e.target).find(".tic-update").addClass("tic-spin"),y(n),setTimeout(function(){k()},5e3)};var w=function(){t(".scan-error").show(),t(".scan-error").html('<div class="error-text-loading"><div class="loading-scroll loading-group"><div class="content"><div class="item"></div><div class="item"></div><div class="item"></div><div class="item"></div><div class="item"></div></div></div></div>')},_=function(){t(".scan-tips").show(),t(".scan-success-tip").hide(),t(".scan-error").show(),t(".scan-error").html('<div class="error-text">‰∫åÁª¥Á†ÅÂ∑≤Â§±Êïà</div><div tyc-event-click tyc-event-ch="Login.SaomaLogin.Refresh" onclick="loginObj.handleRefreshScan(event)" style="cursor:pointer;">ÁÇπÂáªÂà∑Êñ∞<i class="tic tic-update"></i></div>')},C=function(){t(".scan-tips").hide(),t(".scan-success-tip").show(),t(".scan-error").show(),t(".scan-error").html('<div class="error-text-s"><i class="tic tic-chenggongfankui scan-success-icon"></i></div>')},S=function(e){c.getScanLogin(e).then(function(e){e&&e.special&&("invalid"===e.special?_():"success"===e.special?O(e):"waiting"===e.special?v=setTimeout(function(){k()},2500):"confirm"===e.special&&(C(),v=setTimeout(function(){k()},3e3)))})},k=function(){if(!t("#_modal_container").length&&v)return void clearTimeout(v);var e=t("[scan-code]").val();e?S(e):c.getScanToken().then(function(e){e&&"ok"===e.state&&S(e.data.token)})},x=function(e){return 1!=e&&2!=e?".module".concat(e):".modulein".concat(e)},I=function(e){e=e.replace(/\s/g,"");var t=/^((1[0-9]{1})\d{9})$/;return e?t.test(e)?"":"ÊâãÊú∫Âè∑Á†ÅÊ†ºÂºèÈîôËØØ":"ËØ∑ËæìÂÖ•ÊâãÊú∫Âè∑Á†Å"},D=function(e){clearInterval(h.scodeChange),h.scodeChange=null,h.scodeType=!1,t("".concat(e," .input-group-btn")).removeClass("-disabled").html("Ëé∑ÂèñÈ™åËØÅÁ†Å"),t("".concat(e," .voice-click")).removeClass("-disabled"),h.showGeetest=!0},P=function(e,n,i,a){f={phone:e,vertype:n,funtype:i,currentstate:a,type:"getScode"},t("#geetest-submit-btn").click()},M=function(e,n,i,a){f={phone:e,currentstate:a,type:"loginByPwd",word:n,autoLogin:i},t("#geetest-submit-btn").click()},T=function(){f={type:"beforeRest"},t("#geetest-submit-btn").click()},j=function(){f={type:"beforeReg"},t("#geetest-submit-btn").click()},E=function(){t(".tyc-nav").on("mouseenter",function(){for(var e=t(".live-search-content"),n=0;n<e.length;n++)t(e[n]).hasClass("hidden")||t(e[n]).addClass("hidden")})},O=function(n,i,a){if(n&&n.data&&"ok"==n.state){if(i||(i={autoLogin:null}),d.setUserInfo(n.data,i.autoLogin),d.setPhoneList(n.data.mobile),s.close(),m.option&&m.option.entertype){if("vipbusiness"==m.option.entertype&&d.isVipManager())return e.location.href=m.option.enterUrl||m.option.loginUrl;if("vipintro"==m.option.entertype)return d.isPutong()?e.location.href=m.option.loginUrl:e.location.href=m.option.enterUrl||m.option.loginUrl}m.option&&m.option.loginUrl?1==m.option.isOpen?e.open(m.option.loginUrl):e.location.href=m.option.loginUrl:m.option&&"function"==typeof m.option.refreshFun?t("#_companyId").val()&&t("#_companyIsYour").length?c.getOwnerClaimInfo({companyGid:t("#_companyId").val()}).then(function(e){e&&(t("#_companyIsYour").val(e.isYours?e.isYours:null),t("#_companyPricingPackage").val(e.pricingPackage||0==e.pricingPackage?e.pricingPackage:null)),m.option.refreshFun(),m.updateHeader(m.option),m.option=null},function(){m.option.refreshFun(),m.updateHeader(m.option),m.option=null}):(m.option.refreshFun(),m.updateHeader(m.option),m.option=null):e.location.reload(!0)}else n?(n.message,a.addClass("in").html(n.message)):a?a.addClass("in").html("ËØ∑Á®çÂêéÈáçËØï"):s.showErrorMessage("ËØ∑Á®çÂêéÈáçËØï",5e3)};m.checkUserStatus=function(){return new Promise(function(t,n){d.logged()?t():(e.stget("LOGIN_MODAL.FILTER"),m.showLoginModal({refreshFun:function(){e.stget("LOGIN_MODAL.PASS"),t()}}))})},m.downloadUserStatus=function(){return new Promise(function(t,n){d.logged()?t():(r.hide(),e.stget("LOGIN_MODAL.FILTER"),m.showLoginModal({refreshFun:function(){e.stget("LOGIN_MODAL.PASS"),t()}}))})},m.changeCheckType=function(e,n){var i=x(n);if(!t("".concat(i," .input-group-btn")).hasClass("-disabled")){var a=t("".concat(i," .contactphone")).val(),o=I(a);if(o)return t("".concat(i," .contactphone")).addClass("input-err"),t("".concat(i," .contactphone")).siblings(".login-errormsg").addClass("in").html(o),void t("".concat(i," .contactphone")).parent().siblings(".login-errormsg").addClass("in").html(o);if("Ëé∑ÂèñÈ™åËØÅÁ†Å"==t("#smsCodeBtnPopup").text()){var i=x(n),a=t("".concat(i," .contactphone")).val();a=a.replace(/\s/g,"");var o=I(a);if(o)return t("".concat(i," .contactphone")).siblings(".login-errormsg").addClass("in").html(o),void t("".concat(i," .contactphone")).parent().siblings(".login-errormsg").addClass("in").html(o);t("#geetest-captcha").length?P(a,"VOICE",e,n):(r.show(),t("<div id='geetest-captcha' ></div><div id='geetest-submit-btn'></div>").appendTo("body"),c.geetestConfig().then(function(t){initGeetest({gt:t.data.gt,challenge:t.data.challenge,product:"popup",offline:!t.data.success},L),setTimeout(function(){r.hide(),P(a,"VOICE",e,n)},1e3)}))}}},m.updateHeader=function(n){n=n||{},c.getNavHeader(n).then(function(n){n&&("warn"==n.state||(t(".tyc-header .right").html(n),E(),e.showNicknameMsg()))})},m.updateClaimCompanyState=function(e){return new Promise(function(e,n){c.getOwnerClaimInfo({companyGid:t("#_companyId").val()}).then(function(n){n&&"ok"==n.state&&(t("#_companyIsYour").val(n.isYours?n.isYours:null),t("#_companyPricingPackage").val(n.pricingPackage||0==n.pricingPackage?n.pricingPackage:null)),e()},function(){e()})})},m.updateHomeHeader=function(n){n=n||{},c.getHomeNavHeader(n).then(function(n){n&&"warn"!=n.state&&(t(".tyc-header .right").html(n),E(),e.showNicknameMsg())})};var A=function(e,n,i,a,o){var r=x(o),s=I(e);if(s)return t("".concat(r," .contactphone")).siblings(".login-errormsg").addClass("in").html(s),void t("".concat(r," .contactphone")).parent().siblings(".login-errormsg").addClass("in").html(s);a&&(c.sendSMSCode(e,n,i,a).then(function(e){e&&"ok"!==e.state&&(t("".concat(r," .contactscode")).siblings(".login-errormsg").addClass("in").html(e.message),D(r))}),h.scodeType||(t("".concat(r," .login-errormsg")).removeClass("in"),t("".concat(r," .input-group-btn")).addClass("-disabled").html("60sÂêéÈáçËØï"),t("".concat(r," .voice-click")).addClass("-disabled"),h.scodeType=!0,h.showGeetest=!1,h.num=60,h.scodeChange=setInterval(function(){1==h.num?D(r):(h.num--,t("".concat(r," .input-group-btn")).html("".concat(h.num,"sÂêéÈáçËØï")))},1e3)))},R=function(e,n,i,o,s){var l=x(o),d=I(e);if(d)return t("".concat(l," .contactphone")).siblings(".login-errormsg").addClass("in").html(d),void t("".concat(l," .contactphone")).parent().siblings(".login-errormsg").addClass("in").html(d);if(s){var u={mobile:e,cdpassword:a(n),loginway:"PL",autoLogin:i,challenge:s.geetest_challenge,validate:s.geetest_validate,seccode:s.geetest_seccode};c.cd_login(u).done(function(e){r.hide(),O(e,u,t("".concat(l," .contactword")).siblings(".login-errormsg"))}).fail(function(){r.hide(),t("".concat(l," .contactword")).siblings(".login-errormsg").addClass("in").html("ËØ∑Á®çÂêéÈáçËØï")})}},L=function(e){e.bindOn("#geetest-submit-btn"),e.appendTo("#geetest-captcha"),e.onSuccess(function(){var t=e.getValidate();if(!t)return void alert("ËØ∑ÂÖàÂÆåÊàêÈ™åËØÅÔºÅ");"loginByPwd"===f.type?R(f.phone,f.word,f.autoLogin,f.currentstate,t):"getScode"===f.type?A(f.phone,f.vertype,f.funtype,t,f.currentstate):"beforeRest"===f.type?m._resetWord(t):"beforeReg"===f.type&&m._register(t)})};return m.getSMSCode=function(e,n,i){var a=x(e);if(!t("".concat(a," .input-group-btn")).hasClass("-disabled")){if(!t("".concat(a," .contactphone")).val())return t("".concat(a," .contactphone")).addClass("input-err"),t("".concat(a," .contactphone")).siblings(".login-errormsg").addClass("in").html("ËØ∑ËæìÂÖ•ÊâãÊú∫Âè∑Á†Å"),void t("".concat(a," .contactphone")).parent().siblings(".login-errormsg").addClass("in").html("ËØ∑ËæìÂÖ•ÊâãÊú∫Âè∑Á†Å");var o=t("".concat(a," .contactphone")).val();o&&(o=o.trim(),o=o.replace(/\s/g,""));var s=I(o);if(s)return t("".concat(a," .contactphone")).siblings(".login-errormsg").addClass("in").html(s),void t("".concat(a," .contactphone")).parent().siblings(".login-errormsg").addClass("in").html(s);t("#geetest-captcha").length?P(o,n,i,e):(r.show(),t("<div id='geetest-captcha' ></div><div id='geetest-submit-btn'></div>").appendTo("body"),c.geetestConfig().then(function(t){initGeetest({gt:t.data.gt,challenge:t.data.challenge,product:"popup",offline:!t.data.success},L),setTimeout(function(){r.hide(),P(o,n,i,e)},1e3)}))}},m.register=function(){m.clearMsg();var e={};e.phone=t(".module3 .contactphone").val(),e.scode=t(".module3 .contactscode").val(),e.word=t(".module3 .contactword").val(),e.reword=t(".module3 .contactreword").val(),e.phone&&(e.phone=e.phone.trim()),e.scode&&(e.scode=e.scode.trim()),e.word,e.reword;var n=g(e,3);return n.phone?(t(".module3 .contactphone").addClass("input-err"),void t(".module3 .contactphone").siblings(".login-errormsg").addClass("in").html(n.phone)):n.scode?(t(".module3 .contactscode").addClass("input-err"),void t(".module3 .contactscode").siblings(".login-errormsg").addClass("in").html(n.scode)):n.word?(t(".module3 .contactword").addClass("input-err"),void t(".module3 .contactword").siblings(".login-errormsg").addClass("in").html(n.word)):void(n.phone||n.word||n.scode||(t("#geetest-captcha").length?j():(t("<div id='geetest-captcha' ></div><div id='geetest-submit-btn'></div>").appendTo("body"),c.geetestConfig().then(function(e){initGeetest({gt:e.data.gt,challenge:e.data.challenge,product:"popup",offline:!e.data.success},L),setTimeout(function(){r.hide(),j()},1e3)}))))},m._register=function(e){var n={};n.phone=t(".module3 .contactphone").val(),n.scode=t(".module3 .contactscode").val(),n.word=t(".module3 .contactword").val(),n.reword=t(".module3 .contactreword").val(),c.cd_reg({mobile:n.phone,cdpassword:a(n.word),smsCode:n.scode,challenge:e.geetest_challenge,validate:e.geetest_validate,seccode:e.geetest_seccode}).done(function(e){r.hide(),e&&"ok"!=e.state?t(".module3 .login-errormsg").addClass("in").html(e.message):(D(".module3"),r.hide(),O(e,n,t(".module3 .login-errormsg")))}).fail(function(){r.hide(),t(".module3 .login-errormsg").addClass("in").html("ËØ∑Á®çÂêéÈáçËØï")})},m.resetWord=function(){m.clearMsg();var e={};e.phone=t(".module4 .contactphone").val(),e.scode=t(".module4 .contactscode").val(),e.word=t(".module4 .contactword").val(),e.reword=t(".module4 .contactreword").val(),e.phone&&(e.phone=e.phone.trim()),e.scode&&(e.scode=e.scode.trim()),e.word;var n=g(e,4);return n.phone?(t(".module4 .contactphone").addClass("input-err"),t(".module4 .contactphone").siblings(".login-errormsg").addClass("in").html(n.phone),void t(".module4 .contactphone").parent().siblings(".login-errormsg").addClass("in").html(n.phone)):n.scode?(t(".module4 .contactscode").addClass("input-err"),void t(".module4 .contactscode").siblings(".login-errormsg").addClass("in").html(n.scode)):n.word?(t(".module4 .contactword").addClass("input-err"),void t(".module4 .contactword").siblings(".login-errormsg").addClass("in").html(n.word)):n.reword?(t(".module4 .contactreword").addClass("input-err"),void t(".module4 .contactreword").siblings(".login-errormsg").addClass("in").html(n.reword)):void(n.phone||n.scode||n.word||n.reword||(t("#geetest-captcha").length?T():(t("<div id='geetest-captcha' ></div><div id='geetest-submit-btn'></div>").appendTo("body"),c.geetestConfig().then(function(e){initGeetest({gt:e.data.gt,challenge:e.data.challenge,product:"popup",offline:!e.data.success},L),setTimeout(function(){r.hide(),T()},1e3)}))))},m._resetWord=function(e){m.clearMsg();var n={};n.phone=t(".module4 .contactphone").val().replace(/\s/g,""),n.scode=t(".module4 .contactscode").val(),n.word=t(".module4 .contactword").val(),c.cd_reset({mobile:n.phone,cdpassword:a(n.word),smsCode:n.scode,challenge:e.geetest_challenge,validate:e.geetest_validate,seccode:e.geetest_seccode}).done(function(e){r.hide(),e&&"ok"!=e.state?t(".module4 .contactreword").siblings(".login-errormsg").addClass("in").html(e.message):(s.showSuccessMessage(" ÈáçÁΩÆÂØÜÁ†ÅÊàêÂäüÔºÅ"),D(".modulein4"),m.changeCurrent(1),h.showGeetest=!0)}).fail(function(){r.hide(),t(".module4 .contactreword").siblings(".login-errormsg").addClass("in").html("ËØ∑Á®çÂêéÈáçËØï")})},m.loginByPhone=function(n,i,a){if(a){var o=a.value.replace(/[\u4e00-\u9fa5]|\s/g,"");a.value!==o&&(a.value=o)}if("keydown"==i){if(13!=(n||e.event).keyCode)return}m.clearMsg();var s={};s.phone=t(".modulein1 .contactphone").val(),s.word=t(".modulein1 .contactword").val(),s.phone&&(s.phone=s.phone.trim(),s.phone=s.phone.replace(/\s/g,"")),s.word,s.autoLogin=t(".modulein1 .contactautoLogin").is(":checked");var l=g(s,1);return l.phone?(t(".modulein1 .contactphone").addClass("input-err"),t(".modulein1 .contactphone").siblings(".login-errormsg").addClass("in").html(l.phone),void t(".modulein1 .contactphone").parent().siblings(".login-errormsg").addClass("in").html(l.phone)):l.word?(t(".modulein1 .contactword").addClass("input-err"),void t(".modulein1 .contactword").siblings(".login-errormsg").addClass("in").html(l.word)):void(l.phone||l.word||(t("#geetest-captcha").length?M(s.phone,t(".modulein1 .contactword").val(),t(".modulein1 .contactautoLogin").is(":checked"),1):(t("<div id='geetest-captcha' ></div><div id='geetest-submit-btn'></div>").appendTo("body"),c.geetestConfig().then(function(e){initGeetest({gt:e.data.gt,challenge:e.data.challenge,product:"popup",offline:!e.data.success},L),setTimeout(function(){r.hide(),M(s.phone,t(".modulein1 .contactword").val(),t(".modulein1 .contactautoLogin").is(":checked"),1)},1e3)}))))},m.loginByMes=function(e){m.clearMsg();var e={};e.phone=t(".modulein2 .contactphone").val(),e.scode=t(".modulein2 .contactscode").val(),e.phone&&(e.phone=e.phone.trim(),e.phone=e.phone.replace(/\s/g,"")),e.scode&&(e.scode=e.scode.trim()),e.autoLogin=t(".modulein2 .contactautoLogin").is(":checked");var n=g(e,2);return n.phone?(t(".modulein2 .contactphone").addClass("input-err"),t(".modulein2 .contactphone").siblings(".login-errormsg").addClass("in").html(n.phone),void t(".modulein2 .contactphone").parent().siblings(".login-errormsg").addClass("in").html(n.phone)):n.scode?(t(".modulein2 .contactscode").addClass("input-err"),void t(".modulein2 .contactscode").siblings(".login-errormsg").addClass("in").html(n.scode)):void(n.phone||n.scode||c.cd_login({mobile:e.phone,smsCode:e.scode,loginway:"VCL"}).then(function(n){r.hide(),O(n,e,t(".modulein2 .contactscode").siblings(".login-errormsg"))}).fail(function(){r.hide(),t(".modulein2 .contactscode").siblings(".login-errormsg").addClass("in").html("ËØ∑Á®çÂêéÈáçËØï")}))},m.changeCurrent=function(e){m.clearMsg();var n=t(".loginState").val(),i=(x(n),x(e));if(D(i),
t(".module").removeClass("in").filter(".module".concat(e)).addClass("in"),1==e||2==e){if(1==e){t(".-login-box").removeClass("-login-register");var a=t(".-login-box").attr("id");s.resetPosition(a)}t(".module .title-tab .title").removeClass("-active").filter("[active-tab=".concat(e,"]")).addClass("-active");var o=t(".modulein").filter(".modulein".concat(n)).find(".contactphone").val();t(".modulein").removeClass("in").filter(".modulein".concat(e)).addClass("in"),o&&t(".modulein").filter(".modulein".concat(e)).find(".contactphone").val(o),t(".modulebtn").removeClass("currentItem").filter(".modulebtn".concat(e)).addClass("currentItem")}else if(1*e==3){var o=t(".modulein").filter(".modulein".concat(n)).find(".contactphone").val();t(".registermodule").find(".contactphone").val(o),t(".module3 .contactscode").val(""),t(".module3 .contactword").val("")}else if(4==e){var o=t(".modulein").filter(".modulein".concat(n)).find(".contactphone").val();o&&t(".module4").find(".contactphone").val(o),t(".-login-box").addClass("-login-register");var a=t(".-login-box").attr("id");s.resetPosition(a)}t(".loginState").val(e)},m.togglePwdType=function(e){t(e).hasClass("tic-close-eye")?t(e).parent().find("input").attr("type","text"):t(e).parent().find("input").attr("type","password"),t(e).toggleClass("tic-close-eye").toggleClass("tic-xianshijiancheng1")},m.initGeetest=function(){t("#geetest-captcha").length||(t("<div id='geetest-captcha' ></div><div id='geetest-submit-btn'></div>").appendTo("body"),c.geetestConfig().then(function(e){initGeetest({gt:e.data.gt,challenge:e.data.challenge,product:"popup",offline:!e.data.success},L)}))},e.loginObj=m,m}),define("util/message",["jquery","lib/domReady","util/UserManage","util/query"],function(e,t,n,i){if(window.message)return window.message;var a={};window.message=a;var o=function(e,t,n){switch(n){case"1":return"".concat(window.serverDomain,"/usercenter/question");case"2":case"3":return"".concat(window.serverDomain,"/usercenter/answer/invite");case"4":return"".concat(window.serverDomain,"/usercenter/answer/recommend");case"5":return"".concat(window.serverDomain,"/claim/apply/").concat(e);case"6":return"".concat(window.serverDomain,"/editCompanyInfo/").concat(e);case"7":return"".concat(window.ownServerDomain,"/company/").concat(t);case"8":return"".concat(window.serverDomain,"/editCompanyInfo/").concat(e)}return window.serverDomain};a.msgLink=function(t,n){var a=e(n).closest(".message").attr("data-rel-id"),s=e(n).closest(".message").attr("data-own-id"),c=e(n).closest(".message").attr("data-msg-type");window.open(o(a,s,c),"_blank"),i.msg_setAllRead(c).then(function(e){r()})};var r=function(){n.logged();e("#head-message-center").remove()};return t(function(){r()}),a}),define("eventReport",[],function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function n(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function a(e,t){var n,i=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)),i}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){var i,a,o;i=e,o=n[a=t],a in i?Object.defineProperty(i,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[a]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],i=!0,a=!1,o=void 0;try{for(var r,s=e[Symbol.iterator]();!(i=(r=s.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(a)throw o}}return n}}(e,t)||c(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||c(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function d(e){return"[object Function]"===h.call(e)}function u(e){return new y(e)}function p(e){var t=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),n={url:"",type:"POST",async:!0,username:"",password:"",headers:{},data:{},dataType:"json",timeout:2e3,success:function(){},error:function(){}};if(i(n,e),"get"===n.type.toLowerCase())n.url="".concat(n.url,"?").concat(m(n.data));else try{n.data=JSON.stringify(n.data)}catch(e){throw e}if(t.open(n.type.toUpperCase(),n.url,n.async,n.username,n.password),n.async&&(t.timeout=n.timeout),Object.keys(n.headers).length)for(var a in n.headers)t.setRequestHeader(a,n.headers[a]);t.onreadystatechange=function(){if(t&&4===t.readyState&&(0!==t.status||t.responseURL&&0===t.responseURL.indexOf("file:"))){if(4===t.readyState){var e=t.responseText;if("json"===n.dataType)try{e=JSON.parse(e)}catch(e){}200===t.status?d(n.success)&&n.success.apply(this,[e,t.status,t]):d(n.error)&&n.error.apply(this,[t,t.status,t.statusText])}t=null}},t.ontimeout=t.onerror=t.onabort=function(){t&&(d(n.error)&&n.error.apply(t,[t,t.status,t.statusText]),t=null)};try{t.send(n.data||null)}catch(e){throw e}}function f(e){return d(e.beforeReport)&&e.beforeReport.call(null,e.params)}var h=Object.prototype.toString,m=function(e){if(!e||(t=e,"[object Object]"!==h.call(t)))throw Error("invalid argument.");var t;return Object.entries(e).reduce(function(e,t){var n=r(t,2),i=n[0],a=n[1];return[].concat(s(e),["".concat(encodeURIComponent(i),"=").concat(encodeURIComponent(a))])},[]).join("&")},g=function(e){if("undefined"==typeof document)throw Error("Can't get document.");var t=(document.cookie?document.cookie.split("; "):[]).reduce(function(e,t){var n=t.split("="),i={};return i[n[0]]=n[1].replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent),o(o({},e),i)},{});return e?t[e]:t},v=window.document,y=function(){function t(n){return e(this,t),window.EventReport.plugin.Element||(window.EventReport.plugin.Element={event:{}}),this.global=window.EventReport.plugin.Element,this.selector=n,this.length=0,n?(i=n,"[object String]"===h.call(i)?this._init(n):this._initElement(n)):this;var i}return n(t,[{key:"_init",value:function(e){if(v.querySelectorAll)n=v.querySelectorAll(e);else switch(e.charAt(0)){case"#":n=v.getElementById(e.replace(/^#/,""));break;case".":n=v.getElementsByClassName(e.replace(/^./,""));break;case"[":if(!e.endsWith("]"))throw Error("invalid selector. ".concat(e));var t=[],n=v.getElementsByTagName("*");Object.keys(n).forEach(function(i){var a,o=n[i].getAttributeNames(),r=e.match(/^\[(\S*)]$/);r[1].includes("=")?(a=r[1].split("="),o.includes(a[0])&&n[i].getAttribute(a[0])===a[1].replace(/["']/g,"")&&t.push(n[i])):n[i].hasAttribute(r[1])&&t.push(n[i])}),n=t;break;default:n=v.getElementsByTagName(e)}return this._initElement(n)}},{key:"_initElement",value:function(e){return e&&(this.$element=e,this._mergeElementToProto(e),e&&(this.length=e.length||1)),this}},{key:"_mergeElementToProto",value:function(e){var t,n,i,a,o=this;if(!e)return!1;n=e,"[object HTMLCollection]"!==h.call(n)&&(t=e,"[object NodeList]"!==h.call(t))||Object.keys(e).forEach(function(t){o[t]=e[t]}),i=e,h.call(i).match(/^\[object HTML(\S*)Element]$/)&&(this[0]=e,this.$element={0:e}),a=e,"[object Array]"===h.call(a)&&(this.$element={},e.forEach(function(e,t){o[t]=e,o.$element[t]=e}))}},{key:"_bind",value:function(e,t,n,i){var a=3<arguments.length&&void 0!==i&&i;window.addEventListener?e.addEventListener(t,n,a):e.attachEvent("on".concat(t),n)}},{key:"_completed",value:function(){v.removeEventListener("DOMContentLoaded",this._completed),window.removeEventListener("load",this._completed),this.callback.call(this,"")}},{key:"_createDom",value:function(e){var t=0<arguments.length&&void 0!==e?e:"div";return v.createElement(t)}},{key:"each",value:function(e){var t=this;return Object.keys(this.$element).forEach(function(n){e.apply(t,[t.$element[n],n])}),this}},{key:"attr",value:function(e,t){var n=0<arguments.length&&void 0!==e?e:"",i=1<arguments.length&&void 0!==t?t:void 0,a=this.$element[0].getAttributeNode(n);return void 0===i?a&&a.specified?a.value:null:this.each(function(e){return e.setAttribute(n,i)})}},{key:"on",value:function(e,t){var n=arguments,i=this;if(!this.length)throw Error("invalid selector.");this.each(function(e){return i._bind.apply(i,[e].concat(s(n)))})}},{key:"observer",value:function(e){window.MutationObserver?new MutationObserver(e).observe(v.body,{childList:!0,subtree:!0}):this._bind(v.body,"DOMSubtreeModified",e)}},{key:"ready",value:function(e){var t=this;if(!e||!d(e))return!1;this.callback=e,"complete"===v.readyState?setTimeout(function(){e.call(t,"")}):(v.addEventListener("DOMContentLoaded",function(){t._completed()}),window.addEventListener("load",function(){t._completed()}))}}]),t}(),b={};b.img=function(e,t,n){if(!n)throw Error("transmitOption must exist.");var i;n.params=f(n)||n.params,(i=new Image).onload=i.onerror=function(){return i=null},i.src="".concat(e,"?").concat(m(n.params))},b.ajax=function(e,t,n){if(!n)throw Error("transmitOption must exist.");n.params=f(n)||n.params,i(t.action.advanceInfo,{timestamp:Date.now()},n.params),n.data=t,n.url=e,p(n)};var w="data-event-report",_=function(){function t(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return e(this,t),this.ua=window.navigator.userAgent,this.url=n.url||"https://www.tianyancha.com/data_collect/v1/key_event_report",this.type=n.type||1,this.basic={type:this.type,action:{platform:this._getPlatform(),baseInfo:{userId:this._getPhone(),deviceId:this._getDeviceId(),referrer:document.referrer,screenSize:this._getScreenSize(),userAgent:this.ua,version:this._getVersion(),channel:this._getChannel()},advanceInfo:{}}},this}return n(t,[{key:"_getPhone",value:function(){return this._getUserInfo().mobile}},{key:"_getUserInfo",value:function(){var e=g("tyc-user-info");return e?JSON.parse(window.decodeURIComponent(e)):{}}},{key:"_getChannel",value:function(){return this._isApp()?this.appAuth.channelID:g("jsid")}},{key:"_getVersion",value:function(){return this._isApp()?this.appAuth.version:""}},{key:"_getDeviceId",value:function(){return this._isApp()?this.appAuth.deviceID:""}},{key:"_getScreenSize",value:function(){var e=window.screen;return"".concat(e.width,"*").concat(e.height)}},{key:"_isMobile",value:function(){return this.ua.toLowerCase().match("mobile")}},{key:"_isApp",value:function(){return this.appAuth=window._APP_AUTH,this.appAuth&&Object.keys(this.appAuth).length&&this.appAuth.hasOwnProperty("version")}},{key:"_getPlatform",value:function(){return this._isApp()?this._getVersion().split(" ")[0]:this._isMobile()?"Wap":"Web"}},{key:"elementListener",value:function(e){var t=arguments,n=this;this._registerElementEvent.apply(this,arguments),u(e).observer(function(){return n._registerElementEvent.apply(n,s(t))})}},{key:"_registerElementEvent",value:function(e,t,n){var i=this,a=1<arguments.length&&void 0!==t?t:"click",o=2<arguments.length?n:void 0,r="data-event-report-listener";u(e).each(function(e){if(u(e).attr(r))return!0;u(e).attr(r,!0).on(a,function(e){d(o)&&o.apply(i,[e])})})}},{key:"imgTransmit",value:function(e){var t=0<arguments.length&&void 0!==e?e:{};b.img(this.url,i({},this.basic),t)}},{key:"ajaxTransmit",value:function(){b.ajax.apply(b,[this.url,i({},this.basic)].concat(Array.prototype.slice.call(arguments)))}},{key:"_formatAttr",value:function(e){var t={eventId:"",eventDetail:{}};return["eventId","targetId","targetName"].forEach(function(n){var i=e.attr("".concat(w,"-data-").concat(n));"eventId"===n?t.eventId=i:t.eventDetail[n]=i}),t}},{key:"listeningTagClick",value:function(){var e=this;u("[".concat(w,"]")).on("click",function(t){var n=u(t.target),a=i({},e.basic),o=n.attr(w+"-type");o&&(a.type=o),b[n.attr(w)||"ajax"](n.attr(w+"-url")||e.url,a,{params:e._checkExpression(n.attr(w+"-params"))})})}},{key:"_checkExpression",value:function(e){try{return Function("return ".concat(e))()}catch(t){throw Error("Invalid expression:\n\n".concat(t,"\nRaw expression: ").concat(e,"\n"))}}}]),t}();return window.EventReport=_,EventReport.plugin={},u().ready(function(){(new _).listeningTagClick()}),_}),define("util/header",["window","jquery","util/common","util/query","util/UserManage","util/liveSearch","util/liveSearch.auto","util/storage","lib/platform","modal/login","util/message","eventReport"],function(e,t,n,i,a,o,r,s,c,l,d,u){var p=new u;if(e.header)return e.header;var f={};return f.changeSearchTab=function(e,n){t(".tab-header .head .item").removeClass("active"),t(".tab-header .head .".concat(n)).addClass("active"),"company"==n?t("#header-company-search").val(t("#header-human-search").val()):"human"==n&&t("#header-human-search").val(t("#header-company-search").val()),t("#header-company-search").val()?(t(".tab-header .clear-input").removeClass("hidden"),"company"===n?(console.log("Êü•ÂÖ¨Âè∏"),f.search(e,"#header-company-search"),console.log("Êü•‰∫∫")):"human"===n&&f.searchHuman(e,null,"#header-human-search")):t(".tab-header .clear-input").addClass("hidden"),t(".tab-header .search .search-group").hide(),t(".tab-header .search .".concat(n)).show(),t(".tab-header").find(".tooltip-box").addClass("hidden"),"company"==n?setTimeout(function(){t("#header-company-search").focus()},0):"human"==n&&setTimeout(function(){t("#header-human-search").focus()},0)},f.mouseShowById=function(e){t(e).show()},f.mouseHideById=function(e){t(e).hide()},f.mouseMediaShowById=function(e){t(e).show()},f.mouseMediaHideById=function(e){t(e).hide()},f.loginLink=function(){"/login"!==e.location.pathname&&l.showLoginModal({loginUrl:e.location.href})},f.removeJwtError=function(){t(".jwt-error-pop").remove()},f.toVip=function(){e.open("/vip")},f.host=e.location.host,f.backToHome=function(){/tianyancha/.test(f.host)&&!/test/.test(host)?e.location.href=e.serverDomain:e.location.href="/"},f.jumpToPath=function(){e.open("/relation")},f.loginout=function(){i.userLogout().then(function(){a.logout(),e.location.href="/"},function(){a.logout(),e.location.href="/"})},f.search=function(i,a){var o,r=!1;if(a?(o=t(a).val(),t(a).hasClass("js-live-search-auto")&&(r=!0)):o=t("#live-search").val(),o=n.formatAndFilterUrl(o),p.ajaxTransmit({params:{eventId:"search_info",eventDetail:{targetName:o}}}),o){if(r&&s.addSearch(o),/https/.test(o)&&(o=o.split("https")[1]),/http/.test(o)&&(o=o.split("http")[1]),f.stype){var c="/search/t".concat(f.stype,"?key=").concat(encodeURIComponent(o));return void(e.location.href=c)}if(/tianyancha/.test(f.host)&&!/test/.test(f.host)){var c="".concat(e.serverDomain,"/search?key=").concat(encodeURIComponent(o));e.location.href=c}else{var c=f.searchType?"/".concat(f.searchType,"/").concat(encodeURIComponent(o)):"/search?key=".concat(encodeURIComponent(o));/own/.test(f.host)?e.location.href=e.serverDomain+c:e.location.href=c}}else i&&t(a).focus().closest(".js-search-container").find(".tooltip-box").removeClass("hidden").removeClass("animate")},f.stopSubmit=function(t,n,i){t||(t=e.event);return t&&(t.preventDefault?t.preventDefault():t.returnValue=!1),f.search(n,i),!1},f.clearKey=function(n,i,a){n=n||e.event,t(i).val("").focus(),a&&t(a).addClass("hidden")},f.focuskey=function(e){t(e).show()},f.blurkey=function(e){t(e).hide()},f.jumpHuman=function(t,n,a){if(t){var o="/humansearch/".concat(encodeURIComponent(t));i.getHidByName({name:t}).then(function(t){"ok"==t.state&&t.data&&(t.data.id&&t.data.id>0?o="/human/".concat(t.data.id):t.data.suggestId&&(o="/human/".concat(t.data.suggestId,"?searchKey=").concat(t.data.searchKey))),a?e.open(o):e.location.href=o},function(){a?e.open(o):e.location.href=o})}},f.stopHumanSubmit=function(i,a,o){var r=!1;i||(i=e.event),i&&(i.preventDefault?i.preventDefault():i.returnValue=!1);var c=!1;if(t(o).parent().find(".searchresultspopup li.selected").length&&!t(o).parent().find(".searchresultspopup").hasClass("hidden")){if(!t(o).parent().find(".searchresultspopup li.selected").hasClass("human-suggest-bottom"))return;c=!0}var l;return o?(l=t(o).val(),t(o).hasClass("js-live-search-auto")&&(r=!0)):l=t("#searchInputHuman").val(),l=n.formatAndFilterUrl(l),l?(r&&s.addSearchHuman(l),l=l.replace(/http(s)*:(\/\/)*/,""),f.jumpHuman(l,a,c)):t(o).closest(".js-search-container").find(".tooltip-box").removeClass("hidden").removeClass("animate"),!1},f.searchHuman=function(e,i,a){var o,r=!1;a?(o=t(a).val(),t(a).hasClass("js-live-search-auto")&&(r=!0)):o=t("#searchInputHuman").val(),o=n.formatAndFilterUrl(o),p.ajaxTransmit({params:{eventId:"search_info",eventDetail:{targetName:o}}}),o&&r&&s.addSearchHuman(o),f.jumpHuman(o,i,!1),o||t(a).focus().closest(".js-search-container").find(".tooltip-box").removeClass("hidden").removeClass("animate")},f.liveSearchCb=function(t,n,i){i||e.open("/company/".concat(t))},f.suggestToCompany=function(t){if(t.id)e.open("".concat(e.serverDomain,"/company/").concat(t.id),"_blank");else{var n="".concat(e.serverDomain,"/search?key=").concat(encodeURIComponent(t.name));e.location.href=n}},f.suggestToHuman=function(t){if(t.cid&&t.hid)e.open("".concat(e.serverDomain,"/human/").concat(t.hid,"-c").concat(t.cid));else{var n="".concat(e.serverDomain,"/humansearch/").concat(encodeURI(t.name));e.location.href=n}},f.mobileStopSubmit=function(i){i||(i=e.event),i&&(i.preventDefault?i.preventDefault():i.returnValue=!1);var a=t("#live-search").val();if(a=n.formatAndFilterUrl(a),document.all,a){if(a=a.replace(/http(s)*:(\/\/)*/,""),/tianyancha/.test(f.host)&&!/test/.test(f.host))var o="".concat(e.serverDomain,"/search?key=").concat(encodeURIComponent(a));else var o=f.searchType?"/".concat(f.searchType,"/").concat(encodeURIComponent(a)):"/search?key=".concat(encodeURIComponent(a));e.location.href=o}return!1},f.mobileSearch=function(i){i||(i=e.event),i&&(i.preventDefault?i.preventDefault():i.returnValue=!1);var a=t("#live-search").val();if(a=n.formatAndFilterUrl(a),document.all,a){if(a=a.replace(/http(s)*:(\/\/)*/,""),/tianyancha/.test(f.host)&&!/test/.test(f.host))var o="".concat(e.serverDomain,"/search?key=").concat(encodeURIComponent(a));else var o=f.searchType?"/".concat(f.searchType,"/").concat(encodeURIComponent(a)):"/search?key=".concat(encodeURIComponent(a));e.location.href=o}return!1},f.checkTime=function(e){return e<10&&(e="0".concat(e)),e},f.getVipCountdown=function(){var n=t("[countdown-time]").val(),i=n-(new Date).getTime();if(!(i>0))return e.location.reload();setTimeout(function(){f.getVipCountdown()},1e3);var a=parseInt(i/1e3/60/60,10),o=parseInt(i/1e3/60%60,10),r=parseInt(i/1e3%60,10);t("[countdown-renew]").html("".concat(f.checkTime(a),"Êó∂").concat(f.checkTime(o),"ÂàÜ").concat(f.checkTime(r),"Áßí"))},f.openHrefNeedLogin=function(e,t,n){if(!a.logged()){e.preventDefault();var i=t.getAttribute("href");return l.showLoginModal({loginUrl:i,isOpen:n}),!1}},f.hideNicknameTip=function(){i.nicknameGotIt().then(function(e){if(e&&"ok"===e.state){var n=t('.nav-item[nav-type="user"]');n.find(".block.-nickname").remove(),setTimeout(function(){n.removeClass("-show-nickname-tip")},500)}})},t(function(){"IE"===c.name&&parseInt(c.version),t("[countdown-time]").val()&&"hour"==t("[countdown-time]").attr("time-type")&&f.getVipCountdown()}),e.header=f,f}),define("modal/complain",["window","jquery","util/modal","util/query"],function(e,t,n,i){if(e.complain)return e.complain;var a={};return a.contact={},a.firmInFocus=!0,a.CompliantInFocus=!0,a.mailInFocus=!0,a.items={read:{title:"ÊÇ®Â•Ω,ËØ∑ËÆ§ÁúüÈòÖËØª‰ª•‰∏ãËØ¥ÊòéÂêéÁÇπÂáª‚Äú‰∏ã‰∏ÄÊ≠•‚Äù",inner:'<h4 class="text-center">Ôº±ÔºÜÔº°</h4><h5>1„ÄÅ\tÂ§©ÁúºÊü•ÁöÑÊï∞ÊçÆ‰ªéÂì™ÈáåÂæóÊù•Ôºü</h5><p>Â§©ÁúºÊü•Êï∞ÊçÆÊù•Ê∫ê‰∫éÂ∑•ÂïÜÊÄªÂ±ÄÂª∫Á´ãÁöÑÂÖ®ÂõΩ‰ºÅ‰∏ö‰ø°Áî®‰ø°ÊÅØÁ≥ªÁªü„ÄÅÊúÄÈ´ò‰∫∫Ê∞ëÊ≥ïÈô¢Âª∫Á´ãÁöÑË£ÅÂà§Êñá‰π¶ÁΩë„ÄÅÂïÜÊ†áÂ±ÄÂèä‰∏ìÂà©Â±ÄÁ≠âÂÖ¨ÂºÄÂêàÊ≥ïÊ∏†ÈÅìËé∑ÂæóÁõ∏ÂÖ≥‰ø°ÊÅØÔºåÂ§©ÁúºÊü•‰ªÖÂØπËØ•‰ø°ÊÅØÂä†‰ª•Â±ïÁ§∫„ÄÇ</p><h5>2„ÄÅ\tÂ§©ÁúºÊü•Â±ïÁ§∫ÁöÑ‰ø°ÊÅØÊòØÂê¶ÈÉΩÊòØÊúÄÊñ∞ÁöÑ‰ø°ÊÅØ„ÄÇ</h5><p>Â§©ÁúºÊü•Â±ïÁ§∫‰ø°ÊÅØÂÖ∂ÊäìÂèñÊó∂Èó¥‰ª•ÊòéÁ°ÆÊñπÂºèÂ±ïÁ§∫Âú®Áõ∏Â∫îÈ°µÈù¢‰πã‰∏≠ÔºåÂ¶ÇÊûúÊÇ®ÂØπËØ•‰ø°ÊÅØÊó∂ÊïàÊÄßÊúâÂºÇËÆÆÂèØ‰ª•Â∞ùËØïÁÇπÂáªÁ´ãÂç≥Êõ¥Êñ∞ÊåâÈíÆÔºåÂ¶ÇÊûúÊõ¥Êñ∞Âêé‰ø°ÊÅØ‰ªçÁÑ∂ÊªûÂêéÔºåÂàôËØ∑ËÅîÁ≥ª‰ø°ÊÅØÂèëÂ∏ÉÁΩëÁ´ôÔºåÂ§©ÁúºÊü•‰ªÖ‰Ωú‰∏∫‰ø°ÊÅØÂ±ïÁ§∫ÊñπÔºåÂØπ‰ø°ÊÅØ‰∏éÈ°µÈù¢Ê≥®ÊòéÊó∂Èó¥ÂÖ¨ÂºÄÊ∏†ÈÅì‰ø°ÊÅØ‰øùÊåÅ‰∏ÄËá¥„ÄÇ</p><h5>3„ÄÅ\tÂ§©ÁúºÊü•ÁöÑÊï∞ÊçÆ‰∏∫‰ªÄ‰πàÊ≤°Êúâ‰æµÁäØÈöêÁßÅÊàñÂïÜ‰∏öÁßòÂØÜÔºü</h5><p>ÂÖ¨ÂºÄÊï∞ÊçÆÁöÑ‰ΩøÁî®Áî±‰∫éÂÖ∂ÂÖ¨ÂºÄÊÄßÔºå‰∏çÊòØÈöêÁßÅ‰∏éÁßòÂØÜ„ÄÇÂ§©ÁúºÊü•ÂùöÊåÅÁî®ÂÖ¨ÂºÄÂÆàÊä§ÂÖ¨Ê≠£ÁêÜÂøµÁöÑÂêåÊó∂‰πüÂçÅÂàÜÊ≥®ÈáçÂØπÈöêÁßÅÂèäÁßòÂØÜ‰øùÊä§ÔºåÂõ†Ê≠§Â§©ÁúºÊü•‰ªéÊú™‰ΩøÁî®ÊàñËé∑ÂèñÈùûÊ≥ïÊ∏†ÈÅìÁöÑÊï∞ÊçÆ‰ø°ÊÅØÔºåËØ¶ÊÉÖËØ∑ÂèÇËÄÉÂ§©ÁúºÊü•È°µÈù¢ÂÜÖ‚ÄúÂÖçË¥£Â£∞Êòé‚Äù‰∏ÄËäÇ„ÄÇ</p><h5>4„ÄÅ\tÂ¶ÇÊûúÂ§©ÁúºÊü•Â±ïÁ§∫ÁöÑ‰ø°ÊÅØÂíåÁúüÂÆûÊÉÖÂÜµ‰∏çÁ¨¶ÔºåÊÄé‰πàËß£ÂÜ≥Ôºü</h5><p>Â§©ÁúºÊü•‰Ωú‰∏∫Êï∞ÊçÆÊêúÁ¥¢ÂíåÂ±ïÁ§∫Â∑•ÂÖ∑ÔºåÊó†Ê≥ï‰øùËØÅËØ•Êï∞ÊçÆ‰∏éÁúüÂÆûÊÉÖÂΩ¢‰øùÊåÅ‰∏ÄËá¥ÔºåÂ¶ÇÊûúËØ•‰ø°ÊÅØÊúâËØØÔºåËØ∑ÂèäÊó∂ËÅîÁ≥ª‰ø°ÊÅØÂèëÂ∏ÉËÄÖÔºåÂ¶ÇÊûúÊÇ®ÊúâË∂≥‰ª•ËØÅÊòéËØ•‰ø°ÊÅØ‰∏éÁúüÂÆûÊÉÖÂÜµ‰∏çÂêåÔºåËØ∑Â∞ÜÂÆåÊï¥ÊúâÊïàÁöÑ‰π¶Èù¢ÊùÉÂà©Â£∞ÊòéÂèäÁõ∏ÂÖ≥ÊùÉÂà©ËØÅÊòéÊñá‰ª∂‰ª•‰π¶Èù¢ÂΩ¢ÂºèÈÇÆÂØÑËá≥ÊàëÂè∏„ÄÇËØ•ÊùÉÂà©Â£∞ÊòéË¶ÅÊ±ÇËØ∑ÂèÇËßÅÂ§©ÁúºÊü•ÁΩëÈ°µÂ∑¶‰∏ãÊñπ‚ÄúÊùÉÂà©ÈÄöÁü•‚Äù‰∏ÄËäÇ„ÄÇ<br/>Âú∞ÂùÄÔºöÂåó‰∫¨Â∏ÇÊµ∑Ê∑ÄÂå∫‰∏≠ÂÖ≥Êùë‰∏úË∑Ø1Âè∑Èô¢8Âè∑ÂêØËø™ÁßëÊäÄÂ§ßÂé¶CÂ∫ß705<br/>Êî∂‰ª∂‰∫∫ÔºöÈáëÂ†§ÁßëÊäÄÊ≥ïÂä°ÈÉ®ÔºàÊî∂Ôºâ</p><h5>5„ÄÅ\t‰∏∫‰ªÄ‰πà‰ΩøÁî®ÊêúÁãóÊàñÁôæÂ∫¶Á≠âÊêúÁ¥¢ÂºïÊìéÊêúÁ¥¢Êàë‰ª¨ÂÖ¨Âè∏ÂêçÂ≠ó‰ºöÂú®ÂâçÂá†‰∏™ÁªìÊûú‰∏≠Âá∫Áé∞‰Ω†‰ª¨ÁöÑËøûÊé•Ôºü</h5><p>ÂêÑÁßçÊêúÁ¥¢ÂºïÊìéÈÉΩÂÖ∑ÊúâËá™Â∑±ÁöÑÊêúÁ¥¢ÁªìÊûúÊéíÂ∫èÊú∫Âà∂ÔºåËøô‰∏ÄÁÇπÊàë‰ª¨Êó†Ê≥ïÂ∑¶Âè≥ÔºåÂ¶ÇÊûúÊÇ®ÂØπËØ•ÂÜÖÂÆπÊúâÂºÇËÆÆÔºåËØ∑ËÅîÁ≥ªËØ•ÊêúÁ¥¢ÊúçÂä°Êèê‰æõÂïÜ„ÄÇ</p><h5>6„ÄÅ\tÊòØÂê¶ÂèØ‰ª•ÈÄöËøáÊî∂Ë¥πÊù•Âà†Èô§Êàñ‰øÆÊîπÈÉ®ÂàÜ‰ø°ÊÅØÔºü</h5><p>Êàë‰ª¨ÁõÆÂâçÊ≤°ÊúâÂØπ‰ø°ÊÅØÂÜÖÂÆπÁöÑÁºñËæëÂºÄÊîæÊî∂Ë¥πÊúçÂä°ÔºåÂêåÊó∂‰πü‰∏ç‰ºöÈááÂèñÂØπÂÆ¢ËßÇ‰ø°ÊÅØÁöÑÊïÖÊÑèÂà†ÊîπÁöÑË°å‰∏∫ËÄåËé∑Âèñ‰ªª‰Ωï‰∏çÊ≠£ÂΩìÂà©Áõä„ÄÇ</p><h5>7„ÄÅ\tÂ¶ÇÊûúÂèëÁé∞‰∫Ü‰∏Ä‰∏™ÁΩëÈ°µbugÊàñÂÖ∂‰ªñÈóÆÈ¢òÔºåÂ¶Ç‰ΩïÂèçÈ¶àÔºü</h5><p>ÊÇ®ÂèØ‰ª•Âú®Áõ∏ÂÖ≥ÂÖ¨Âè∏‰ø°ÊÅØÁΩëÈ°µ‰∏äÊñπÁÇπÂáª‚Äú‰ø°ÊÅØÂèçÈ¶à‚ÄùÔºåÈÄöËøáÊÇ®ÁöÑÁïôË®ÄÂ∞±Â∞ÜË¢´Êàë‰ª¨Ëé∑Âæó„ÄÇ</p><h5>8„ÄÅ\tÊàë‰ª¨Â∏åÊúõÂíåÂ§©ÁúºÊü•ËøõË°åÂïÜÂä°Âêà‰ΩúÔºåÊÄé‰πàËÅîÁ≥ª‰Ω†‰ª¨Ôºü</h5><p>ÊÇ®ÂèØ‰ª•Êã®ÊâìÊàë‰ª¨ÁöÑÂÆ¢ÊúçÁîµËØùÔºåÁÑ∂ÂêéÊåâÁÖßËØ≠Èü≥ÊèêÁ§∫Êìç‰Ωú„ÄÇ<br/>ÂÆ¢ÊúçÁîµËØùÔºö400-608-0000</p>'},info:{title:"ËØ∑ÂÆåÊï¥Â°´ÂÜôÁõ∏ÂÖ≥‰ø°ÊÅØ"},feedback:{title:"Êèê‰∫§ÂÆåÊàê",inner:"Êàë‰ª¨Â∞ÜÂú®Êî∂Âà∞ÊÇ®ÁöÑÊäïËØâ‰ø°ÊÅØÂêéÔºåÁªºÂêàËÄÉËôëÂêÑÁßçÊÉÖÂÜµÔºåÂ¶•ÂñÑÂ§ÑÁêÜÁõ∏ÂÖ≥‰∫ãÂÆú„ÄÇ"}},a.state="read",a.title=a.items[a.state].title,a.item=a.items[a.state],a.total=15,a.btnContent="ÈòÖËØªÂÆåÊØïÂêéÂèØËøõË°å‰∏ã‰∏ÄÊ≠•(15s)",a.codedisabled=!0,a.cancel=function(){n.close(),a.timer&&(clearInterval(a.timer),a.timer=null,a.total=15)},a.changeState=function(e){"info"==e&&a.codedisabled||t(".complaintItem").removeClass("in").filter(".complaintItem".concat(e)).addClass("in")},a.stopSubmit=function(t,n){document.all?e.event.returnValue=!1:t.preventDefault()},a.focusinput=function(e){t(".".concat(e)).hide(),"contactemail"==e&&t(".contactemailerr").hide()},a.blurinput=function(e){t("#".concat(e)).val()?"contactemail"==e&&-1==t("#contactemail").val().search(/^(\w)+(\.\w+)*@(\w)+((\.\w{2,3}){1,3})$/)&&t(".contactemailerr").show():t(".".concat(e)).show()},a.submitAll=function(){return a.contact={},a.contact.firm=t("#contactfirm").val(),a.contact.content=t("#contactcontent").val(),a.contact.name=t("#contactuserinput").val(),a.contact.mobile=t("#contactuserphone").val(),a.contact.email=t("#contactemail").val(),a.contact.address=t("#contactuseraddress").val(),a.contact.firm?a.contact.content?a.contact.email?-1==a.contact.email.search(/^(\w)+(\.\w+)*@(\w)+((\.\w{2,3}){1,3})$/)?void t(".contactemailerr").show():void i.footer_complaint({companyName:a.contact.firm,content:a.contact.content,contactName:a.contact.name,contact:(a.contact.mobile?"".concat(a.contact.mobile,"    "):"")+(a.contact.email?"".concat(a.contact.email,"    "):"")+(a.contact.address?"".concat(a.contact.address,"    "):"")}).then(function(e){a.changeState("feedback")}).fail(function(){a.changeState("feedback")}):void t(".contactemail").show():void t(".contactcontent").show():void t(".contactfirm").show()},a.startInterval=function(){a.timer=setInterval(function(){a.total--,t(".complaintItemBtn").html("ÈòÖËØªÂÆåÊØïÂêéÂèØËøõË°å‰∏ã‰∏ÄÊ≠•(".concat(a.total,"s)")),1==a.total&&(clearInterval(a.timer),a.timer=null,a.total=15,a.codedisabled=!1,t(".complaintItemBtn").html("‰∏ã‰∏ÄÊ≠•").attr("class","active"))},1e3)},a}),define("util/footer",["window","jquery","modal/complain","util/modal"],function(e,t,n,i){if(e.footer)return e.footer;var a={};return a.complain=n,a.openComplaint=function(){var e=ejs.render("modal/complaint_content",{items:{read:{title:"ÊÇ®Â•Ω,ËØ∑ËÆ§ÁúüÈòÖËØª‰ª•‰∏ãËØ¥ÊòéÂêéÁÇπÂáª‚Äú‰∏ã‰∏ÄÊ≠•‚Äù",inner:'<h4 class="text-center">Ôº±ÔºÜÔº°</h4><h5>1„ÄÅ\tÂ§©ÁúºÊü•ÁöÑÊï∞ÊçÆ‰ªéÂì™ÈáåÂæóÊù•Ôºü</h5><p>Â§©ÁúºÊü•Êï∞ÊçÆÊù•Ê∫ê‰∫éÂ∑•ÂïÜÊÄªÂ±ÄÂª∫Á´ãÁöÑÂÖ®ÂõΩ‰ºÅ‰∏ö‰ø°Áî®‰ø°ÊÅØÁ≥ªÁªü„ÄÅÊúÄÈ´ò‰∫∫Ê∞ëÊ≥ïÈô¢Âª∫Á´ãÁöÑË£ÅÂà§Êñá‰π¶ÁΩë„ÄÅÂïÜÊ†áÂ±ÄÂèä‰∏ìÂà©Â±ÄÁ≠âÂÖ¨ÂºÄÂêàÊ≥ïÊ∏†ÈÅìËé∑ÂæóÁõ∏ÂÖ≥‰ø°ÊÅØÔºåÂ§©ÁúºÊü•‰ªÖÂØπËØ•‰ø°ÊÅØÂä†‰ª•Â±ïÁ§∫„ÄÇ</p><h5>2„ÄÅ\tÂ§©ÁúºÊü•Â±ïÁ§∫ÁöÑ‰ø°ÊÅØÊòØÂê¶ÈÉΩÊòØÊúÄÊñ∞ÁöÑ‰ø°ÊÅØ„ÄÇ</h5><p>Â§©ÁúºÊü•Â±ïÁ§∫‰ø°ÊÅØÂÖ∂ÊäìÂèñÊó∂Èó¥‰ª•ÊòéÁ°ÆÊñπÂºèÂ±ïÁ§∫Âú®Áõ∏Â∫îÈ°µÈù¢‰πã‰∏≠ÔºåÂ¶ÇÊûúÊÇ®ÂØπËØ•‰ø°ÊÅØÊó∂ÊïàÊÄßÊúâÂºÇËÆÆÂèØ‰ª•Â∞ùËØïÁÇπÂáªÁ´ãÂç≥Êõ¥Êñ∞ÊåâÈíÆÔºåÂ¶ÇÊûúÊõ¥Êñ∞Âêé‰ø°ÊÅØ‰ªçÁÑ∂ÊªûÂêéÔºåÂàôËØ∑ËÅîÁ≥ª‰ø°ÊÅØÂèëÂ∏ÉÁΩëÁ´ôÔºåÂ§©ÁúºÊü•‰ªÖ‰Ωú‰∏∫‰ø°ÊÅØÂ±ïÁ§∫ÊñπÔºåÂØπ‰ø°ÊÅØ‰∏éÈ°µÈù¢Ê≥®ÊòéÊó∂Èó¥ÂÖ¨ÂºÄÊ∏†ÈÅì‰ø°ÊÅØ‰øùÊåÅ‰∏ÄËá¥„ÄÇ</p><h5>3„ÄÅ\tÂ§©ÁúºÊü•ÁöÑÊï∞ÊçÆ‰∏∫‰ªÄ‰πàÊ≤°Êúâ‰æµÁäØÈöêÁßÅÊàñÂïÜ‰∏öÁßòÂØÜÔºü</h5><p>ÂÖ¨ÂºÄÊï∞ÊçÆÁöÑ‰ΩøÁî®Áî±‰∫éÂÖ∂ÂÖ¨ÂºÄÊÄßÔºå‰∏çÊòØÈöêÁßÅ‰∏éÁßòÂØÜ„ÄÇÂ§©ÁúºÊü•ÂùöÊåÅÁî®ÂÖ¨ÂºÄÂÆàÊä§ÂÖ¨Ê≠£ÁêÜÂøµÁöÑÂêåÊó∂‰πüÂçÅÂàÜÊ≥®ÈáçÂØπÈöêÁßÅÂèäÁßòÂØÜ‰øùÊä§ÔºåÂõ†Ê≠§Â§©ÁúºÊü•‰ªéÊú™‰ΩøÁî®ÊàñËé∑ÂèñÈùûÊ≥ïÊ∏†ÈÅìÁöÑÊï∞ÊçÆ‰ø°ÊÅØÔºåËØ¶ÊÉÖËØ∑ÂèÇËÄÉÂ§©ÁúºÊü•È°µÈù¢ÂÜÖ‚ÄúÂÖçË¥£Â£∞Êòé‚Äù‰∏ÄËäÇ„ÄÇ</p><h5>4„ÄÅ\tÂ¶ÇÊûúÂ§©ÁúºÊü•Â±ïÁ§∫ÁöÑ‰ø°ÊÅØÂíåÁúüÂÆûÊÉÖÂÜµ‰∏çÁ¨¶ÔºåÊÄé‰πàËß£ÂÜ≥Ôºü</h5><p>Â§©ÁúºÊü•‰Ωú‰∏∫Êï∞ÊçÆÊêúÁ¥¢ÂíåÂ±ïÁ§∫Â∑•ÂÖ∑ÔºåÊó†Ê≥ï‰øùËØÅËØ•Êï∞ÊçÆ‰∏éÁúüÂÆûÊÉÖÂΩ¢‰øùÊåÅ‰∏ÄËá¥ÔºåÂ¶ÇÊûúËØ•‰ø°ÊÅØÊúâËØØÔºåËØ∑ÂèäÊó∂ËÅîÁ≥ª‰ø°ÊÅØÂèëÂ∏ÉËÄÖÔºåÂ¶ÇÊûúÊÇ®ÊúâË∂≥‰ª•ËØÅÊòéËØ•‰ø°ÊÅØ‰∏éÁúüÂÆûÊÉÖÂÜµ‰∏çÂêåÔºåËØ∑Â∞ÜÂÆåÊï¥ÊúâÊïàÁöÑ‰π¶Èù¢ÊùÉÂà©Â£∞ÊòéÂèäÁõ∏ÂÖ≥ÊùÉÂà©ËØÅÊòéÊñá‰ª∂‰ª•‰π¶Èù¢ÂΩ¢ÂºèÈÇÆÂØÑËá≥ÊàëÂè∏„ÄÇËØ•ÊùÉÂà©Â£∞ÊòéË¶ÅÊ±ÇËØ∑ÂèÇËßÅÂ§©ÁúºÊü•ÁΩëÈ°µÂ∑¶‰∏ãÊñπ‚ÄúÊùÉÂà©ÈÄöÁü•‚Äù‰∏ÄËäÇ„ÄÇ<br/>Âú∞ÂùÄÔºöÂåó‰∫¨Â∏ÇÊµ∑Ê∑ÄÂå∫Áü•Êò•Ë∑Ø63Âè∑‰∏≠ÂõΩÂç´ÊòüÈÄö‰ø°Â§ßÂé¶BÂ∫ß23Â±Ç<br/>Êî∂‰ª∂‰∫∫ÔºöÈáëÂ†§ÁßëÊäÄÊ≥ïÂä°ÈÉ®ÔºàÊî∂Ôºâ</p><h5>5„ÄÅ\t‰∏∫‰ªÄ‰πà‰ΩøÁî®ÊêúÁãóÊàñÁôæÂ∫¶Á≠âÊêúÁ¥¢ÂºïÊìéÊêúÁ¥¢Êàë‰ª¨ÂÖ¨Âè∏ÂêçÂ≠ó‰ºöÂú®ÂâçÂá†‰∏™ÁªìÊûú‰∏≠Âá∫Áé∞‰Ω†‰ª¨ÁöÑËøûÊé•Ôºü</h5><p>ÂêÑÁßçÊêúÁ¥¢ÂºïÊìéÈÉΩÂÖ∑ÊúâËá™Â∑±ÁöÑÊêúÁ¥¢ÁªìÊûúÊéíÂ∫èÊú∫Âà∂ÔºåËøô‰∏ÄÁÇπÊàë‰ª¨Êó†Ê≥ïÂ∑¶Âè≥ÔºåÂ¶ÇÊûúÊÇ®ÂØπËØ•ÂÜÖÂÆπÊúâÂºÇËÆÆÔºåËØ∑ËÅîÁ≥ªËØ•ÊêúÁ¥¢ÊúçÂä°Êèê‰æõÂïÜ„ÄÇ</p><h5>6„ÄÅ\tÊòØÂê¶ÂèØ‰ª•ÈÄöËøáÊî∂Ë¥πÊù•Âà†Èô§Êàñ‰øÆÊîπÈÉ®ÂàÜ‰ø°ÊÅØÔºü</h5><p>Êàë‰ª¨ÁõÆÂâçÊ≤°ÊúâÂØπ‰ø°ÊÅØÂÜÖÂÆπÁöÑÁºñËæëÂºÄÊîæÊî∂Ë¥πÊúçÂä°ÔºåÂêåÊó∂‰πü‰∏ç‰ºöÈááÂèñÂØπÂÆ¢ËßÇ‰ø°ÊÅØÁöÑÊïÖÊÑèÂà†ÊîπÁöÑË°å‰∏∫ËÄåËé∑Âèñ‰ªª‰Ωï‰∏çÊ≠£ÂΩìÂà©Áõä„ÄÇ</p><h5>7„ÄÅ\tÂ¶ÇÊûúÂèëÁé∞‰∫Ü‰∏Ä‰∏™ÁΩëÈ°µbugÊàñÂÖ∂‰ªñÈóÆÈ¢òÔºåÂ¶Ç‰ΩïÂèçÈ¶àÔºü</h5><p>ÊÇ®ÂèØ‰ª•Âú®Áõ∏ÂÖ≥ÂÖ¨Âè∏‰ø°ÊÅØÁΩëÈ°µ‰∏äÊñπÁÇπÂáª‚Äú‰ø°ÊÅØÂèçÈ¶à‚ÄùÔºåÈÄöËøáÊÇ®ÁöÑÁïôË®ÄÂ∞±Â∞ÜË¢´Êàë‰ª¨Ëé∑Âæó„ÄÇ</p><h5>8„ÄÅ\tÊàë‰ª¨Â∏åÊúõÂíåÂ§©ÁúºÊü•ËøõË°åÂïÜÂä°Âêà‰ΩúÔºåÊÄé‰πàËÅîÁ≥ª‰Ω†‰ª¨Ôºü</h5><p>ÊÇ®ÂèØ‰ª•Êã®ÊâìÊàë‰ª¨ÁöÑÂÆ¢ÊúçÁîµËØùÔºåÁÑ∂ÂêéÊåâÁÖßËØ≠Èü≥ÊèêÁ§∫Êìç‰Ωú„ÄÇ<br/>ÂÆ¢ÊúçÁîµËØùÔºö400-608-0000</p>'},info:{title:"ËØ∑ÂÆåÊï¥Â°´ÂÜôÁõ∏ÂÖ≥‰ø°ÊÅØ"},feedback:{title:"Êèê‰∫§ÂÆåÊàê",inner:"Êàë‰ª¨Â∞ÜÂú®Êî∂Âà∞ÊÇ®ÁöÑÊäïËØâ‰ø°ÊÅØÂêéÔºåÁªºÂêàËÄÉËôëÂêÑÁßçÊÉÖÂÜµÔºåÂ¶•ÂñÑÂ§ÑÁêÜÁõ∏ÂÖ≥‰∫ãÂÆú„ÄÇ"}}});i.openByElementStr(e,{size:"complaint"},function(){n.startInterval()})},e.footer=a,a}),define("util/jquery.ui.widget",["jquery"],function(e){var t=0,n=Array.prototype.slice;e.cleanData=function(t){return function(n){var i,a,o;for(o=0;null!=(a=n[o]);o++)try{i=e._data(a,"events"),i&&i.remove&&e(a).triggerHandler("remove")}catch(e){}t(n)}}(e.cleanData),e.widget=function(t,n,i){var a,o,r,s={},c=t.split(".")[0];t=t.split(".")[1];var l=c+"-"+t;return i||(i=n,n=e.Widget),e.isArray(i)&&(i=e.extend.apply(null,[{}].concat(i))),e.expr[":"][l.toLowerCase()]=function(t){return!!e.data(t,l)},e[c]=e[c]||{},a=e[c][t],o=e[c][t]=function(e,t){if(!this._createWidget)return new o(e,t);arguments.length&&this._createWidget(e,t)},e.extend(o,a,{version:i.version,_proto:e.extend({},i),_childConstructors:[]}),r=new n,r.options=e.widget.extend({},r.options),e.each(i,function(t,i){if(!e.isFunction(i))return void(s[t]=i);s[t]=function(){function e(){return n.prototype[t].apply(this,arguments)}function a(e){return n.prototype[t].apply(this,e)}return function(){var t,n=this._super,o=this._superApply;return this._super=e,this._superApply=a,t=i.apply(this,arguments),this._super=n,this._superApply=o,t}}()}),o.prototype=e.widget.extend(r,{widgetEventPrefix:a?r.widgetEventPrefix||t:t},s,{constructor:o,namespace:c,widgetName:t,widgetFullName:l}),a?(e.each(a._childConstructors,function(t,n){var i=n.prototype;e.widget(i.namespace+"."+i.widgetName,o,n._proto)}),delete a._childConstructors):n._childConstructors.push(o),e.widget.bridge(t,o),o},e.widget.extend=function(t){for(var i,a,o=n.call(arguments,1),r=0,s=o.length;r<s;r++)for(i in o[r])a=o[r][i],o[r].hasOwnProperty(i)&&void 0!==a&&(e.isPlainObject(a)?t[i]=e.isPlainObject(t[i])?e.widget.extend({},t[i],a):e.widget.extend({},a):t[i]=a);return t},e.widget.bridge=function(t,i){var a=i.prototype.widgetFullName||t;e.fn[t]=function(o){var r="string"==typeof o,s=n.call(arguments,1),c=this;return r?this.length||"instance"!==o?this.each(function(){var n,i=e.data(this,a);return"instance"===o?(c=i,!1):i?e.isFunction(i[o])&&"_"!==o.charAt(0)?(n=i[o].apply(i,s),n!==i&&void 0!==n?(c=n&&n.jquery?c.pushStack(n.get()):n,!1):void 0):e.error("no such method '"+o+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+o+"'")}):c=void 0:(s.length&&(o=e.widget.extend.apply(null,[o].concat(s))),this.each(function(){var t=e.data(this,a);t?(t.option(o||{}),t._init&&t._init()):e.data(this,a,new i(o,this))})),c}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(n,i){i=e(i||this.defaultElement||this)[0],this.element=e(i),this.uuid=t++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),this.classesElementLookup={},i!==this&&(e.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===i&&this.destroy()}}),this.document=e(i.style?i.ownerDocument:i.document||i),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),n),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){var t=this;this._destroy(),e.each(this.classesElementLookup,function(e,n){t._removeClass(n,e)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:e.noop,widget:function(){return this.element},option:function(t,n){var i,a,o,r=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(r={},i=t.split("."),t=i.shift(),i.length){for(a=r[t]=e.widget.extend({},this.options[t]),o=0;o<i.length-1;o++)a[i[o]]=a[i[o]]||{},a=a[i[o]];if(t=i.pop(),1===arguments.length)return void 0===a[t]?null:a[t];a[t]=n}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];r[t]=n}return this._setOptions(r),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return"classes"===e&&this._setOptionClasses(t),this.options[e]=t,"disabled"===e&&this._setOptionDisabled(t),this},_setOptionClasses:function(t){var n,i,a;for(n in t)a=this.classesElementLookup[n],t[n]!==this.options.classes[n]&&a&&a.length&&(i=e(a.get()),this._removeClass(a,n),i.addClass(this._classes({element:i,keys:n,classes:t,add:!0})))},_setOptionDisabled:function(e){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!e),e&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(t){function n(n,o){var r,s;for(s=0;s<n.length;s++)r=a.classesElementLookup[n[s]]||e(),r=e(t.add?e.unique(r.get().concat(t.element.get())):r.not(t.element).get()),a.classesElementLookup[n[s]]=r,i.push(n[s]),o&&t.classes[n[s]]&&i.push(t.classes[n[s]])}var i=[],a=this;return t=e.extend({element:this.element,classes:this.options.classes||{}},t),this._on(t.element,{"remove":"_untrackClassesElement"}),t.keys&&n(t.keys.match(/\S+/g)||[],!0),t.extra&&n(t.extra.match(/\S+/g)||[]),i.join(" ")},_untrackClassesElement:function(t){var n=this;e.each(n.classesElementLookup,function(i,a){-1!==e.inArray(t.target,a)&&(n.classesElementLookup[i]=e(a.not(t.target).get()))})},_removeClass:function(e,t,n){return this._toggleClass(e,t,n,!1)},_addClass:function(e,t,n){return this._toggleClass(e,t,n,!0)},_toggleClass:function(e,t,n,i){i="boolean"==typeof i?i:n;var a="string"==typeof e||null===e,o={extra:a?t:n,keys:a?e:t,element:a?this.element:e,add:i};return o.element.toggleClass(this._classes(o),i),this},_on:function(t,n,i){var a,o=this;"boolean"!=typeof t&&(i=n,n=t,t=!1),i?(n=a=e(n),this.bindings=this.bindings.add(n)):(i=n,n=this.element,a=this.widget()),e.each(i,function(i,r){function s(){if(t||!0!==o.options.disabled&&!e(this).hasClass("ui-state-disabled"))return("string"==typeof r?o[r]:r).apply(o,arguments)}"string"!=typeof r&&(s.guid=r.guid=r.guid||s.guid||e.guid++);var c=i.match(/^([\w:-]*)\s*(.*)$/),l=c[1]+o.eventNamespace,d=c[2];d?a.on(l,d,s):n.on(l,s)})},_off:function(t,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.off(n).off(n),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){function n(){return("string"==typeof e?i[e]:e).apply(i,arguments)}var i=this;return setTimeout(n,t||0)},
_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){this._addClass(e(t.currentTarget),null,"ui-state-hover")},mouseleave:function(t){this._removeClass(e(t.currentTarget),null,"ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){this._addClass(e(t.currentTarget),null,"ui-state-focus")},focusout:function(t){this._removeClass(e(t.currentTarget),null,"ui-state-focus")}})},_trigger:function(t,n,i){var a,o,r=this.options[t];if(i=i||{},n=e.Event(n),n.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],o=n.originalEvent)for(a in o)a in n||(n[a]=o[a]);return this.element.trigger(n,i),!(e.isFunction(r)&&!1===r.apply(this.element[0],[n].concat(i))||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,n){e.Widget.prototype["_"+t]=function(i,a,o){"string"==typeof a&&(a={effect:a});var r,s=a?!0===a||"number"==typeof a?n:a.effect||n:t;a=a||{},"number"==typeof a&&(a={duration:a}),r=!e.isEmptyObject(a),a.complete=o,a.delay&&i.delay(a.delay),r&&e.effects&&e.effects.effect[s]?i[t](a):s!==t&&i[s]?i[s](a.duration,a.easing,o):i.queue(function(n){e(this)[t](),o&&o.call(i[0]),n()})}});e.widget}),define("util/jquery.iframe-transport",["jquery"],function(e){"use strict";var t=0,n=e,i="parseJSON";"JSON"in window&&"parse"in JSON&&(n=JSON,i="parse"),e.ajaxTransport("iframe",function(n){if(n.async){var i,a,o,r=n.initialIframeSrc||"javascript:false;";return{send:function(s,c){i=e('<form style="display:none;"></form>'),i.attr("accept-charset",n.formAcceptCharset),o=/\?/.test(n.url)?"&":"?","DELETE"===n.type?(n.url=n.url+o+"_method=DELETE",n.type="POST"):"PUT"===n.type?(n.url=n.url+o+"_method=PUT",n.type="POST"):"PATCH"===n.type&&(n.url=n.url+o+"_method=PATCH",n.type="POST"),t+=1,a=e('<iframe src="'+r+'" name="iframe-transport-'+t+'"></iframe>').bind("load",function(){var t,o=e.isArray(n.paramName)?n.paramName:[n.paramName];a.unbind("load").bind("load",function(){var t;try{if(t=a.contents(),!t.length||!t[0].firstChild)throw Error()}catch(e){t=void 0}c(200,"success",{"iframe":t}),e('<iframe src="'+r+'"></iframe>').appendTo(i),window.setTimeout(function(){i.remove()},0)}),i.prop("target",a.prop("name")).prop("action",n.url).prop("method",n.type),n.formData&&e.each(n.formData,function(t,n){e('<input type="hidden"/>').prop("name",n.name).val(n.value).appendTo(i)}),n.fileInput&&n.fileInput.length&&"POST"===n.type&&(t=n.fileInput.clone(),n.fileInput.after(function(e){return t[e]}),n.paramName&&n.fileInput.each(function(t){e(this).prop("name",o[t]||n.paramName)}),i.append(n.fileInput).prop("enctype","multipart/form-data").prop("encoding","multipart/form-data"),n.fileInput.removeAttr("form")),i.submit(),t&&t.length&&n.fileInput.each(function(n,i){var a=e(t[n]);e(i).prop("name",a.prop("name")).attr("form",a.attr("form")),a.replaceWith(i)})}),i.append(a).appendTo(document.body)},abort:function(){a&&a.unbind("load").prop("src",r),i&&i.remove()}}}}),e.ajaxSetup({converters:{"iframe text":function(t){return t&&e(t[0].body).text()},"iframe json":function(t){return t&&n[i](e(t[0].body).text())},"iframe html":function(t){return t&&e(t[0].body).html()},"iframe xml":function(t){var n=t&&t[0];return n&&e.isXMLDoc(n)?n:e.parseXML(n.XMLDocument&&n.XMLDocument.xml||e(n.body).html())},"iframe script":function(t){return t&&e.globalEval(e(t[0].body).text())}}})}),define("util/jquery.fileupload",["jquery","util/jquery.ui.widget","util/jquery.iframe-transport"],function(e,t,n){"use strict";function i(t){var n="dragover"===t;return function(i){i.dataTransfer=i.originalEvent&&i.originalEvent.dataTransfer;var a=i.dataTransfer;a&&-1!==e.inArray("Files",a.types)&&!1!==this._trigger(t,e.Event(t,{delegatedEvent:i}))&&(i.preventDefault(),n&&(a.dropEffect="copy"))}}e.support.fileInput=!(RegExp("(Android (1\\.[0156]|2\\.[01]))|(Windows Phone (OS 7|8\\.0))|(XBLWP)|(ZuneWP)|(WPDesktop)|(w(eb)?OSBrowser)|(webOS)|(Kindle/(1\\.0|2\\.[05]|3\\.0))").test(window.navigator.userAgent)||e('<input type="file"/>').prop("disabled")),e.support.xhrFileUpload=!(!window.ProgressEvent||!window.FileReader),e.support.xhrFormDataFileUpload=!!window.FormData,e.support.blobSlice=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice),e.widget("blueimp.fileupload",{options:{dropZone:e(document),pasteZone:void 0,fileInput:void 0,replaceFileInput:!0,paramName:void 0,singleFileUploads:!0,limitMultiFileUploads:void 0,limitMultiFileUploadSize:void 0,limitMultiFileUploadSizeOverhead:512,sequentialUploads:!1,limitConcurrentUploads:void 0,forceIframeTransport:!1,redirect:void 0,redirectParamName:void 0,postMessage:void 0,multipart:!0,maxChunkSize:void 0,uploadedBytes:void 0,recalculateProgress:!0,progressInterval:100,bitrateInterval:500,autoUpload:!0,messages:{uploadedBytes:"Uploaded bytes exceed file size"},i18n:function(t,n){return t=this.messages[t]||""+t,n&&e.each(n,function(e,n){t=t.replace("{"+e+"}",n)}),t},formData:function(e){return e.serializeArray()},add:function(t,n){if(t.isDefaultPrevented())return!1;(n.autoUpload||!1!==n.autoUpload&&e(this).fileupload("option","autoUpload"))&&n.process().done(function(){n.submit()})},processData:!1,contentType:!1,cache:!1,timeout:0},_specialOptions:["fileInput","dropZone","pasteZone","multipart","forceIframeTransport"],_blobSlice:e.support.blobSlice&&function(){return(this.slice||this.webkitSlice||this.mozSlice).apply(this,arguments)},_BitrateTimer:function(){this.timestamp=Date.now?Date.now():(new Date).getTime(),this.loaded=0,this.bitrate=0,this.getBitrate=function(e,t,n){var i=e-this.timestamp;return(!this.bitrate||!n||i>n)&&(this.bitrate=(t-this.loaded)*(1e3/i)*8,this.loaded=t,this.timestamp=e),this.bitrate}},_isXHRUpload:function(t){return!t.forceIframeTransport&&(!t.multipart&&e.support.xhrFileUpload||e.support.xhrFormDataFileUpload)},_getFormData:function(t){var n;return"function"===e.type(t.formData)?t.formData(t.form):e.isArray(t.formData)?t.formData:"object"===e.type(t.formData)?(n=[],e.each(t.formData,function(e,t){n.push({name:e,value:t})}),n):[]},_getTotal:function(t){var n=0;return e.each(t,function(e,t){n+=t.size||1}),n},_initProgressObject:function(t){var n={loaded:0,total:0,bitrate:0};t._progress?e.extend(t._progress,n):t._progress=n},_initResponseObject:function(e){var t;if(e._response)for(t in e._response)e._response.hasOwnProperty(t)&&delete e._response[t];else e._response={}},_onProgress:function(t,n){if(t.lengthComputable){var i,a=Date.now?Date.now():(new Date).getTime();if(n._time&&n.progressInterval&&a-n._time<n.progressInterval&&t.loaded!==t.total)return;n._time=a,i=Math.floor(t.loaded/t.total*(n.chunkSize||n._progress.total))+(n.uploadedBytes||0),this._progress.loaded+=i-n._progress.loaded,this._progress.bitrate=this._bitrateTimer.getBitrate(a,this._progress.loaded,n.bitrateInterval),n._progress.loaded=n.loaded=i,n._progress.bitrate=n.bitrate=n._bitrateTimer.getBitrate(a,i,n.bitrateInterval),this._trigger("progress",e.Event("progress",{delegatedEvent:t}),n),this._trigger("progressall",e.Event("progressall",{delegatedEvent:t}),this._progress)}},_initProgressListener:function(t){var n=this,i=t.xhr?t.xhr():e.ajaxSettings.xhr();i.upload&&(e(i.upload).bind("progress",function(e){var i=e.originalEvent;e.lengthComputable=i.lengthComputable,e.loaded=i.loaded,e.total=i.total,n._onProgress(e,t)}),t.xhr=function(){return i})},_deinitProgressListener:function(t){var n=t.xhr?t.xhr():e.ajaxSettings.xhr();n.upload&&e(n.upload).unbind("progress")},_isInstanceOf:function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"},_initXHRData:function(t){var n,i=this,a=t.files[0],o=t.multipart||!e.support.xhrFileUpload,r="array"===e.type(t.paramName)?t.paramName[0]:t.paramName;t.headers=e.extend({},t.headers),t.contentRange&&(t.headers["Content-Range"]=t.contentRange),o&&!t.blob&&this._isInstanceOf("File",a)||(t.headers["Content-Disposition"]='attachment; filename="'+encodeURI(a.uploadName||a.name)+'"'),o?e.support.xhrFormDataFileUpload&&(t.postMessage?(n=this._getFormData(t),t.blob?n.push({name:r,value:t.blob}):e.each(t.files,function(i,a){n.push({name:"array"===e.type(t.paramName)&&t.paramName[i]||r,value:a})})):(i._isInstanceOf("FormData",t.formData)?n=t.formData:(n=new FormData,e.each(this._getFormData(t),function(e,t){n.append(t.name,t.value)})),t.blob?n.append(r,t.blob,a.uploadName||a.name):e.each(t.files,function(a,o){(i._isInstanceOf("File",o)||i._isInstanceOf("Blob",o))&&n.append("array"===e.type(t.paramName)&&t.paramName[a]||r,o,o.uploadName||o.name)})),t.data=n):(t.contentType=a.type||"application/octet-stream",t.data=t.blob||a),t.blob=null},_initIframeSettings:function(t){var n=e("<a></a>").prop("href",t.url).prop("host");t.dataType="iframe "+(t.dataType||""),t.formData=this._getFormData(t),t.redirect&&n&&n!==location.host&&t.formData.push({name:t.redirectParamName||"redirect",value:t.redirect})},_initDataSettings:function(e){this._isXHRUpload(e)?(this._chunkedUpload(e,!0)||(e.data||this._initXHRData(e),this._initProgressListener(e)),e.postMessage&&(e.dataType="postmessage "+(e.dataType||""))):this._initIframeSettings(e)},_getParamName:function(t){var n=e(t.fileInput),i=t.paramName;return i?e.isArray(i)||(i=[i]):(i=[],n.each(function(){for(var t=e(this),n=t.prop("name")||"files[]",a=(t.prop("files")||[1]).length;a;)i.push(n),a-=1}),i.length||(i=[n.prop("name")||"files[]"])),i},_initFormSettings:function(t){t.form&&t.form.length||(t.form=e(t.fileInput.prop("form")),t.form.length||(t.form=e(this.options.fileInput.prop("form")))),t.paramName=this._getParamName(t),t.url||(t.url=t.form.prop("action")||location.href),t.type=(t.type||"string"===e.type(t.form.prop("method"))&&t.form.prop("method")||"").toUpperCase(),"POST"!==t.type&&"PUT"!==t.type&&"PATCH"!==t.type&&(t.type="POST"),t.formAcceptCharset||(t.formAcceptCharset=t.form.attr("accept-charset"))},_getAJAXSettings:function(t){var n=e.extend({},this.options,t);return this._initFormSettings(n),this._initDataSettings(n),n},_getDeferredState:function(e){return e.state?e.state():e.isResolved()?"resolved":e.isRejected()?"rejected":"pending"},_enhancePromise:function(e){return e.success=e.done,e.error=e.fail,e.complete=e.always,e},_getXHRPromise:function(t,n,i){var a=e.Deferred(),o=a.promise();return n=n||this.options.context||o,!0===t?a.resolveWith(n,i):!1===t&&a.rejectWith(n,i),o.abort=a.promise,this._enhancePromise(o)},_addConvenienceMethods:function(t,n){var i=this,a=function(t){return e.Deferred().resolveWith(i,t).promise()};n.process=function(t,o){return(t||o)&&(n._processQueue=this._processQueue=(this._processQueue||a([this])).then(function(){return n.errorThrown?e.Deferred().rejectWith(i,[n]).promise():a(arguments)}).then(t,o)),this._processQueue||a([this])},n.submit=function(){return"pending"!==this.state()&&(n.jqXHR=this.jqXHR=!1!==i._trigger("submit",e.Event("submit",{delegatedEvent:t}),this)&&i._onSend(t,this)),this.jqXHR||i._getXHRPromise()},n.abort=function(){return this.jqXHR?this.jqXHR.abort():(this.errorThrown="abort",i._trigger("fail",null,this),i._getXHRPromise(!1))},n.state=function(){return this.jqXHR?i._getDeferredState(this.jqXHR):this._processQueue?i._getDeferredState(this._processQueue):void 0},n.processing=function(){return!this.jqXHR&&this._processQueue&&"pending"===i._getDeferredState(this._processQueue)},n.progress=function(){return this._progress},n.response=function(){return this._response}},_getUploadedBytes:function(e){var t=e.getResponseHeader("Range"),n=t&&t.split("-"),i=n&&n.length>1&&parseInt(n[1],10);return i&&i+1},_chunkedUpload:function(t,n){t.uploadedBytes=t.uploadedBytes||0;var i,a,o=this,r=t.files[0],s=r.size,c=t.uploadedBytes,l=t.maxChunkSize||s,d=this._blobSlice,u=e.Deferred(),p=u.promise();return!(!(this._isXHRUpload(t)&&d&&(c||("function"===e.type(l)?l(t):l)<s))||t.data)&&(!!n||(c>=s?(r.error=t.i18n("uploadedBytes"),this._getXHRPromise(!1,t.context,[null,"error",r.error])):(a=function(){var n=e.extend({},t),p=n._progress.loaded;n.blob=d.call(r,c,c+("function"===e.type(l)?l(n):l),r.type),n.chunkSize=n.blob.size,n.contentRange="bytes "+c+"-"+(c+n.chunkSize-1)+"/"+s,o._trigger("chunkbeforesend",null,n),o._initXHRData(n),o._initProgressListener(n),i=(!1!==o._trigger("chunksend",null,n)&&e.ajax(n)||o._getXHRPromise(!1,n.context)).done(function(i,r,l){c=o._getUploadedBytes(l)||c+n.chunkSize,p+n.chunkSize-n._progress.loaded&&o._onProgress(e.Event("progress",{lengthComputable:!0,loaded:c-n.uploadedBytes,total:c-n.uploadedBytes}),n),t.uploadedBytes=n.uploadedBytes=c,n.result=i,n.textStatus=r,n.jqXHR=l,o._trigger("chunkdone",null,n),o._trigger("chunkalways",null,n),c<s?a():u.resolveWith(n.context,[i,r,l])}).fail(function(e,t,i){n.jqXHR=e,n.textStatus=t,n.errorThrown=i,o._trigger("chunkfail",null,n),o._trigger("chunkalways",null,n),u.rejectWith(n.context,[e,t,i])}).always(function(){o._deinitProgressListener(n)})},this._enhancePromise(p),p.abort=function(){return i.abort()},a(),p)))},_beforeSend:function(e,t){0===this._active&&(this._trigger("start"),this._bitrateTimer=new this._BitrateTimer,this._progress.loaded=this._progress.total=0,this._progress.bitrate=0),this._initResponseObject(t),this._initProgressObject(t),t._progress.loaded=t.loaded=t.uploadedBytes||0,t._progress.total=t.total=this._getTotal(t.files)||1,t._progress.bitrate=t.bitrate=0,this._active+=1,this._progress.loaded+=t.loaded,this._progress.total+=t.total},_onDone:function(t,n,i,a){var o=a._progress.total,r=a._response;a._progress.loaded<o&&this._onProgress(e.Event("progress",{lengthComputable:!0,loaded:o,total:o}),a),r.result=a.result=t,r.textStatus=a.textStatus=n,r.jqXHR=a.jqXHR=i,this._trigger("done",null,a)},_onFail:function(e,t,n,i){var a=i._response;i.recalculateProgress&&(this._progress.loaded-=i._progress.loaded,this._progress.total-=i._progress.total),a.jqXHR=i.jqXHR=e,a.textStatus=i.textStatus=t,a.errorThrown=i.errorThrown=n,this._trigger("fail",null,i)},_onAlways:function(e,t,n,i){this._trigger("always",null,i)},_onSend:function(t,n){n.submit||this._addConvenienceMethods(t,n);var i,a,o,r,s=this,c=s._getAJAXSettings(n),l=function(){return s._sending+=1,c._bitrateTimer=new s._BitrateTimer,i=i||((a||!1===s._trigger("send",e.Event("send",{delegatedEvent:t}),c))&&s._getXHRPromise(!1,c.context,a)||s._chunkedUpload(c)||e.ajax(c)).done(function(e,t,n){s._onDone(e,t,n,c)}).fail(function(e,t,n){s._onFail(e,t,n,c)}).always(function(e,t,n){if(s._deinitProgressListener(c),s._onAlways(e,t,n,c),s._sending-=1,s._active-=1,c.limitConcurrentUploads&&c.limitConcurrentUploads>s._sending)for(var i=s._slots.shift();i;){if("pending"===s._getDeferredState(i)){i.resolve();break}i=s._slots.shift()}0===s._active&&s._trigger("stop")})};return this._beforeSend(t,c),this.options.sequentialUploads||this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending?(this.options.limitConcurrentUploads>1?(o=e.Deferred(),this._slots.push(o),r=o.then(l)):(this._sequence=this._sequence.then(l,l),r=this._sequence),r.abort=function(){return a=[void 0,"abort","abort"],i?i.abort():(o&&o.rejectWith(c.context,a),l())},this._enhancePromise(r)):l()},_onAdd:function(t,n){var i,a,o,r,s=this,c=!0,l=e.extend({},this.options,n),d=n.files,u=d.length,p=l.limitMultiFileUploads,f=l.limitMultiFileUploadSize,h=l.limitMultiFileUploadSizeOverhead,m=0,g=this._getParamName(l),v=0;if(!u)return!1;if(f&&void 0===d[0].size&&(f=void 0),(l.singleFileUploads||p||f)&&this._isXHRUpload(l))if(l.singleFileUploads||f||!p)if(!l.singleFileUploads&&f)for(o=[],i=[],r=0;r<u;r+=1)m+=d[r].size+h,(r+1===u||m+d[r+1].size+h>f||p&&r+1-v>=p)&&(o.push(d.slice(v,r+1)),a=g.slice(v,r+1),a.length||(a=g),i.push(a),v=r+1,m=0);else i=g;else for(o=[],i=[],r=0;r<u;r+=p)o.push(d.slice(r,r+p)),a=g.slice(r,r+p),a.length||(a=g),i.push(a);else o=[d],i=[g];return n.originalFiles=d,e.each(o||d,function(a,r){var l=e.extend({},n);return l.files=o?r:[r],l.paramName=i[a],s._initResponseObject(l),s._initProgressObject(l),s._addConvenienceMethods(t,l),c=s._trigger("add",e.Event("add",{delegatedEvent:t}),l)}),c},_replaceFileInput:function(t){var n=t.fileInput,i=n.clone(!0),a=n.is(document.activeElement);t.fileInputClone=i,e("<form></form>").append(i)[0].reset(),n.after(i).detach(),a&&i.focus(),e.cleanData(n.unbind("remove")),this.options.fileInput=this.options.fileInput.map(function(e,t){return t===n[0]?i[0]:t}),n[0]===this.element[0]&&(this.element=i)},_handleFileTreeEntry:function(t,n){var i,a=this,o=e.Deferred(),r=[],s=function(e){e&&!e.entry&&(e.entry=t),o.resolve([e])},c=function(e){a._handleFileTreeEntries(e,n+t.name+"/").done(function(e){o.resolve(e)}).fail(s)};return n=n||"",t.isFile?t._file?(t._file.relativePath=n,o.resolve(t._file)):t.file(function(e){e.relativePath=n,o.resolve(e)},s):t.isDirectory?(i=t.createReader(),function e(){i.readEntries(function(t){t.length?(r=r.concat(t),e()):c(r)},s)}()):o.resolve([]),o.promise()},_handleFileTreeEntries:function(t,n){var i=this;return e.when.apply(e,e.map(t,function(e){return i._handleFileTreeEntry(e,n)})).then(function(){return Array.prototype.concat.apply([],arguments)})},_getDroppedFiles:function(t){t=t||{};var n=t.items;return n&&n.length&&(n[0].webkitGetAsEntry||n[0].getAsEntry)?this._handleFileTreeEntries(e.map(n,function(e){var t;return e.webkitGetAsEntry?(t=e.webkitGetAsEntry(),t&&(t._file=e.getAsFile()),t):e.getAsEntry()})):e.Deferred().resolve(e.makeArray(t.files)).promise()},_getSingleFileInputFiles:function(t){t=e(t);var n,i,a=t.prop("webkitEntries")||t.prop("entries");if(a&&a.length)return this._handleFileTreeEntries(a);if(n=e.makeArray(t.prop("files")),n.length)void 0===n[0].name&&n[0].fileName&&e.each(n,function(e,t){t.name=t.fileName,t.size=t.fileSize});else{if(!(i=t.prop("value")))return e.Deferred().resolve([]).promise();n=[{name:i.replace(/^.*\\/,"")}]}return e.Deferred().resolve(n).promise()},_getFileInputFiles:function(t){return t instanceof e&&1!==t.length?e.when.apply(e,e.map(t,this._getSingleFileInputFiles)).then(function(){return Array.prototype.concat.apply([],arguments)}):this._getSingleFileInputFiles(t)},_onChange:function(t){var n=this,i={fileInput:e(t.target),form:e(t.target.form)};this._getFileInputFiles(i.fileInput).always(function(a){i.files=a,n.options.replaceFileInput&&n._replaceFileInput(i),!1!==n._trigger("change",e.Event("change",{delegatedEvent:t}),i)&&n._onAdd(t,i)})},_onPaste:function(t){var n=t.originalEvent&&t.originalEvent.clipboardData&&t.originalEvent.clipboardData.items,i={files:[]};n&&n.length&&(e.each(n,function(e,t){var n=t.getAsFile&&t.getAsFile();n&&i.files.push(n)}),!1!==this._trigger("paste",e.Event("paste",{delegatedEvent:t}),i)&&this._onAdd(t,i))},_onDrop:function(t){t.dataTransfer=t.originalEvent&&t.originalEvent.dataTransfer;var n=this,i=t.dataTransfer,a={};i&&i.files&&i.files.length&&(t.preventDefault(),this._getDroppedFiles(i).always(function(i){a.files=i,!1!==n._trigger("drop",e.Event("drop",{delegatedEvent:t}),a)&&n._onAdd(t,a)}))},_onDragOver:i("dragover"),_onDragEnter:i("dragenter"),_onDragLeave:i("dragleave"),_initEventHandlers:function(){this._isXHRUpload(this.options)&&(this._on(this.options.dropZone,{dragover:this._onDragOver,drop:this._onDrop,dragenter:this._onDragEnter,dragleave:this._onDragLeave}),this._on(this.options.pasteZone,{paste:this._onPaste})),e.support.fileInput&&this._on(this.options.fileInput,{change:this._onChange})},_destroyEventHandlers:function(){this._off(this.options.dropZone,"dragenter dragleave dragover drop"),this._off(this.options.pasteZone,"paste"),this._off(this.options.fileInput,"change")},_destroy:function(){this._destroyEventHandlers()},_setOption:function(t,n){var i=-1!==e.inArray(t,this._specialOptions);i&&this._destroyEventHandlers(),this._super(t,n),i&&(this._initSpecialOptions(),this._initEventHandlers())},_initSpecialOptions:function(){var t=this.options;void 0===t.fileInput?t.fileInput=this.element.is('input[type="file"]')?this.element:this.element.find('input[type="file"]'):t.fileInput instanceof e||(t.fileInput=e(t.fileInput)),t.dropZone instanceof e||(t.dropZone=e(t.dropZone)),t.pasteZone instanceof e||(t.pasteZone=e(t.pasteZone))},_getRegExp:function(e){var t=e.split("/"),n=t.pop();return t.shift(),RegExp(t.join("/"),n)},_isRegExpOption:function(t,n){return"url"!==t&&"string"===e.type(n)&&/^\/.*\/[igm]{0,3}$/.test(n)},_initDataAttributes:function(){var t=this,n=this.options,i=this.element.data();e.each(this.element[0].attributes,function(e,a){var o,r=a.name.toLowerCase();/^data-/.test(r)&&(r=r.slice(5).replace(/-[a-z]/g,function(e){return e.charAt(1).toUpperCase()}),o=i[r],t._isRegExpOption(r,o)&&(o=t._getRegExp(o)),n[r]=o)})},_create:function(){this._initDataAttributes(),this._initSpecialOptions(),this._slots=[],this._sequence=this._getXHRPromise(!0),this._sending=this._active=0,this._initProgressObject(this),this._initEventHandlers()},active:function(){return this._active},progress:function(){return this._progress},add:function(t){var n=this;t&&!this.options.disabled&&(t.fileInput&&!t.files?this._getFileInputFiles(t.fileInput).always(function(e){t.files=e,n._onAdd(null,t)}):(t.files=e.makeArray(t.files),this._onAdd(null,t)))},send:function(t){if(t&&!this.options.disabled){if(t.fileInput&&!t.files){var n,i,a=this,o=e.Deferred(),r=o.promise();return r.abort=function(){return i=!0,n?n.abort():(o.reject(null,"abort","abort"),r)},this._getFileInputFiles(t.fileInput).always(function(e){if(!i){if(!e.length)return void o.reject();t.files=e,n=a._onSend(null,t),n.then(function(e,t,n){o.resolve(e,t,n)},function(e,t,n){o.reject(e,t,n)})}}),this._enhancePromise(r)}if(t.files=e.makeArray(t.files),t.files.length)return this._onSend(null,t)}return this._getXHRPromise(!1,t&&t.context)}})}),define("util/ossupload",["window","jquery","util/jquery.fileupload","util/loading","util/modal"],function(e,t,n,i,a){if(e.ossupload)return e.ossupload;var o={};o.client=null,o._isOldBrowser=function(){var t=e.navigator.userAgent,n=!1;t.indexOf("compatible")>-1&&t.indexOf("MSIE")>-1&&(RegExp("MSIE (\\d+\\.\\d+);").test(t),parseFloat(RegExp.$1)<10&&(n=!0));return n};var r=null;o.timer=null,o.updateClient=function(){return new Promise(function(e,n){t.ajax({url:"/upload/sts",cache:!1}).then(function(t){var n=t.data;r=n.dir,o.client=new OSS.Wrapper({accessKeyId:n.accessKeyId,accessKeySecret:n.accessKeySecret,stsToken:n.stsToken,region:n.region,bucket:n.bucket,endpoint:"https://".concat(n.endpoint),secure:!0}),e()},function(){n()})})};var s=function(e,n,s,c){n=n||{};var l=n.channel||"anonymous";n.limit&&(n.limitMsg||(n.limitMsg="ËØ∑‰∏ä‰º†‰∏çË∂ÖËøá${limit}ÁöÑÂõæÁâá".replace("${limit}",n.limit)),n.limit.toLowerCase().endsWith("m")?n.limit=1024*parseInt(n.limit)*1024:n.limit.toLowerCase().endsWith("kb")?n.limit=1024*parseInt(n.limit):n.limit=parseInt(n.limit)),e.each(function(e){if(o._isOldBrowser()||c)t(this).fileupload(n);else{var d=t(this)[0];d.addEventListener("change",function(e){if(e.target.files.length){var t=e.target.files[0],c=t.name,u=t.size;if(n.limit&&u>n.limit&&n.limitMsg)return a.showErrorMessage(n.limitMsg),void(e.target.value="");var p=c.substring(c.lastIndexOf("."),c.length),f=r+l+(parseInt(1e6*Math.random())+"")+(p||"");i.show(),o.client.multipartUpload(f,t).then(function(e){s&&"function"==typeof s&&(e&&e.name?(e.data="https://image.tianyancha.com".concat(e.name),s(JSON.stringify(e),d)):a.showErrorMessage("ÂõæÁâá‰∏ä‰º†Â§±Ë¥•"),i.hide())})}})}})};return t.fn.ossupload=function(e,t){var n=this;o._isOldBrowser()?s(n,e,t):o.client?s(n,e,t):o.updateClient().then(function(){s(n,e,t),o.timer||setInterval(function(){o.updateClient().then(function(){})},78e4)})},e.ossupload=o,t.fn.ossupload}),define("util/backToTop",["window","jquery","util/modal","util/ejs","util/query","util/loading","Cookies","util/ossupload","util/UserManage","util/common","util/storage"],function(e,t,n,i,a,o,r,s,c,l,d){if(e.backToTop)return e.backToTop;var u={path:"/",secure:!1,expires:60,domain:e.cookieServerSuffix.split(":")[0]},p={};return p.backToTop=function(){t("html, body").animate({scrollTop:0},200)},p.uploadInit=function(e,i,a,o,s){(e=e||"")&&e.ossupload({channel:"feedback",url:"/upload/image.json?xyz=".concat(r.get("csrfToken")),dataType:"html",limit:"5M",done:function(e,n){var r=t(this);i?p.errorUploadReturnItemImage(n.result,r,i,a,o,s):p.uploadCompanyReturnItemImage(n.result,r)},error:function(){n.showErrorMessage("ÂõæÁâá‰∏ä‰º†Â§±Ë¥•")}},function(e,t){i?p.errorUploadReturnItemImage(e,t,i,a,o,s):p.uploadCompanyReturnItemImage(e,t)})},p.feedback=function(){var e=i.render("modal/feedback",{});n.openByElementStr(e,{size:"feedback"},function(){t('.-feedback [type="file"]').ossupload({channel:"feedback",url:"/upload/image.json?xyz=".concat(r.get("csrfToken")),dataType:"html",limit:"5M",done:function(e,n){var i=t(this);p.uploadReturnItemImage(n.result,i)},error:function(){n.showErrorMessage("ÂõæÁâá‰∏ä‰º†Â§±Ë¥•")}},function(e,t){p.uploadReturnItemImage(e,t)}),t(".-feedback textarea").on("keyup",function(){var e=this,n=t(e).val(),i=t(e).closest(".input-warp").find(".input-num").attr("data-max-num");n.length<parseInt(i)?t(e).closest(".input-warp").find(".input-num").html("".concat(n.length+"","/").concat(i+"")):(n=n.substr(0,i),t(e).val(n),t(e).closest(".input-warp").find(".input-num").html("".concat(n.length+"","/").concat(i+"")))})})},p.errorCorrection=function(e,o,r){var s="",l="",u=[],f=[],h=d.getErrorCompany(e);h&&h.length&&h.forEach(function(t){1==e&&o?t.companyid==o&&(t.contactNum&&(s=t.contactNum),t.errorContent&&(l=t.errorContent),t.screenshots&&(u=t.screenshots),t.contentType&&t.contentType.length&&(f=t.contentType)):2==e&&r&&o&&t.companyid==o&&t.hgid==r&&(t.contactNum&&(s=t.contactNum),t.errorContent&&(l=t.errorContent),t.screenshots&&(u=t.screenshots),t.contentType&&t.contentType.length&&(f=t.contentType))}),s||(s=c.getUserInfo()?c.getUserInfo().mobile:"");var m={errorType:e||"",cgid:o||"",hgid:r||""};a.getCorrectInfo(m).then(function(a){if(a&&a.data&&"ok"==a.state&&a.data.dimList){var c=i.render("modal/errorCorrection",{errorType:e,companyid:o,mobile:s,dimList:a.data.dimList,name:a.data.name,entityType:a.data.entityType,hgid:m.hgid,errorContent:l,screenshots:u,contentType:f});n.openByElementStr(c,{size:"erroe-correction"},function(){if(p.uploadInit(t('.error_modal [type="file"]'),3,e,o,r),l&&l.length){var n=t(".feedbackCompanycontent").closest(".input-warp").find(".input-num").attr("data-max-num");t(".feedbackCompanycontent").closest(".input-warp").find(".input-num").html("".concat(l.length+"","/").concat(n+""))}t(".error_modal  textarea").on("keyup",function(){var n=this,i=t(n).val().trim(),a=t(n).closest(".input-warp").find(".input-num").attr("data-max-num");t(".errContent").is(".in")&&t(".errContent").removeClass("in"),t(".modal_input").is(".mb12")&&t(".modal_input").removeClass("mb12"),i.length<parseInt(a)?(d.addErrorCompany(e,o,r,"errorContent",i),t(n).closest(".input-warp").find(".input-num").html("".concat(i.length+"","/").concat(a+""))):(i=i.substr(0,a),t(n).val(i),t(n).closest(".input-warp").find(".input-num").html("".concat(i.length+"","/").concat(a+"")))}),t(".modal_phone   .errorCorrectionPhone").on("keyup",function(){var n=this,i=t(n).val().trim();d.addErrorCompany(e,o,r,"contactNum",i),i?(i.length>11&&(i=i.substr(0,11),t(n).val(i)),t(n).closest(".form-group").find(".claim-input-clear-btn").removeClass("hidden")):t(n).closest(".form-group").find(".claim-input-clear-btn").addClass("hidden")}),t(".error_modal   .latitude_wrap").on("click",".latitude_item",function(){var n=t(this),i=[],a=[];if(i=d.getErrorCompany(e),n.is(".active")){if(n.removeClass("active"),1==e?n.attr("tyc-event-ch","CompanyDetail.CorrectiveFeedback.DataDimension.Uncheck"):2==e&&n.attr("tyc-event-ch","HumanDetail.CorrectiveFeedback.DataDimension.Uncheck"),i&&i.length){var s=i.filter(function(t,n){return 2==e?t.companyid==o&&t.hgid==r:t.companyid==o});if(s&&s.length&&s[0]&&s[0].contentType){var c=s[0].contentType.filter(function(e){return e!=n.html()});d.addErrorCompany(e,o,r,"contentType",c)}}}else{if(n.addClass("active"),1==e?n.attr("tyc-event-ch","CompanyDetail.CorrectiveFeedback.DataDimension.Check"):2==e&&n.attr("tyc-event-ch","HumanDetail.CorrectiveFeedback.DataDimension.Check"),i&&i.length){var l=i.filter(function(e,t){return e.companyid==o});if(l&&l.length&&l[0]&&l[0].contentType){l[0].contentType.some(function(e){return e==n.html()})||(a=l[0].contentType,a.push(n.html()))}else a.push(n.html())}else a.push(n.html());d.addErrorCompany(e,o,r,"contentType",a)}})})}else n.showErrorMessage("ÁΩëÁªúÂºÇÂ∏∏ÔºåËØ∑Á®çÂêéÈáçËØï!")},function(){n.showErrorMessage("ÁΩëÁªúÂºÇÂ∏∏ÔºåËØ∑Á®çÂêéÈáçËØï!")})},p.phoneClear=function(n,i,a,o,r,s){n=n||e.event,t(i).val("").focus(),d.addErrorCompany(o,r,s,"contactNum",""),a&&t(a).addClass("hidden")},p.errorCorrectionSubmit=function(e){var i={},o=[],r=[];if(i.errorContent=t(".feedbackCompanycontent").val().trim(),!i.errorContent)return t(".errContent").addClass("in"),t(".feedbackCompanycontent").focus(),void t(".modal_input").addClass("mb12");t(".error_modal  .latitude_item.active").each(function(e,n){r.push(t(n).html())}),t(".error_modal .frame.-succ-upload").each(function(e,n){o.push(t(n).find(".fileinput").val())}),i.contentType=r,i.screenshots=o,i.cgid=t("#companyid").val(),i.errorType=t("#errorType").val(),i.hgid=t("#hgid").val(),i.contactNum=t(".errorCorrectionPhone").val(),a.submitCorrectInsert(i).then(function(e){e&&"ok"==e.state?(n.showSuccessMessage("Êèê‰∫§ÊàêÂäü"),d.removeErrorCompany(i.errorType,i.cgid,i.hgid),n.close()):n.showErrorMessage("ÁΩëÁªúÂºÇÂ∏∏ÔºåËØ∑Á®çÂêéÈáçËØï!")},function(){n.showErrorMessage("ÁΩëÁªúÂºÇÂ∏∏ÔºåËØ∑Á®çÂêéÈáçËØï!")})},p.errorClear=function(e){},p.feedbackCompany=function(a,o,s){var d=r.get("feedback-mobile",{path:"/",domain:e.cookieServerSuffix.split(":")[0]});d||(d=c.getUserInfo()?c.getUserInfo().mobile:"");var u=i.render("modal/feedbackCompany",{companyName:a,companyid:o,currentTime:(new Date).getTime(),mobile:d});n.openByElementStr(u,{size:"contact"},function(){p.uploadInit(t('.-feedback [type="file"]')),t(".-feedback textarea").on("keyup",function(){var e=this,n=t(e).val(),i=t(e).closest(".input-warp").find(".input-num").attr("data-max-num");n.length<parseInt(i)?t(e).closest(".input-warp").find(".input-num").html("".concat(n.length+"","/").concat(i+"")):(n=n.substr(0,i),t(e).val(n),t(e).closest(".input-warp").find(".input-num").html("".concat(n.length+"","/").concat(i+"")))}),t(".-feedback .input-warp input").on("keyup",function(){var e=this,n=t(e).val(),i=t(e).closest(".input-warp").find(".input-num").attr("data-max-num");n.length<parseInt(i)?t(e).closest(".input-warp").find(".input-num").html("".concat(n.length+"","/").concat(i+"")):(n=n.substr(0,i),t(e).val(n),t(e).closest(".input-warp").find(".input-num").html("".concat(n.length+"","/").concat(i+"")))}),t(".-feedback .feedbackCompanyphone").on("keyup",l.updateInputClear)})},p.clearFileInput=function(e){t(e).closest(".form-upload-box").find(".-un-upload").removeClass("hidden"),t(e).closest(".frame").remove()},p.feedbackSubmitCompany=function(){var e=t("#_companyId").val(),o=t("#_companyName").val(),s={};if(s.content=t(".feedbackCompanycontent").val(),!s.content)return t(".errContent").addClass("in");s.phone=t(".feedbackCompanyphone").val(),s.name=t(".feedbackCompanyname").val(),s.userTypeExt=t('.feedback-company-modal input[name="userTypeExt"]').val(),s.userType=t(".feedback-company-modal .select-radio.-active").attr("data-value");var c=[];t(".feedback-company-modal .frame.-succ-upload").each(function(e,n){c.push(t(n).find(".fileinput").val())}),s.picUrls=c.join(","),a.Company_receiveFeedback_uploadImg(o,e,s.content,s.phone,s.name,s.picUrls,s.userTypeExt,s.userType).then(function(e){e&&e.data?(r.set("feedback-mobile",s.phone,u),n.close(),a.complaint().then(function(e){if(console.log(e),"ok"===e.state&&e.data)if(1==e.data.isShow){var t=i.render("modal/tianyanServiceDiversion",{moduleLogoUrl:e.data.moduleWebLogoUrl,moduleWebRedirectUrl:e.data.moduleWebRedirectUrl});n.openByElementStr(t,{size:"diversionV2"})}else n.showSuccessMessage("ÊÇ®ÁöÑÊäïËØâÂ∑≤Êèê‰∫§ÊàêÂäü")})):n.showErrorMessage("ÁΩëÁªúÂºÇÂ∏∏ÔºåËØ∑Á®çÂêéÈáçËØï!")},function(){n.showErrorMessage("ÁΩëÁªúÂºÇÂ∏∏ÔºåËØ∑Á®çÂêéÈáçËØï!")})},
p.uploadReturnItemImage=function(e,i,a){if(e){var r=JSON.parse(e);if(r.data){var s=t(i).parents(".-feedback");s.find(".form-group-tips").removeClass("in");var c="".concat(r.data,"@!fill_200x200");return s.find(".load-img").attr("src",c),s.find(".img_src").val(r.data),s.find(".form-upload-unsel").addClass("hidden"),s.find(".form-upload").removeClass("hidden"),void o.hide()}}o.hide(),n.showErrorMessage("ÂõæÁâá‰∏ä‰º†Â§±Ë¥•")},p.uploadCompanyReturnItemImage=function(e,i,a){if(e){var r=JSON.parse(e);if(r.data){var s=t(i).closest(".frame"),c=s,l=c.outerWidth(),d=c.outerHeight(),u=(s.closest(".form-upload-box"),s.clone());u.addClass("-succ-upload").removeClass("-un-upload"),u.find(".img-area").css("background-image","url(".concat(r.data,"?x-oss-process=image/resize,m_mfit,w_").concat(l,",h_").concat(d,")")),u.find(".fileinput").val(r.data),s.before(u),t(i).closest(".form-upload-box").find(".frame").length>9&&t(i).closest(".form-upload-box").find(".-un-upload").addClass("hidden");var f=s.find("[type='file']");return f[0]&&(f[0].value="",f[0].outerHTML=f[0].outerHTML,p.uploadInit(s.find("[type='file']"))),void o.hide()}}o.hide(),n.showErrorMessage("ÂõæÁâá‰∏ä‰º†Â§±Ë¥•")},p.changeFeedbackType=function(e){t(e).find(".select-radio").hasClass("-active")||(t(e).parent().find(".select-radio").removeClass("-active"),t(e).find(".select-radio").addClass("-active"),t(e).attr("show-input")?t(e).closest(".form-group").find(".input-warp").removeClass("hidden"):t(e).closest(".form-group").find(".input-warp").addClass("hidden"))},p.toApp=function(){location.href="/vip"},p.feedbackSubmit=function(){var e={};e.content=t(".feedBackcontent").val(),e.email=t(".feedBackemail").val(),e.picUrl=t(".img_src").val();var i=function(e){return e.replace(/\s/g,"")};return i(e.content)?i(e.email)?void a.Index_receiveFeedback(e.content,e.email,e.picUrl).then(function(e){o.hide(),n.showSuccessMessage("Êèê‰∫§ÊàêÂäü"),n.close()}):(t(".feedBackemail").val(""),void t(".errContact").addClass("in")):(t(".feedBackcontent").val(""),void t(".errContent").addClass("in"))},p.clearErr=function(e){t(e).removeClass("in")},p.changeActiveCheck=function(e,n){p.clearErr(".errType"),t(n).addClass("action").siblings().removeClass("action")},p.errorUploadReturnItemImage=function(e,i,a,r,s,c){var l=a||3;if(e){var u=JSON.parse(e);if(u.data){var f=[],h="",m=t(i).closest(".frame"),g=m,v=g.outerWidth(),y=g.outerHeight(),b=(m.closest(".form-upload-box"),m.clone());b.addClass("-succ-upload").removeClass("-un-upload"),b.find(".img-area").css("background-image","url(".concat(u.data,"?x-oss-process=image/resize,m_mfit,w_").concat(v,",h_").concat(y,")")),b.find(".fileinput").val(u.data),m.before(b),t(i).closest(".form-upload-box").find(".frame").length>1&&t(i).closest(".form-upload-box").find(".none-upload-text").addClass("hidden"),t(i).closest(".form-upload-box").find(".frame").length>l&&t(i).closest(".form-upload-box").find(".-un-upload").addClass("hidden");var w=m.find("[type='file']");w[0]&&(w[0].value="",w[0].outerHTML=w[0].outerHTML,p.uploadInit(m.find("[type='file']"),a,r,s,c));var _=d.getErrorCompany(r),C=_.filter(function(e,t){return 2==r?e.companyid==s&&e.hgid==c:e.companyid==s});return h=u.data,C&&C.length&&C[0]&&C[0].screenshots?(f=C[0].screenshots,f.length>=l&&f.shift(),f.push(h)):f.push(h),d.addErrorCompany(r,s,c,"screenshots",f),void o.hide()}}o.hide(),n.showErrorMessage("ÂõæÁâá‰∏ä‰º†Â§±Ë¥•")},p.clearErrorInput=function(e){var n=t(e).closest(".frame.-succ-upload ").find(".fileinput").val()||"",i=t("#errorType").val(),a=t("#companyid").val(),o=t("#hgid").val(),r=[];t(e).closest(".form-upload-box").find(".-un-upload").removeClass("hidden"),t(e).closest(".frame").remove(),t(".upload_right").length&&t(".upload_right").find(".none-upload-text").length&&1==t(".upload_right").find(".frame").length&&t(".upload_right").find(".none-upload-text").removeClass("hidden");var s=d.getErrorCompany(i);if(s&&s.length){var c=s.filter(function(e){return 2==i?e.companyid==a&&e.hgid==o:e.companyid==a});c[0]&&c[0].screenshots&&c[0].screenshots.length&&(r=c[0].screenshots.filter(function(e){return e!=n}),d.addErrorCompany(i,a,o,"screenshots",r))}},e.backToTop=p,p}),define("st",["window","jquery"],function(e,t){if("Microsoft Internet Explorer"===navigator.appName&&parseInt(navigator.appVersion.split(";")[1].replace(/[ ]/g,"").replace("MSIE",""))<9)return e.stget=function(){},{};var n=e,i=n.document,a=n.location,o={server:"https://pvst.tianyancha.com/p1.gif",cookiePrefix:"sqstat_",imgArr:[],cookie:"",query:"",hostname:a.hostname,referrer:i.referrer,domain:"",cookieInfo:{},queryInfo:{},divHandlers:[],data:{},gatherTypes:{ss_c:"div"},groupTypes:{ch:"ch",pid:"pid"},persistentTypes:{pid:{entr:"ss_pidf"},cid:{entr:"ss_cidf"}},cookieParam:["ssuid","pid","cid","ss_pidf","ss_cidf"],kvSplit:function(e,t,n){if("string"!=typeof e||""===e)return{};t=t||"&",n=n||"=";for(var i={},a=e.split(t),o=0;o<a.length;++o)if(0!=a[o].length){var r=a[o],s=r.indexOf(n);if(!(s<0)){var c=r.substring(0,s),l=r.substring(s+n.length);i[c]=l}}return i},getDomain:function(e){if(void 0===e&&this.domain)return this.domain;void 0===e&&(e=this.hostname);var t=e.split(".");return t[t.length-1].match(/^\d+$/)?domain=e:domain=t.slice(-2).join("."),e===this.hostname&&(this.domain=domain),domain},getCookie:function(e){return i.cookie!==this.cookie&&(this.cookie=i.cookie,this.cookieInfo=this.kvSplit(i.cookie,"; ")),this.cookieInfo[e]?decodeURIComponent(this.cookieInfo[e]):this.cookieInfo[e]},getQuery:function(e){return a.search!==this.query&&(this.query=a.search,this.queryInfo=this.kvSplit(a.search.substring(1))),this.queryInfo[e]},setCookie:function(e,t,n,a,o){a=a||"/",o=o||this.getDomain();var r=e+"="+encodeURIComponent(t)+(n||0===n?"; expires="+function(e){var t=new Date;return"unlimited"==e?t.setFullYear(2038,0,1):"number"==typeof e&&(e<=0?t.setFullYear(1970,1,1):t.setTime(t.getTime()+1e3*e)),t.toGMTString()}(n):"")+(a?";path="+a:"")+(o?";domain="+o:"");i.cookie=r},delCookie:function(e,t,n){this.setCookie(e,"",0,t,n)},loopDivs:function(){for(var e=i.getElementsByTagName("div"),t=0;t<e.length;++t)for(var n=0;n<this.divHandlers.length;++n)this.divHandlers[n](e[t])},regDivHandler:function(e){this.divHandlers.push(e)},regDivHandlers:function(){for(var e in this.gatherTypes)this.regDivHandler(this.getGatherFunc(e));for(var e in this.groupTypes)this.regDivHandler(this.getGroupFunc(e))},getGatherFunc:function(e,t){var t=t||"^",n=this.data;return function(i){var a=i.getAttribute(e);a&&(n[e]=void 0===n[e]?"":n[e],n[e]+=(""===n[e]?"":t)+a)}},getGroupFunc:function(e,t){var t=t||this.getDomain(),n=this;return function(i){var a=i.getAttribute(e);if(a)for(var o=e+"="+a,r=i.getElementsByTagName("a"),s=RegExp("[&?]"+e+"="),c=0;c<r.length;++c)if(url=r[c],n.getDomain(url.hostname)==t){if(s.test(url.search))continue;url.href=" "+url.href+(url.search?"&":"?")+o}}},genSsuid:function(){return Math.round(2147483647*Math.random())*(new Date).getUTCMilliseconds()%1e10},getMobile:function(){var t=o.getCookie("tyc-user-info"),n=null;try{n=JSON.parse(e.decodeURIComponent(t))}catch(e){return}return n?n.mobile:""},submit:function(e,t){t=t||this.server;var n="";void 0!==e.ref&&(n="ref="+e.ref,delete e.ref);for(var i in e)n+=(n?"&":"")+i+"="+e[i];n+=(n?"&":"")+"rand="+Math.random();var a=t+"?"+n,o=new Image,r=this.imgArr.push(o),s=this.imgArr;o.onload=o.onerror=function(){s[r-1]=null},o.src=a,o=null},setPersistentParams:function(){for(var e in this.persistentTypes){var t=this.persistentTypes[e],n=t.entr||this.cookiePrefix+e+"_f",i=this.getQuery(e);i?i==this.getCookie(e)?this.setCookie(n,"1"):(this.delCookie(n),this.setCookie(e,i)):this.getCookie(e)&&this.setCookie(n,"1")}},run:function(e){"object"!=typeof e&&(e={}),this.setPersistentParams(),this.regDivHandlers(),this.loopDivs(),this.getCookie("ssuid")||this.setCookie("ssuid",this.genSsuid(),"unlimited"),e.ver=1,e.ref=encodeURIComponent(this.referrer);for(var t in this.gatherTypes){var n=this.gatherTypes[t];this.data[t]&&(e[n]=this.data[t])}for(var i=0;i<this.cookieParam.length;i++){var a=this.cookieParam[i];e[a]=this.getCookie(a)}e.mobi=this.getMobile(),this.submit(e)},stget:function(t,n,i){o.getCookie("ssuid")||o.setCookie("ssuid",o.genSsuid(),"unlimited");var n=n||"person",i=i||"",a={srctype:"getsret",lurl:escape(e.location),ch:t,sc:n,ourl:escape(i),ssuid:o.getCookie("ssuid"),mobi:o.getMobile()};o.submit(a,"https://clkst.tianyancha.com/pingd")}};return e.__tycstat=o,e.stget=o.stget,t("body").off("click.tycEvent"),t("body").on("click.tycEvent","[tyc-event-href],[tyc-event-click]",function(){var e=t(this),n=e.attr("tyc-event-ch"),i=e.attr("tyc-event-sc"),a=e.attr("tyc-event-ourl");n&&o.stget(n,i,a)}),o.run(),o}),define("util/imgLoad",["window","jquery","lib/domReady"],function(e,t,n){if(t.fn.imgLoad)return t.fn.imgLoad;if(e.imgLoad)return e.imgLoad;var i=function(e,t){return t&&"logo-expand"!=t?t:e>=100?"logo-expand":e>=64?"logo-expand -w64":e>=36?"logo-expand -w36":"logo-expand -w30"},a=function(n){var i=n.offset(),a=i.top,o=n.outerHeight(),r=t(e).scrollTop(),s=t(e).height(),c=a,l=a+o,d=r-50,u=r+s+50;if(0===a)for(var p=0;p<5&&(n=n.parent())&&n.length&&(i=n.offset(),!((a=i.top)>0));)p++;return 0!==a&&(c>d&&c<u||(l>d&&l<u||c<d&&l>u))};t.fn.imgLoad=function(n){n=n||{};var o=this;o&&o.each(function(n){var o=t(this);if(!o.data("imgLoad")){if(a(o)){o.data("imgLoad","true");var r=o[0].tagName,s=o.find(".img");0===s.length&&"img"===r.toLowerCase()&&(s=o);var c=s.attr("data-src"),l=s.attr("err-src"),d=s.attr("err-callback"),u=s.attr("is-expand")||"true";if(s.length)if(c&&!c.startsWith("@!")){if(o.hasClass("-image"))return;var p=new Image;p.src=c,p.onload=function(){s.attr("src",c),o.removeClass("-alias").addClass("-image").removeClass("-errload"),o.attr("img-loading")&&o.closest(".lazy-img-loading").find(".loading-scroll").remove(),"false"!==u&&s.hover(function(){var e=s.closest(".logo");if(e&&e.length){var n=parseInt(e.offset().top),a=parseInt(e.width()+e.offset().left+10),r=i(e.width(),o.attr("expand-class")||"logo-expand"),l=e.attr("data-index");t("body").append("<div id='img-box' class='".concat(r,"'><img src='").concat(c,"' ></div>")),l&&t("#img-box").css({"z-index":l}),t("#img-box").css({top:"".concat(n,"px"),left:"".concat(a,"px")}).hide(),i(o.width()),o.mousemove(function(e){t("#img-box").css({}).show()})}},function(){t("#img-box").remove()})},p.onerror=function(){if(!o.hasClass("-alias")&&l){o.addClass("-image"),o.attr("img-loading")&&o.closest(".lazy-img-loading").find(".loading-scroll").remove();var t=new Image;t.src=l,t.onload=function(){s.attr("src",l).addClass("-errload"),d&&"function"==typeof e[d]&&e[d](s)}}}}else if(!o.hasClass("-alias")&&l){var f=new Image;f.src=l,f.onload=function(){s.attr("src",l).addClass("-errload"),o.addClass("-image"),d&&"function"==typeof e[d]&&e[d](s)}}}}})};var o=null,r=function(e){o&&(clearTimeout(o),o=null),o=setTimeout(function(){t(".lazy-img").imgLoad()})};return n(function(){r();var n=document.documentElement;e.MutationObserver?new MutationObserver(r).observe(n,{childList:!0,subtree:!0,attributes:!0}):t("body").on("DOMSubtreeModified",r),t(e).on("scroll",function(e){r()}),t(e).on("resize",function(e){r()}),t("body").addClass("-ready")}),t.fn.imgLoad}),require(["window","jquery","lib/domReady"],function(e,t,n){function i(){return"placeholder"in document.createElement("input")}t.fn.placeholder=function(n){t("body");return this.each(function(n,i){var a=t(this);if("true"!=a.attr("load")&&"true"!=!a.attr("contenteditable")){var o=a.css("padding-left"),r=a.css("font-size"),s=(a.css("height"),"".concat((parseInt(a.css("height"))-parseInt(r))/2-4,"px")),c=t("".concat('<span class="placeholder" data-type="placeholder" style="position: absolute; z-index: 10;color: #9e9e9e; top: ').concat(s,"; left: ").concat(o,"; font-size: ").concat(r,'">').concat(a.attr("placeholder"),"</span>")),l=e.navigator.userAgent;a.hasClass("textarea")&&a.css("padding-top")&&c.css("top",a.css("padding-top")),-1!==l.indexOf("NET")&&a.hasClass("input")&&c.css("top","".concat(parseInt(r)/2-1,"px")),a.hasClass("input")&&a.innerHeight()&&(c.css("lineHeight",1),c.css({top:"50%",lineHeight:1,"margin-top":"-".concat(parseInt(r)/2,"px")})),a.parent().css({"text-align":"left",position:"relative"}).append(c),""!==a.text()?a.parent().find("span.placeholder").hide():a.parent().find("span.placeholder").show(),a.attr("load",!0),a.on("focus",function(){t(this).parent().find("span.placeholder").hide()}).on("blur",function(){var e=t(this);""!==e.html().trim().replace(/<br>|<br\/>/g,"")?e.parent().find("span.placeholder").hide():e.parent().find("span.placeholder").show()}),t("span.placeholder").on("click",function(){t(this).hide(),t(this).siblings("[placeholder]").trigger("click"),t(this).siblings("[placeholder]").trigger("focus")})}})},n(function(){if(i()){t("body").on("click.togglePlaceholder","span.placeholder",function(){t(this).hide(),t(this).siblings("[placeholder]").trigger("click"),t(this).siblings("[placeholder]").trigger("focus")});var n=function(){t('[contenteditable="true"][placeholder]').placeholder()},a=document.documentElement;e.MutationObserver?new MutationObserver(n).observe(a,{childList:!0,subtree:!0,attributes:!0}):t("body").on("DOMSubtreeModified",n)}else t("[placeholder]").each(function(){var e=t(this),n=e.css("padding-left"),i=e.css("font-size"),a=(e.css("height"),"".concat((parseInt(e.css("height"))-parseInt(i))/2-2,"px"));e.parent().css({"text-align":"left",position:"relative"}).append("".concat('<span class="placeholder" data-type="placeholder" style="position: absolute; z-index: 10;color: #737373; top: ').concat(a,"; left: ").concat(n,"; font-size: ").concat(i,'">').concat(e.attr("placeholder"),"</span>")),""!==e.val()?e.parent().find("span.placeholder").hide():e.parent().find("span.placeholder").show()}).on("focus",function(){t(this).parent().find("span.placeholder").hide()}).on("blur",function(){var e=t(this);""!==e.val()?e.parent().find("span.placeholder").hide():e.parent().find("span.placeholder").show()}),t("span.placeholder").on("click",function(){t(this).hide(),t(this).siblings("[placeholder]").trigger("click"),t(this).siblings("[placeholder]").trigger("focus")})})}),define("util/placeholder",function(){}),define("layout/main",["window","jquery","util/ejs","util/modal","util/loading","util/header","util/footer","util/common","util/backToTop","util/banner","st","util/query","util/UserManage","util/imgLoad","lib/domReady","util/placeholder","Cookies"],function(e,t,n,i,a,o,r,s,c,l,d,u,p,f,h,m,g){function v(e){e=e||"";var t=e.indexOf("://");return-1!==t&&(e=e.substring(t+3)),t=e.indexOf("/"),-1!==t&&(e=e.substring(0,t)),e}var y=RegExp("MSIE (\\d+\\.\\d+);").test(e.navigator.userAgent)||"ActiveXObject"in e;if(e.layout)return e.layout;var b=function(t,n,i){var a=n,o=null;o=i||"".concat(t," ").concat(n);var r={title:t,desc:a,link:e.location.href,imgUrl:"https://cdn.tianyancha.com/wap/images/18blue/weixinlogo.png"};wx.onMenuShareAppMessage({title:r.title,desc:r.desc,link:r.link,imgUrl:r.imgUrl,trigger:function(){},success:function(){},cancel:function(){},fail:function(){}}),wx.onMenuShareTimeline({title:o,desc:r.desc,link:r.link,imgUrl:r.imgUrl,trigger:function(){},success:function(){},cancel:function(){},fail:function(){}}),wx.onMenuShareQQ({title:r.title,desc:r.desc,link:r.link,imgUrl:r.imgUrl,trigger:function(){},complete:function(){},success:function(){},cancel:function(){},fail:function(){}})};e.weixinConfig=function(){var t="",n="";try{t=document.getElementsByTagName("meta")["tyc-wx-type"].content,n=document.getElementsByTagName("meta")["tyc-wx-name"].content}catch(e){}var i="",a="",o=null;"company"===t?(i="ÊàëÂú®Â§©ÁúºÊü•ÂèëÁé∞‰∫ÜÂÆÉÊõ¥Â§öÁöÑ‰ø°ÊÅØÔºåÁÇπÂáªÊü•Áúã„ÄÇ",a=n):"hotNews"===t?(i=n,a=n):"human"===t?(i="ÊàëÂú®Â§©ÁúºÊü•ÂèëÁé∞".concat(n,"ËøòÊäïËµÑÈÇ£‰πàÂ§öÂÖ¨Âè∏ÔºåÁÇπÂáªÊü•Áúã"),a="Â§©ÁúºÊü•ÔºöÊñπ‰æøÂø´Êç∑ÁöÑ‰ºÅ‰∏öÊü•ËØ¢"):"news"===t?(i="Â§©ÁúºÊü•ÊèêÂâçÂÖ≠Â§©Â∞±Áü•ÈÅì‰∫Ü‰∏áÂÆùÂ§ßÊàòÁöÑÁªìÂ±ÄÔºå‰Ω†ÊÉ≥Áü•ÈÅìÊÄé‰πàÂäûÂà∞ÁöÑ‰πàÔºü",a="Â§©ÁúºÊü•‰πã‰∏áÂÆùÂ§ßÊàò",o="‰∏áÂÆùÂ§ßÊàòÔºöÂ§©ÁúºÊü•¬Æ Ê¥ûÂØüÂçéÊ∂¶‰∏áÁßëÂÆùËÉΩÂÜÖÂπï"):"shareinvite"===t?(i="ÁÇπÂáªÈ¢ÜÂèñÈÇÄËØ∑Áé∞ÈáëÔºåÂêå‰∫´‚ÄúËçê‚ÄùÈù¢Á§ºÔºÅÂ§©ÁúºÊü•VIPÂÖ®Èù¢‰∫ÜËß£‰ºÅ‰∏ö‰ø°ÊÅØÔºå‰∏ÄËµ∑ÂÖ¨Âπ≥ÁúãÊ∏Ö‰∏ñÁïå",a="Â•ΩÂèãÊé®ËçêÊÇ®‰∏ÄËµ∑‰ΩìÈ™åÂ§©ÁúºÊü•"):"cha815"===t?(i="Â§©ÁúºÊü•VIPÂÖ®Èù¢‰∫ÜËß£‰ºÅ‰∏ö‰ø°ÊÅØÔºå‰∏ÄËµ∑ÂÖ¨Âπ≥ÁúãÊ∏Ö‰∏ñÁïå",a="‰∏≠ÁßãÂæóÂ•ΩÁ§ºÔºåÂ§ßÂÆ∂Êù•ÊâæCha"):(i="Êñπ‰æøÂø´Êç∑ÁöÑ‰ºÅ‰∏öÂ∑•ÂïÜÊï∞ÊçÆÊü•ËØ¢ÔºåÁÇπÂáªÊü•Áúã„ÄÇ",a="Â§©ÁúºÊü•ÔºöÊñπ‰æøÂø´Êç∑ÁöÑ‰ºÅ‰∏öÊü•ËØ¢"),u.getWeixinJsSdkConfig(e.location.href).then(function(e){y||(wx.config({debug:!1,appId:e.data.appId,timestamp:e.data.timestamp,nonceStr:e.data.nonceStr,signature:e.data.signature,jsApiList:["onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ"]}),wx.ready(function(){o?b(a,i,o):b(a,i)}))})};var w={};return h(function(){u.sendPV((e.location.pathname||"")+(e.location.search||"")).then(function(){})}),e.layout=w,e.tongji_gdt=function(){var e=e||[];if(e.push(["set_source_id","33937"]),navigator.userAgent.indexOf("ignore")<0){var t=document,n=t.getElementsByTagName("head")[0],i=t.createElement("script");i.async=!0,i.src="https://qzs.qq.com/qzone/biz/res/gt.js",n&&n.insertBefore(i,n.firstChild)}},e.tongji_baidu=function(){var t="e92c8d65d92d534b0fc290df538b4758";if(e.location.hostname&&0===e.location.hostname.indexOf("own.")&&(t="9290806c0c52097851d8d30c7cfa8219"),navigator.userAgent.indexOf("ignore")<0){var n=document.createElement("script");n.src="//hm.baidu.com/hm.js?".concat(t);var i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(n,i)}},e.tongji_ga=function(){function t(){dataLayer.push(arguments)}if(e.dataLayer=e.dataLayer||[],t("js",new Date),t("config","UA-123487620-1"),navigator.userAgent.indexOf("ignore")<0){var n=document.createElement("script");n.async=!0,n.src="//www.googletagmanager.com/gtag/js?id=UA-123487620-1";var i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(n,i)}},e.push_360=function(){if(!t('meta[name="tyc-push"]').length||"false"!==t('meta[name="tyc-push"]').attr("content")){if("https"===e.location.protocol.split(":")[0]){var n=document.createElement("script");n.src="https://jspassport.ssl.qhimg.com/11.0.1.js?d182b3f28525f2db83acfaaf6e696dba",n.id="sozz";var i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(n,i)}}},e.pushWatchMsg=function(){u.checkMonitorTip().then(function(n){if(n&&n.data&&n.data.hasTip){var i=n.data.tip||"Êî∂Âà∞‰∏ÄÂ∞ÅÁõëÊéßÊó•Êä•",a=new Date,o=a.getMonth()+1,r=a.getDate();o<=9&&(o="0".concat(o)),r<=9&&(r="0".concat(r));var s="".concat(a.getFullYear(),"-").concat(o,"-").concat(r),c=document.getElementById("top_push_div");if(!c){c=document.createElement("div"),c.id="top_push_div",document.body.insertBefore(c,document.body.firstChild),c.className="push-msg -action",c.setAttribute("tyc-event-click",""),c.setAttribute("tyc-event-ch","Monitor.Push"),t(".tyc-header").hasClass("-home")?t("body").addClass("push-body").addClass("-home").addClass("body-action"):t("body").addClass("push-body").addClass("body-action");var l=[];l.push('<span class="push-title">'.concat(s,"ÁõëÊéßÊó•Êä•&nbsp;&nbsp;</span>")),l.push('<span class="content">'.concat(i,"</span>")),l.push('<a class="link-click click" >Êõ¥Â§öÂä®ÊÄÅ ></a>'),l.push('<i class="tic tic-close close" tyc-event-click tyc-event-ch="Monitor.Push.Close" onclick="closePushWatchMsg()"></i>'),c.innerHTML='<div class="container -rel">'.concat(l.join(""),"</div>"),t(c).click(function(){e.location.href="".concat(e.serverDomain,"/usercenter/watch"),e.stget("DaoHang.Tip")}),n.data.showLen&&"-1"!=n.data.showLen&&setTimeout(function(){e.closePushWatchMsg()},1e3*n.data.showLen)}}},function(e){console.log(e)})},e.tongji_inspectlet=function(){e.__insp=e.__insp||[];var t=e.inspectletId;if(t){__insp.push(["wid",t]);var n=function(){if(void 0===e.__inspld){e.__inspld=1;var n=document.createElement("script");n.type="text/javascript",n.async=!0,n.id="inspsync",n.src="".concat("https:"==document.location.protocol?"https":"http","://cdn.inspectlet.com/inspectlet.js?wid=").concat(t,"&r=").concat(Math.floor((new Date).getTime()/36e5));var i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(n,i)}};setTimeout(n,0)}},e.closePushWatchMsg=function(){var n=!0;t(".push-msg").length>1&&(n=!1),n&&(t(".tyc-header").hasClass("-home"),t("body").removeClass("push-body")),t("#top_push_div").addClass("-remove"),s.stopPropagation(),setTimeout(function(){n&&t("body").removeClass("push-body").removeClass("body-action").remove("-home"),t("#top_push_div").remove(),e.location.href.indexOf("own")>-1&&e.location.href.indexOf("company")>-1&&ownAddTopDev()},500),u.readMonitorTip()},e.ownClosePushWatchMsg=function(){var e=!0;t(".push-msg").length>1&&(e=!1),e&&(t(".tyc-header").hasClass("-home"),t("body").removeClass("push-body")),t("#top_push_div").addClass("-remove"),s.stopPropagation(),setTimeout(function(){e&&t("body").removeClass("push-body").removeClass("body-action").remove("-home"),t("#top_push_div").remove()},500)},e.ownAddTopDev=function(){var e="";e=document.createElement("div"),e.id="top_push_div",document.body.insertBefore(e,document.body.firstChild),e.className="push-msg -action";var n=[];n.push('<span class="push-title">‰ª•‰∏ã‰ø°ÊÅØÁî±ËØ•‰ºÅ‰∏öÊèê‰æõÔºå‰ºÅ‰∏öÂØπÂÖ∂Êä•ÈÄÅ‰ø°ÊÅØÁöÑÁúüÂÆûÊÄß„ÄÅÂêàÊ≥ïÊÄßË¥üË¥£</span>'),n.push('<i class="tic tic-close close" tyc-event-click tyc-event-ch="Monitor.Push.Close" onclick="ownClosePushWatchMsg()"></i>'),e.innerHTML='<div class="container -rel">'.concat(n.join(""),"</div>"),t(".tyc-header").hasClass("-home")?t("body").addClass("push-body").addClass("-home").addClass("body-action"):t("body").addClass("push-body").addClass("body-action")},e.console_show=function(){console&&console.log&&console.log("%cÈó≤ËØù‰∏çÂ§öËØ¥ÔºåÊãõÂâçÁ´Ø„ÄÇ\nË¶ÅÊ±Ç‰∏çÈ´ò: ÊúâÁêÜÊÉ≥ÔºåÊúâËøΩÊ±ÇÔºåÊúâÂÆûÂäõÔºåÊúâÁªèÈ™å„ÄÇÂ§ßÁôΩÂÖîÔºåÂ∞èÁôΩÂÖîÁöÑ‰∏çË¶Å„ÄÇ\nÈó®ÊßõÂæà‰Ωé: ÂØπÁé∞ÊúâÂ§©ÁúºÊü•ÁΩëÈ°µÁâàÔºåÊèêÂá∫‰ºòÂåñ„ÄÅÊîπËøõÊÑèËßÅ„ÄÇÂêåÊó∂ËÉΩÂØπÂÖ∂ËøõË°åÊîπËøõ‰ºòÂåñ„ÄÇ\nÊäïÈÄíÈÇÆÁÆ±Ôºözhaopin@tianyancha.com","color: #0084ff; font-style: normal;font-size:14px")},e.showClaimMsg=function(){u.getClaimOwnerPopup().then(function(e){if(e&&e.data&&e.data.cid&&e.data.cname){var t=n.render("claim/ownerPopup",{items:e.data});i.openByElementStr(t,{size:"w600"})}})},e.closeClaimMsg=function(e,t){u.getClaimOwnerPopup({id:e,state:t}),setTimeout(function(){2!==t&&i.close()},0)},e.getDiscount=function(){u.getDiscountInfo().then(function(t){"ok"===t.state&&t.data&&1==t.data.showSummary?u.getUseReport().then(function(a){if("ok"===a.state&&a.data){a.data.title=t.data.title;var o=n.render("vip/use_report",{items:a.data});i.openByElementStr(o,{size:"w500"},null,function(){e.showClaimMsg()})}}):e.showClaimMsg()},function(){e.showClaimMsg()})},e.showNicknameMsg=function(){u.getNicknameTips().then(function(e){if(e&&e.data&&e.data.showTips){var i=t('.nav-item[nav-type="user"]'),a=n.render("user/nickname_popup");i.addClass("-show-nickname-tip").append(a)}})},e.createJsIdByReferrer=function(){if(!(e.location.href.search(/(\?|&)(jsid=)([^&]+)/)>-1)){var t=document.referrer||"";if(t){if(g.get("jsid"))return;var n=v(t);if(n.indexOf("tianyancha.com")>-1)return;for(var i={path:"/",secure:!1,expires:30,domain:e.cookieServerSuffix.split(":")[0]},a=[{url:"www.baidu.com",value:"SEO-BAIDU-ALL-SY-000001"},{url:"www.so.com",value:"SEO-HAOSO-ALL-SY-000001"},{url:"www.sogou.com",value:"SEO-SOGOU-ALL-SY-000001"},{url:"www.google.com",value:"SEO-GOOGLE-ALL-SY-000001"},{url:"cn.bing.com",value:"SEO-BING-ALL-SY-000001"},{url:"www.sm.cn",value:"SEO-SM-ALL-SY-000001"},{url:"www.toutiao.com",value:"SEO-TOUTIAO-ALL-SY-000001"}],o=0;o<7;o++)if(n.indexOf(a[o].url)>-1)return void g.set("jsid",a[o].value,i)}}},h(function(){setTimeout(function(){e.tongji_gdt(),e.tongji_baidu(),e.tongji_ga();var t=e.location.href;(t.indexOf("unionbaidu")>-1||t.indexOf("claim/apply")>-1||t.indexOf("claim/entry")>-1)&&e.tongji_inspectlet(),e.push_360()},200),p.logged()&&(e.getDiscount(),setTimeout(function(){e.pushWatchMsg()},2e3),e.showNicknameMsg()),e.console_show();var n=null;t(".tyc-header .header-intro").mousemove(function(){n&&(clearTimeout(n),n=null),n=setTimeout(function(){t(".tyc-header .header-intro").addClass("-hover")},500)}),t(".tyc-header .header-intro").mouseleave(function(e){clearTimeout(n),n=null,t(".tyc-header .header-intro").removeClass("-hover")}),"edge"===s.getBrowser().name&&e.createStyle(".table{table-layout:fixed;}"),e.createJsIdByReferrer()}),w}),define("util/vippayfriends",["window","jquery","util/modal","util/query","util/ejs","util/loading","util/jquery.qrcode","modal/login","util/UserManage"],function(e,t,n,i,a,o,r,s,c){if(e.vipPayFriends)return e.vipPayFriends;var l={};l.cancel=function(){n.close()},l.changeActiveVipCheck=function(e){t(e).parent().find(".vip-check").removeClass("-active"),t(e).addClass("-active");var n=t(e).find(".vipstate").val(),i=t(e).parents("[vip-friend-pay]"),a=i.attr("id");d[a]&&d[a].changeActiveVipCheck(n)},l.showInviteBox=function(e){t(e).parents("[vip-friend-pay]").find(".vippay-invite-box").toggleClass("hidden")},l.toggleQrcode=function(e){t(e).find("i").toggleClass("tic-xia").toggleClass("tic-shang"),t(e).parents("[vip-friend-pay]").find(".toggle-qrcode-box").toggleClass("hidden")},l.showInviteValid=function(e){var n=t(e).parents("[vip-friend-pay]"),i=n.attr("id");d[i]&&d[i].showInviteValid()},l.toVipPrice=function(e){var n=t(e).parents("[vip-friend-pay]"),i=n.attr("id");d[i]&&d[i].toVipPrice()},l.clearInviteCode=function(e){var n=t(e).parents("[vip-friend-pay]"),i=n.attr("id");d[i]&&d[i].clearInviteCode()},l.startAliPay=function(e){if(!t(e).attr("href")){var n=t(e).parents("[vip-friend-pay]"),i=n.attr("id");d[i]&&d[i].startAliPay()}},l.clearTimer=function(){if(t("#_modal_container").find("[vip-friend-pay]").length){var e=t("#_modal_container").find("[vip-friend-pay]").attr("id");d[e]&&d[e].clearTimer()}},l.goPayFriends=function(e){var n=t(e).parents("[vip-friend-pay]"),i=n.attr("id");d[i]&&d[i].goPayFriends()};var d=e.vipPaYFriendStore;d||(d=e.vipPaYFriendStore={});var u=function(e,o,r){var s=this;this.$target=e,this.options=o,this.renderObj=r,this.wxPolling=null,this.renderObj.useraction=this.renderObj.useraction||"70",i.getVipPrice(r).then(function(i){if(i&&"warn"==i.state)return void n.showErrorMessage(i.message||"ÁîüÊàêËÆ¢ÂçïÂ§±Ë¥•!");r.mobile&&t(".vip-friend-mobile").val(r.mobile);var o=a.render("vip/friends_pay",i);e.find(".js-vip-pay-content").html(o),s.updateVipPrice(i)},function(){n.showErrorMessage("ÁîüÊàêËÆ¢ÂçïÂ§±Ë¥•!")}),e.data("vip-start-state","true")},p=u.prototype;return p.updateVipPrice=function(e){var t=this.$target;if(e&&e.vipList&&e.vipList.length)for(var n=0;n<e.vipList.length;n++)t.find(".vip-check[state=".concat(e.vipList[n].state,"]")).find(".finalPrice").attr({value:e.vipList[n].finalPrice}),t.find(".vip-check[state=".concat(e.vipList[n].state,"]")).find(".discount").attr({value:e.vipList[n].discount})},p.pollingGetState=function(){var e=this,t=this.$target;i.weiXinPayPolling(t.find("._vip_order_id").val()).then(function(n){if("ok"===n.state){if(n.data+""!="1")return void(e.wxPolling=setTimeout(function(){e.pollingGetState(t.find("._vip_order_id").val())},1e3));e.initUserState(),location.reload(!0)}})},p.clearTimer=function(){var e=this.$target,t=this,n=e.attr("id");clearTimeout(t.wxPolling),t.wxPolling=null,delete d[n]},p.initUserState=function(){i.getUserInfo().then(function(e){var t=c.getUserInfo(),n=0;try{n=parseInt(e.data.state),t.state=n,c.setUserInfo(t,!0)}catch(e){}})},p.startWeiXinPay=function(e){var t=this.$target,n=this;n.initAliPay(),i.weiXinPayInfo(t.find("._vip_order_id").val()).then(function(i){"ok"===i.state&&t.find("[wx-qrcode]").length&&(n.initWeiXinQrcode(i.data),e&&n.pollingGetState(t.find("._vip_order_id").val()))})},p.startAliPay=function(){var t=this.$target,n=t.find("._vip_order_id").val();n&&i.alipayInfo(n).then(function(t){"ok"===t.state&&e.open(t.data)})},p.initAliPay=function(){var e=this.$target,t=e.find("._vip_order_id").val();e.find(".zfbpay_item").attr("href",""),t&&i.alipayInfo(t).then(function(t){"ok"===t.state&&e.find(".zfbpay_item").attr("href",t.data)})},p.initWeiXinQrcode=function(e){var t=this.$target,n=t.find("[wx-qrcode]");n.empty(),n.qrcode({text:e,width:134,height:134});var i=n.children(0)[0];if(i){var a=i.getContext("2d"),o=new Image;o.src="https://cdn.tianyancha.com/web-require-js/themes/18blue/images/logo2.jpg",o.onload=function(){a.drawImage(o,i.clientWidth/2-20,i.clientHeight/2-20,40,40)}}},p.changeActiveVipCheck=function(e){var t=this.$target,n=t.find(".vip-check[state=".concat(e,"]")).find(".finalPrice").val();t.find(".vipEndPrice").text("".concat(n,"ÂÖÉ"))},p.clearInviteCode=function(){var e=this.$target,t=this,o=e.find(".order-invite-code").val(),r=e.find(".vip-check.-active").find(".vipstate").val()||"70";o&&i.getVipPrice({useraction:r,inviteCode:"",closeInviteCode:"true"}).then(function(i){if(i&&"warn"==i.state)return"‰Ω†Â§öÊ¨°ËæìÂÖ•ÈîôËØØ‰∏öÂä°Á†ÅÔºåÂ∑≤Ë¢´ÈîÅÂÆöÔºåËØ∑Á®çÁ≠âÂÜçËØï"==i.message?e.find(".order-invite-msg").html(i.message):void n.showErrorMessage(i.message||"ÁîüÊàêËÆ¢ÂçïÂ§±Ë¥•!");var o=a.render("vip/friends_pay",i);e.find(".js-vip-pay-content").html(o),t.updateVipPrice(i)},function(){n.showErrorMessage("ÁîüÊàêËÆ¢ÂçïÂ§±Ë¥•!")})},p.toVipPrice=function(e){var r=this.$target,s=this,c=r.find(".order-invite-code").val(),l=r.find(".vip-check.-active").find(".vipstate").val()||"";c?(o.show(),i.getVipPrice({useraction:l,inviteCode:c,closeInviteCode:"false"}).then(function(e){if(o.hide(),e&&"warn"==e.state)return"‰Ω†Â§öÊ¨°ËæìÂÖ•ÈîôËØØ‰∏öÂä°Á†ÅÔºåÂ∑≤Ë¢´ÈîÅÂÆöÔºåËØ∑Á®çÁ≠âÂÜçËØï"==e.message?r.find(".order-invite-msg").html(e.message):void n.showErrorMessage(e.message||"ÁîüÊàêËÆ¢ÂçïÂ§±Ë¥•!");if(e){e.mobile=t(".vip-friend-mobile").val();var i=a.render("vip/friends_pay",e);r.find(".js-vip-pay-content").html(i),s.updateVipPrice(e),1==e.inviteCodeState&&n.showSuccessMessage("‰∏öÂä°Á†ÅÊ≠£Á°Æ")}},function(e){o.hide(),e&&e.responseJSON&&e.responseJSON.error?r.find(".order-invite-msg").html(e.responseJSON.error):n.showErrorMessage("ÁîüÊàêËÆ¢ÂçïÂ§±Ë¥•!")})):r.find(".order-invite-msg").html("ËØ∑ËæìÂÖ•‰∏öÂä°Á†Å")},p.showInviteValid=function(){var e=this.$target;e.find(".order-invite-code").val()&&e.find(".order-invite-state").removeClass("hide"),e.find(".order-invite-msg").empty()},p.goPayFriends=function(){var e=this.$target,t=this,a=/^((1[0-9]{1})\d{9})$/,r=e.find(".vip-friend-mobile").val();if(e.find(".order-invite-msg-friends").html(""),!r)return void e.find(".order-invite-msg-friends").html("ËØ∑ËæìÂÖ•ÊâãÊú∫Âè∑Á†Å");if(!a.test(r))return void e.find(".order-invite-msg-friends").html("ËØ∑ËæìÂÖ•Ê≠£Á°ÆÊ†ºÂºèÁöÑÊâãÊú∫Âè∑Á†Å");var s=e.find(".order-invite-code").val(),c=e.find(".vip-check.-active").find(".vipstate").val()||"";o.show(),i.beforeVipOrder(c,s,r).then(function(i){o.hide(),i&&"ok"==i.state&&i.data&&i.data.orderId?(e.find("._vip_order_id").val(i.data.orderId),e.find(".vip-friend-state-1").addClass("hidden"),e.find(".vip-friend-state-2").removeClass("hidden"),e.find(".js-targetMobile").html(r),e.find(".js-vip-year").html("".concat(e.find(".vip-check.-active").find(".vipyear").val(),"Âπ¥VIP‰ºöÂëò")),e.find(".js-vip-endprice").html("".concat(i.data.finalPrice/100,"ÂÖÉ")),e.find("._vip_order_id").val()&&t.startWeiXinPay(!0)):n.showErrorMessage(i.message||"ÁîüÊàêËÆ¢ÂçïÂ§±Ë¥•!")},function(){o.hide(),n.showErrorMessage("ÁîüÊàêËÆ¢ÂçïÂ§±Ë¥•!")})},t.fn.vipPayFriends=function(e,n){e=e||{},n=n||{},this.each(function(){var i=t(this),a=i.attr("id");a||(a="vip-pay-".concat("".concat((new Date).getTime()).substring(8)),i.attr("id",a)),d[a]&&i.data("vip-start-state")||(d[a]=new u(i,e,n))})},t(function(){t("[vip-friend-pay]").vipPayFriends()}),e.vipPayFriends=l,l}),define("util/ui-vippay",["window","jquery","util/modal","util/query","util/ejs","util/loading","util/jquery.qrcode","modal/login","util/UserManage"],function(e,t,n,i,a,o,r,s,c){if(e.uiVipPay)return e.uiVipPay;var l={};l.isHaveOrder=!1,l.index=0,l.cancel=function(){n.close()},l.changeActiveVipCheck=function(e){t(e).parent().find(".vip_check_box").removeClass("vip_check_active").find(".iconhide").removeClass("in"),t(e).addClass("vip_check_active").find(".iconhide").addClass("in");var n=t(e).find(".vipstate").val(),i=t(e).parents("[vip-pay]"),a=i.attr("id");d[a]&&d[a].changeActiveVipCheck(n)},l.changeCheck=function(e){t(e).parent().find(".vip-check").removeClass("-active"),t(e).addClass("-active");var n=t(e).find(".vipstate").val(),i=t(e).parents("[vip-pay]"),a=i.attr("id");d[a]&&d[a].changeActiveVipCheck(n)},l.changeVipCheck=function(e){t(".vip-check").removeClass("-active");var n=t(e).attr("state");t(".vip-check[state=".concat(n,"]")).addClass("-active");var i=t(e).find(".vipstate").val(),a=t(e).parents("[vip-pay]"),o=a.attr("id");d[o]&&d[o].changeActiveVipCheck(i)},l.showInviteBox=function(e){t(e).parents("[vip-pay]").find(".tooglebox").toggleClass("hidden")},l.toggleQrcode=function(e){t(e).find("i").toggleClass("tic-xia").toggleClass("tic-shang"),
t(e).parents("[vip-pay]").find(".toggleqrcode").toggleClass("hidden")},l.showInviteValid=function(e){var n=t(e).parents("[vip-pay]"),i=n.attr("id");d[i]&&d[i].showInviteValid()},l.toVipPrice=function(e){var n=t(e).parents("[vip-pay]"),i=n.attr("id");d[i]&&d[i].toVipPrice()},l.stopInviteCodeSubmit=function(t,n){return t||(t=e.event),t&&(t.preventDefault?t.preventDefault():t.returnValue=!1),l.toVipPrice(n),!1},l.clearInviteCode=function(e){var n=t(e).parents("[vip-pay]"),i=n.attr("id");d[i]&&d[i].clearInviteCode()},l.startAliPay=function(e){if(!t(e).attr("href")){var n=t(e).parents("[vip-pay]"),i=n.attr("id");d[i]&&d[i].startAliPay()}},l.clearTimer=function(){if(t("#_modal_container").find("[vip-pay]").length){var e=t("#_modal_container").find("[vip-pay]").attr("id");d[e]&&d[e].clearTimer()}},l.clearAbandonTimer=function(){for(var e in d)!t("#".concat(e)).length&&d[e]&&d[e].clearTimer()},l.notLoadEnd=!0,l.updatePage=function(e,t,n){if(t)for(var i in d)i&&d[i].updatePage(e);else n.updatePage(e)};var d=e.uiVipPayStore;d||(d=e.uiVipPayStore={});var u=function(e,t,a){var o=this;this.$target=e,this.options=t,this.renderObj=a;var r=this.options.isPageInit;this.wxPolling=null,this.renderObj.useraction=this.renderObj.useraction||"70",this.options.isPageInit&&l.isHaveOrder||i.getVipOrder({useraction:a.useraction,state:a.state,inviteCode:a.inviteCode,closeInviteCode:a.closeInviteCode,targetMobile:a.targetMobile}).then(function(t){if(t&&"warn"==t.state)return n.showErrorMessage(t.message||"ÁîüÊàêËÆ¢ÂçïÂ§±Ë¥•!"),void l.updatePage(t,r,o);var s=a.ipFlag||e.attr("itch-point");t.orderInfo&&t.orderInfo.orderId&&s&&i.reportItchPointEvent(t.orderInfo.orderId,s),l.updatePage(t,r,o)},function(){n.showErrorMessage("ÁîüÊàêËÆ¢ÂçïÂ§±Ë¥•!")}),e.data("vip-start-state","true")},p=u.prototype;return p.updatePage=function(e){var n=this,i=this.$target;if(e.useServeCode=parseInt(t("#vip_modal_useServeCode").val()||0),!i.attr("data-load")){var o=a.render("vip/pay",e);i.find(".js-vip-pay-content").html(o),i.find("._vip_order_id").val()&&n.startWeiXinPay(!0),i.attr("data-load",!0)}},p.pollingGetState=function(){var e=this,t=this.$target;i.weiXinPayPolling(t.find("._vip_order_id").val()).then(function(o){if("ok"===o.state){if(o.data+""!="1")return void(e.wxPolling=setTimeout(function(){e.pollingGetState(t.find("._vip_order_id").val())},5e3));c.refresh(),n.close(),n.showSuccessMessage("ÊîØ‰ªòÊàêÂäüÔºåÂèØÂâçÂæÄ„ÄêÂèëÁ•®ÁÆ°ÁêÜ„ÄëÂºÄÂÖ∑ÂèëÁ•®"),i.vipGetCoupons(t.find("._vip_order_id").val()).then(function(e){if("ok"===e.state&&e.data&&e.data.coupons&&e.data.coupons.length){var t=a.render("modal/apply_coupons_modal",{data:e.data});n.openByElementStr(t,{size:"apply-coupons-modal"})}})}})},p.clearTimer=function(){var e=this.$target,t=this,n=e.attr("id");clearTimeout(t.wxPolling),t.wxPolling=null,delete d[n]},p.initUserState=function(){var e=this;i.getUserInfo().then(function(t){var n=c.getUserInfo(),i=0;try{i=parseInt(t.data.state),n.state=i,c.setUserInfo(n,!0)}catch(t){e.ctx.logger.error(t)}})},p.startWeiXinPay=function(e){var t=this.$target,n=this;n.initAliPay(),i.weiXinPayInfo(t.find("._vip_order_id").val()).then(function(i){"ok"===i.state&&t.find("[wx-qrcode]").length&&(n.initWeiXinQrcode(i.data),e&&n.pollingGetState(t.find("._vip_order_id").val()))})},p.startAliPay=function(){var t=this.$target,n=t.find("._vip_order_id").val();n&&i.alipayInfo(n).then(function(t){"ok"===t.state&&e.open(t.data)})},p.initAliPay=function(){var e=this.$target,t=e.find("._vip_order_id").val();e.find("[zfb-box]").attr("href",""),t&&i.alipayInfo(t).then(function(t){"ok"===t.state&&e.find("[zfb-box]").attr("href",t.data)})},p.initWeiXinQrcode=function(e){var t=this.$target,n=t.find("[wx-qrcode]");n.empty(),n.qrcode({text:e,width:134,height:134});var i=n.children(0)[0];if(i){var a=i.getContext("2d"),o=new Image;o.src="https://cdn.tianyancha.com/web-require-js/themes/18blue/images/logo2.jpg",o.onload=function(){a.drawImage(o,i.clientWidth/2-20,i.clientHeight/2-20,40,40)}}},p.changeActiveVipCheck=function(e){function t(){i.preVipOrder({state:e,inviteCode:r}).then(function(e){e&&"ok"==e.state&&e.data&&e.data.orderId?(a.find("._vip_order_id").val(e.data.orderId),a.find(".pay-title").removeClass("hidden"),a.find("[end-price]").text("¬•".concat(e.data.finalPrice/100)),a.find("[discount]").text(e.data.discount/100),o.startWeiXinPay()):n.showErrorMessage(e.message||"ÁîüÊàêËÆ¢ÂçïÂ§±Ë¥•!")},function(){n.showErrorMessage("ÁîüÊàêËÆ¢ÂçïÂ§±Ë¥•!")})}var a=this.$target,o=this,r=a.find(".order-invite-code").val(),s=a.find("._vip_order_id").val(),c=a.closest(".modal-content").find("#vip_modal_useServeCode");c.length&&0==c.val()?i.cancelWebOrder(s).then(function(e){e&&"ok"===e.state&&e.data&&t()}):t()},p.clearInviteCode=function(){var e=this.$target,o=this,r=e.find(".order-invite-code").val(),s=e.find(".vip-check.-active").find(".vipstate").val()||"70";r&&i.getVipOrder({useraction:s,inviteCode:r,closeInviteCode:"true"}).then(function(i){if(i&&"warn"==i.state)return"‰Ω†Â§öÊ¨°ËæìÂÖ•ÈîôËØØ‰∏öÂä°Á†ÅÔºåÂ∑≤Ë¢´ÈîÅÂÆöÔºåËØ∑Á®çÁ≠âÂÜçËØï"==i.message?e.find(".order-invite-msg").html(i.message):void n.showErrorMessage(i.message||"ÁîüÊàêËÆ¢ÂçïÂ§±Ë¥•!");i&&(i.showInviteBox=!0),i.useServeCode=t("#vip_modal_useServeCode").val()||"";var r=a.render("vip/pay",i);e.find(".js-vip-pay-content").html(r),e.find("._vip_order_id").val()&&o.startWeiXinPay()},function(){n.showErrorMessage("ÁîüÊàêËÆ¢ÂçïÂ§±Ë¥•!")})},p.toVipPrice=function(e){var t=this.$target,r=this,s=t.find(".order-invite-code").val(),c=t.find(".vip-check.-active").find(".vipstate").val()||"",l=t.find("#vip_modal_useServeCode").val()||"";s?(o.show(),i.getVipOrder({useraction:c,inviteCode:s,closeInviteCode:"false"}).then(function(e){if(o.hide(),e&&"warn"==e.state)return"‰Ω†Â§öÊ¨°ËæìÂÖ•ÈîôËØØ‰∏öÂä°Á†ÅÔºåÂ∑≤Ë¢´ÈîÅÂÆöÔºåËØ∑Á®çÁ≠âÂÜçËØï"==e.message?t.find(".order-invite-msg").html(e.message):void n.showErrorMessage(e.message||"ÁîüÊàêËÆ¢ÂçïÂ§±Ë¥•!");e.useServeCode=l,e&&(e.showInviteBox=!0);var i=a.render("vip/pay",e);t.find(".js-vip-pay-content").html(i),t.find("._vip_order_id").val()&&r.startWeiXinPay()},function(e){o.hide(),e&&e.responseJSON&&e.responseJSON.error?t.find(".order-invite-msg").html(e.responseJSON.error):n.showErrorMessage("ÁîüÊàêËÆ¢ÂçïÂ§±Ë¥•!")})):t.find(".order-invite-msg").html("ËØ∑ËæìÂÖ•‰∏öÂä°Á†Å")},p.showInviteValid=function(){var e=this.$target;e.find(".order-invite-code").val()&&e.find(".order-invite-state").removeClass("hide"),e.find(".order-invite-msg").empty()},t.fn.uiVipPay=function(e,n){e=e||{},n=n||{},this.each(function(){var i=t(this),a=i.attr("id");a||(a="vip-pay-".concat((new Date).getTime(),"-").concat(l.index),i.attr("id",a),l.index++),d[a]&&i.data("vip-start-state")||(d[a]=new u(i,e,n),l.isHaveOrder=!0)})},t(function(){t("[vip-pay]").uiVipPay({isPageInit:!0})}),e.uiVipPay=l,l}),define("util/vipRenew",["window","jquery","util/modal","util/query","util/ejs","util/loading","util/jquery.qrcode","modal/login","util/UserManage"],function(e,t,n,i,a,o,r,s,c){if(e.vipRenew)return e.vipRenew;var l={};l.isHaveOrder=!1,l.index=0,l.cancel=function(){n.close()},l.changeActiveVipCheck=function(e){t(e).parent().find(".vip_check_box").removeClass("vip_check_active").find(".iconhide").removeClass("in"),t(e).addClass("vip_check_active").find(".iconhide").addClass("in");var n=t(e).find(".vipstate").val(),i=t(e).parents("[vip-renew]"),a=i.attr("id");d[a]&&d[a].changeActiveVipCheck(n)},l.changeCheck=function(e){t(e).parent().find(".vip-check").removeClass("-active"),t(e).addClass("-active");var n=t(e).find(".vipstate").val(),i=t(e).parents("[vip-renew]"),a=i.attr("id");d[a]&&d[a].changeActiveVipCheck(n)},l.changeMaskCheck=function(e){t(e).parent().find(".vip-check").removeClass("-active"),t(e).addClass("-active");var n=t(e).find(".vipyear").val();t(e).parents("[vip-warp]").find("[year]").text(n)},l.showInviteBox=function(e){t(e).parents("[vip-renew]").find(".tooglebox").toggleClass("hidden")},l.toggleQrcode=function(e){t(e).find("i").toggleClass("tic-xia").toggleClass("tic-shang"),t(e).parents("[vip-renew]").find(".toggleqrcode").toggleClass("hidden")},l.showInviteValid=function(e){var n=t(e).parents("[vip-renew]"),i=n.attr("id");d[i]&&d[i].showInviteValid()},l.showMobileValid=function(e){var n=t(e).parents("[vip-renew]"),i=n.attr("id");d[i]&&d[i].showMobileValid()},l.toVipPrice=function(e){var n=t(e).parents("[vip-renew]"),i=n.attr("id");d[i]&&d[i].toVipPrice()},l.clearInviteCode=function(e){var n=t(e).parents("[vip-renew]"),i=n.attr("id");d[i]&&d[i].clearInviteCode()},l.startAliPay=function(e){if(!t(e).attr("href")){var n=t(e).parents("[vip-renew]"),i=n.attr("id");d[i]&&d[i].startAliPay()}},l.clearTimer=function(){if(t("#_modal_container").find("[vip-renew]").length){var e=t("#_modal_container").find("[vip-renew]").attr("id");d[e]&&d[e].clearTimer()}},l.notLoadEnd=!0,l.updatePage=function(e,t,n){if(t)for(var i in d)d[i].updatePage(e);else n.updatePage(e)},l.confirmMobile=function(e){var n=t(e).parents("[vip-renew]");if(!t(e).hasClass("-disabled")){var i=n.attr("id");d[i]&&d[i].confirmMobile()}},l.clearMobile=function(e){var n=t(e).parents("[vip-renew]"),i=n.attr("id");d[i]&&d[i].clearMobile()};var d=e.vipRenewStore;d||(d=e.vipRenewStore={});var u=function(e,t,n){var i=this;this.$target=e,this.options=t,this.renderObj=n;this.options.isPageInit;this.wxPolling=null,this.renderObj.useraction=this.renderObj.useraction||"70",this.options.isPageInit&&l.isHaveOrder||e.find("[target-mobile]").val()&&i.getOrder(),e.data("vip-start-state","true")},p=u.prototype;return p.updatePage=function(e){var t=this,n=this.$target;if(n.attr("data-load"))n.find("._vip_order_id").val()&&t.startWeiXinPay();else{e?e.clickType="vipRenew":e={};var i=a.render("vip/pay",e);n.find(".js-vip-pay-content").html(i),n.find("[qrcode-mask]").addClass("hidden"),n.find("[wx-qrcode]").removeClass("hidden"),n.find(".vip-type-item").removeClass("-disabled"),n.find("[final-price]").html("¬•".concat(e.finalPrice/100)),n.find("._vip_order_id").val()&&t.startWeiXinPay(!0),n.attr("data-load",!0)}},p.pollingGetState=function(){var t=this,a=this.$target;i.weiXinPayPolling(a.find("._vip_order_id").val()).then(function(i){if("ok"===i.state){if(i.data+""!="1")return void(t.wxPolling=setTimeout(function(){t.pollingGetState(a.find("._vip_order_id").val())},5e3));t.initUserState(),n.close(),n.showOperateSuccess({title:"ÊîØ‰ªòÊàêÂäü",subtitle:"ÊîØ‰ªòÊàêÂäüÔºåÂèØÂâçÂæÄ„ÄêÂèëÁ•®ÁÆ°ÁêÜ„ÄëÂºÄÂÖ∑ÂèëÁ•®„ÄÇÂ∑•‰Ωú‰∫∫ÂëòÂ∞ÜÂ∞ΩÂø´ÂÆåÊàêÂÆ°Ê†∏Âπ∂ÈÄöËøáÁü≠‰ø°ÂèäÊó∂ÂèçÈ¶àÔºåËØ∑ËÄêÂøÉÁ≠âÂæÖ"},null,function(){e.location.reload()})}})},p.clearTimer=function(){var e=this.$target,t=this,n=e.attr("id");clearTimeout(t.wxPolling),t.wxPolling=null,delete d[n]},p.initUserState=function(){i.getUserInfo().then(function(e){var t=c.getUserInfo(),n=0,i=0;try{n=parseInt(e.data.state),i=parseInt(e.data.isExpired),t.state=n,t.isExpired=i,c.setUserInfo(t,!0)}catch(e){}})},p.startWeiXinPay=function(e){var t=this.$target,n=this;n.initAliPay(),i.weiXinPayInfo(t.find("._vip_order_id").val()).then(function(i){"ok"===i.state&&t.find("[wx-qrcode]").length&&(n.initWeiXinQrcode(i.data),e&&n.pollingGetState(t.find("._vip_order_id").val()))})},p.startAliPay=function(){var t=this.$target,n=t.find("._vip_order_id").val();n&&i.alipayInfo(n).then(function(t){"ok"===t.state&&e.open(t.data)})},p.initAliPay=function(){var e=this.$target,t=e.find("._vip_order_id").val();e.find("[zfb-box]").attr("href",""),t&&i.alipayInfo(t).then(function(t){"ok"===t.state&&e.find("[zfb-box]").attr("href",t.data)})},p.initWeiXinQrcode=function(e){var t=this.$target,n=t.find("[wx-qrcode]");n.empty(),n.qrcode({text:e,width:134,height:134});var i=n.children(0)[0];if(i){var a=i.getContext("2d"),o=new Image;o.src="https://cdn.tianyancha.com/web-require-js/themes/18blue/images/logo2.jpg",o.onload=function(){a.drawImage(o,i.clientWidth/2-20,i.clientHeight/2-20,40,40)}}},p.changeActiveVipCheck=function(e){var t=this.$target,a=this,o=t.find(".order-invite-code").val(),r=t.find("[target-mobile]").val();if("verify"==t.find("[target-mobile]").attr("target-mobile")){var s=t.find(".vip-check[state=".concat(e,"]")).find(".vipyear").val();t.find("[year]").text(s),i.preRenewVipOrder({state:e,inviteCode:o,targetMobile:r}).then(function(e){e&&"ok"==e.state&&e.data&&e.data.orderId?(t.find("._vip_order_id").val(e.data.orderId),t.find("[end-price]").text("¬•".concat(e.data.finalPrice/100)),t.find("[discount]").text(e.data.discount/100),a.startWeiXinPay()):n.showErrorMessage(e.message||"ÁîüÊàêËÆ¢ÂçïÂ§±Ë¥•!")},function(){n.showErrorMessage("ÁîüÊàêËÆ¢ÂçïÂ§±Ë¥•!")})}else{var c=(t.find(".vip-check[state=".concat(e,"]")).find(".discount").val(),t.find(".vip-check[state=".concat(e,"]")).find(".finalPrice").val()),s=t.find(".vip-check[state=".concat(e,"]")).find(".vipyear").val();t.find("[end-price]").text("¬•".concat(c)),t.find("[year]").text(s)}},p.clearInviteCode=function(){this.toVipPrice(!0)},p.updateVipPrice=function(e){var t=this.$target;if(e&&e.vipList&&e.vipList.length)for(var n=0;n<e.vipList.length;n++)t.find(".vip-check[state=".concat(e.vipList[n].state,"]")).find(".finalPrice").attr({value:e.vipList[n].finalPrice}),t.find(".vip-check[state=".concat(e.vipList[n].state,"]")).find(".discount").attr({value:e.vipList[n].discount})},p.toVipPrice=function(e){var t=this.$target,r=this,s=t.find(".order-invite-code").val(),c=t.find(".vip-check.-active").find(".vipstate").val()||"70",l="verify"==t.find("[target-mobile]").attr("target-mobile"),d=t.find("[target-mobile]").val(),u=i.getVipPrice;l&&(u=i.getVipRenewOrder);var p={useraction:c,state:c,inviteCode:s,closeInviteCode:"false",targetMobile:d};e&&(p.closeInviteCode="true",p.inviteCode=""),s?(o.show(),u(p).then(function(e){if(o.hide(),e&&"warn"==e.state)return"‰Ω†Â§öÊ¨°ËæìÂÖ•ÈîôËØØ‰∏öÂä°Á†ÅÔºåÂ∑≤Ë¢´ÈîÅÂÆöÔºåËØ∑Á®çÁ≠âÂÜçËØï"==e.message?t.find(".order-invite-msg").html(e.message):void n.showErrorMessage(e.message||"ÁîüÊàêËÆ¢ÂçïÂ§±Ë¥•!");1==e.inviteCodeState?n.showSuccessMessage("‰∏öÂä°Á†ÅÊ≠£Á°Æ"):e&&(e.showInviteBox=!0),e&&(e.clickType="vipRenew"),!l&&e&&(e.finalPrice*=100,e.discount*=100);var i=a.render("vip/pay",e);if(t.find(".js-vip-pay-content").html(i),l)t.find("._vip_order_id").val()&&r.startWeiXinPay();else{var i=a.render("vip/pay",e);t.find(".js-vip-pay-content").html(i),r.updateVipPrice(e)}},function(e){o.hide(),e&&e.responseJSON&&e.responseJSON.error?t.find(".order-invite-msg").html(e.responseJSON.error):n.showErrorMessage("ÁîüÊàêËÆ¢ÂçïÂ§±Ë¥•!")})):t.find(".order-invite-msg").html("ËØ∑ËæìÂÖ•‰∏öÂä°Á†Å")},p.showInviteValid=function(){var e=this.$target;e.find(".order-invite-code").val()&&e.find(".order-invite-state").removeClass("hide"),e.find(".order-invite-msg").empty()},p.showMobileValid=function(){this.$target.find(".order-mobile-msg").empty()},p.confirmMobile=function(){var e=this,t=this.$target;t.find(".order-mobile-msg").empty();var n=/^((1[0-9]{1})\d{9})$/,i=t.find("[target-mobile]").val();return i?n.test(i)?c.getUserInfo().mobile==i?t.find(".order-mobile-msg").html("‰∏çÂèØÂ°´ÂÜôÊú¨‰∫∫ÊâãÊú∫Âè∑"):void e.getOrder():void t.find(".order-mobile-msg").html("ËØ∑ËæìÂÖ•Ê≠£Á°ÆÊ†ºÂºèÁöÑÊâãÊú∫Âè∑Á†Å"):void t.find(".order-mobile-msg").html("ËØ∑ËæìÂÖ•ÊâãÊú∫Âè∑Á†Å")},p.getOrder=function(){var e=this,t=this.$target,a={};e.wxPolling=null,a.useraction=t.find(".vip-check.-active").find(".vipstate").val()||"70",a.state=t.find(".vip-check.-active").find(".vipstate").val()||"70",a.targetMobile=t.find("[target-mobile]").val(),a.inviteCode=t.find(".order-invite-code").val(),i.getVipRenewOrder(a).then(function(i){if(i&&"warn"==i.state)return(i.message="‰∏çÂèØÂ°´ÂÜôÊú¨‰∫∫ÊâãÊú∫Âè∑")?t.find(".order-mobile-msg").html(i.message):void n.showErrorMessage(i.message||"ÁîüÊàêËÆ¢ÂçïÂ§±Ë¥•!");t.find("[target-mobile]").attr("target-mobile","verify").attr("readonly","true"),t.find("[mobile-clear]").removeClass("hidden"),t.find("[mobile-btn]").addClass("-disabled"),e.updatePage(i)},function(){n.showErrorMessage("ÁîüÊàêËÆ¢ÂçïÂ§±Ë¥•!")})},p.clearMobile=function(){var e=this.$target;e.find("[target-mobile]").attr("target-mobile","").removeAttr("readonly").val(""),e.find("[mobile-clear]").addClass("hidden"),e.find("[mobile-btn]").removeClass("-disabled")},t.fn.vipRenew=function(e,n){e=e||{},n=n||{},this.each(function(){var i=t(this),a=i.attr("id");a||(a="vip-renew-".concat((new Date).getTime(),"-").concat(l.index),i.attr("id",a),l.index++),d[a]&&i.data("vip-start-state")||(d[a]=new u(i,e,n),l.isHaveOrder=!0)})},t(function(){t("[vip-renew]").vipRenew({isPageInit:!0})}),e.vipRenew=l,l}),define("util/vip_business",["window","jquery","util/modal","util/query","util/ejs","util/loading","util/jquery.qrcode","modal/login","util/UserManage"],function(e,t,n,i,a,o,r,s,c){function l(e){return e=parseInt(e),e>=10?e+2*Math.floor(e/10):e}function d(e){return e=parseInt(e),e>=10?t(".free-num").removeClass("hidden"):t(".free-num").addClass("hidden"),e>=10?2*Math.floor(e/10):0}if(e.vipBusiness)return e.vipBusiness;var u={};u.isHaveOrder=!1,u.index=0,u.minUserAction=+t("#_minUserAction").val(),u.cancel=function(){n.close()},u.showInviteBox=function(e){t(e).parents("[vip-business]").find(".tooglebox").toggleClass("hidden")},u.toggleQrcode=function(e){t(e).find("i").toggleClass("tic-xia").toggleClass("tic-shang"),t(e).parents("[vip-business]").find(".toggleqrcode").toggleClass("hidden")},u.showInviteValid=function(e){var n=t(e).parents("[vip-business]"),i=n.attr("id");f[i]&&f[i].showInviteValid()},u.toVipPrice=function(e){var n=t(e).parents("[vip-business]"),i=n.attr("id");f[i]&&f[i].toVipPrice()},u.clearInviteCode=function(e){var n=t(e).parents("[vip-business]"),i=n.attr("id");f[i]&&f[i].clearInviteCode()},u.startAliPay=function(e){if(!t(e).attr("href")){var n=t(e).parents("[vip-business]"),i=n.attr("id");f[i]&&f[i].startAliPay()}},u.clearTimer=function(){if(t("#_modal_container").find("[vip-business]").length){var e=t("#_modal_container").find("[vip-business]").attr("id");f[e]&&f[e].clearTimer()}},u.clearAbandonTimer=function(){for(var e in f)!t("#".concat(e)).length&&f[e]&&f[e].clearTimer()},u.notLoadEnd=!0,u.updatePage=function(e,t,n){if(t)for(var i in f)i&&f[i].updatePage(e);else n.updatePage(e)},u.onblur=function(e,i){var a=t(e).parents(".vip-business"),o=a.find(".business-count"),r=t("#isActivity").val();e.value<=u.minUserAction?(t(e).parent().find(".vip-business-icon-left").addClass("-disabled"),t(e).parent().find(".vip-business-icon-right").removeClass("-disabled"),e.value<u.minUserAction&&(e.value=u.minUserAction,n.showWarningMessage("ÊúÄÂ∞ëË¥≠‰π∞".concat(u.minUserAction,"‰∫∫")))):e.value>=60?(t(e).parent().find(".vip-business-icon-left").removeClass("-disabled"),t(e).parent().find(".vip-business-icon-right").addClass("-disabled"),e.value>60&&(e.value=60,n.showWarningMessage("ÊúÄÂ§öË¥≠‰π∞60‰∫∫"))):(t(e).parent().find(".vip-business-icon-left").removeClass("-disabled"),t(e).parent().find(".vip-business-icon-right").removeClass("-disabled"));var s=parseInt(a.find(".business-price").val()),c=parseInt(a.find(".business-orignal-price").val()),l=c-s,d=e.value;o.val(d),a.find("span.bussiness-count").html(d),a.find(".total").html(d*s),a.find(".discount-num").html(d*l),p(r)},u.countBtn=function(e,i,a,o){if(!t(e).hasClass("-disabled")){i||(i=".vip-business");var r=t(e).parents(i),s=r.find(".bussiness-count.input"),c=r.find(".business-count"),l=parseInt(s.val());if("minus"===a&&l<=u.minUserAction)return s.val(u.minUserAction),c.val(u.minUserAction),r.find("span.bussiness-count").html(5),t(e).parent().find(".vip-business-icon-left").addClass("-disabled"),void n.showWarningMessage("ÊúÄÂ∞ëË¥≠‰π∞".concat(u.minUserAction,"‰∫∫"));if("add"===a&&l>=60)return s.val(60),c.val(60),r.find("span.bussiness-count").html(60),t(e).parent().find(".vip-business-icon-right").addClass("-disabled"),void n.showWarningMessage("ÊúÄÂ§öË¥≠‰π∞60‰∫∫");"minus"===a&&(l--,t(e).parent().find(".vip-business-icon-right").removeClass("-disabled")),"add"===a&&(l++,t(e).parent().find(".vip-business-icon-left").removeClass("-disabled"));var d=parseInt(r.find(".business-price").val()),f=parseInt(r.find(".business-orignal-price").val()),h=f-d;s.val(l),c.val(l),t(".bussiness-count").val(l),t(".business-count").val(l),r.find("span.bussiness-count").html(l),r.find(".total").html(l*d),r.find(".discount-num").html(l*h),l===u.minUserAction&&t(e).parent().find(".vip-business-icon-left").addClass("-disabled"),60===l&&t(e).parent().find(".vip-business-icon-right").addClass("-disabled"),p(o)}},u.minusCount=function(e,n){if(!t(e).hasClass("-disabled")){n||(n=".vip-business");var i=t(e).attr("data-min-action")||1,a=parseInt(t(e).parents(n).find(".business-count").val()),o=parseInt(t(e).parents(n).find(".business-price").val()),r=parseInt(t(e).parents(n).find(".business-orignal-price").val()),s=r-o;a--,t(e).parents(n).find(".bussiness-count").html(5*(a+1)),t(e).parents(n).find(".total").html((a+1)*o*5),t(e).parents(n).find(".discount-num").html((a+1)*s*5),t(e).parent().find(".vip-business-icon-right").removeClass("-disabled"),a+""==i+""&&t(e).parent().find(".vip-business-icon-left").addClass("-disabled"),t(e).parents(n).find(".business-count").val(a)}},u.addCount=function(e,n){if(!t(e).hasClass("-disabled")){n||(n=".vip-business");var i=parseInt(t(e).parents(n).find(".business-count").val()),a=parseInt(t(e).parents(n).find(".business-price").val()),o=parseInt(t(e).parents(n).find(".business-orignal-price").val()),r=o-a;i++,t(e).parents(n).find(".bussiness-count").html(5*(i+1)),t(e).parents(n).find(".total").html((i+1)*a*5),t(e).parents(n).find(".discount-num").html((i+1)*r*5),t(e).parent().find(".vip-business-icon-left").removeClass("-disabled"),11==i&&t(e).parent().find(".vip-business-icon-right").addClass("-disabled"),t(e).parents(n).find(".business-count").val(i)}},u.confirmBusinessNum=function(e,n){var i;i=t(e?e:"#_comfirm_btn"),s.checkUserStatus().then(function(){var e=parseInt(i.parents(".vip-business").find(".business-count").val()),t=parseInt(i.parents(".vip-business").find(".business-price").val()),a=parseInt(i.parents(".vip-business").find(".business-orignal-price").val()),o=c.getUserInfo().mobile(),r=(new Date).getTime()+31536e6;n&&"isActivity"===n&&(e=l(e)),vipcontent.showVipBussiness({},{sub:o,index:5*(e+1),price:t,expireTime:r,orignalprice:a})})},u.clickInputFocus=function(){t("#businessCountInput").focus()},u.changeCheck=function(e,n){var i=t(e),a=i.children(".business-price").val(),o=i.children(".business-type").val();i.parent().find(".business-check").removeClass("_active"),i.addClass("_active"),t("#businessSelectPrice").val(a),t("#businessType").val(o),t(".businessType").val(o),p(n)};var p=function(e){var n=0,i=t(".business-count").val(),a=parseInt(t("#businessSelectPrice").val());if(n=i*a,t("#businessAllPrice").val(n),t(".businessAllPrice").val(n),t("#allPriceBtn").html(n),t(".allPriceBtn").html(n),t("#pick-result").text(n),e&&"isActivity"===e){var o=parseInt(t(".business-check._active").attr("data-original"));t("#pick-num").text(a),t("#pick-person").text(l(i)),i>=10?(t(".free-num").show(),t(".choose-num-box.-lg .num-text").removeClass("ati-po")):(t(".free-num").hide(),t(".choose-num-box.-lg .num-text").addClass("ati-po")),t("#free-num").text(d(i));var r=(o-a)*parseInt(i)+o*d(i);t("#save-money").text(r)}},f=e.vipBusinessStore;f||(f=e.vipBusinessStore={});var h=function(e,t,n){this.$target=e,this.options=t,this.renderObj=n,this.wxPolling=null,this.renderObj.useraction=this.renderObj.useraction||"70",this.startWeiXinPay(!0),e.data("vip-start-state","true")},m=h.prototype;return m.updatePage=function(e){var t=this,n=this.$target,i=a.render("vip/business_pay",e);n.find(".js-vip-business-content").html(i),n.find("._vip_order_id").val()&&t.startWeiXinPay()},m.pollingGetState=function(){var e=this,t=this.$target;i.weiXinPayPolling(t.find("._vip_order_id").val()).then(function(n){if("ok"===n.state){if(n.data+""!="1")return void(e.wxPolling=setTimeout(function(){e.pollingGetState(t.find("._vip_order_id").val())},5e3));e.initUserState()}})},m.clearTimer=function(){var e=this.$target,t=this,n=e.attr("id");clearTimeout(t.wxPolling),t.wxPolling=null,delete f[n]},m.initUserState=function(){var t=this;i.getUserInfo().then(function(n){var i=c.getUserInfo(),a=0;try{a=parseInt(n.data.vipManager),i.vipManager=a,c.setUserInfo(i,!0),e.location.href="/usercenter/business"}catch(e){t.ctx.logger.error(e)}})},m.startWeiXinPay=function(e){var t=this.$target,n=this;n.initAliPay(),i.weiXinPayInfo(t.find("._vip_order_id").val()).then(function(i){"ok"===i.state&&t.find("[wx-qrcode]").length&&(n.initWeiXinQrcode(i.data),e&&n.pollingGetState(t.find("._vip_order_id").val()))})},m.startAliPay=function(){var t=this.$target,n=t.find("._vip_order_id").val();n&&i.alipayInfo(n).then(function(t){"ok"===t.state&&e.open(t.data)})},m.initAliPay=function(){var e=this.$target,t=e.find("._vip_order_id").val();e.find("[zfb-box]").attr("href",""),t&&i.alipayInfo(t).then(function(t){"ok"===t.state&&e.find("[zfb-box]").attr("href",t.data)})},m.initWeiXinQrcode=function(e){var t=this.$target,n=t.find("[wx-qrcode]");n.empty(),n.qrcode({text:e,width:134,height:134});var i=n.children(0)[0];if(i){var a=i.getContext("2d"),o=new Image;o.src="https://cdn.tianyancha.com/web-require-js/themes/18blue/images/logo2.jpg",o.onload=function(){a.drawImage(o,i.clientWidth/2-20,i.clientHeight/2-20,40,40)}}},m.clearInviteCode=function(){var e=this.$target,a=this,o={};o.index=parseInt(e.find("._vip_index").val())||1,o.type=parseInt(e.find("._vip_type").val())||1,o.mealIds=e.find("#_mealIds").val()||[];try{o.mealIds=o.mealIds?JSON.parse(o.mealIds):[]}catch(e){o.mealIds=[]}o.mealIds&&o.mealIds.length?i.renewalsVipBussinessOrder({mealIds:o.mealIds,inviteCode:"",type:o.type}).then(function(i){if(i&&"warn"==i.state)return"‰Ω†Â§öÊ¨°ËæìÂÖ•ÈîôËØØ‰∏öÂä°Á†ÅÔºåÂ∑≤Ë¢´ÈîÅÂÆöÔºåËØ∑Á®çÁ≠âÂÜçËØï"==i.message?e.find(".order-invite-msg").html(i.message):void n.showErrorMessage(i.message||"ÁîüÊàêËÆ¢ÂçïÂ§±Ë¥•!");i&&i.data&&t.extend(o,i.data),o.showInviteBox=!0,o.useInvalidCode="false",o.inviteCodeState="0",a.updatePage(o)},function(){n.showErrorMessage("ÁîüÊàêËÆ¢ÂçïÂ§±Ë¥•!")}):i.getVipBussinessOrder({num:o.index,inviteCode:"",type:o.type}).then(function(i){if(i&&"warn"==i.state)return"‰Ω†Â§öÊ¨°ËæìÂÖ•ÈîôËØØ‰∏öÂä°Á†ÅÔºåÂ∑≤Ë¢´ÈîÅÂÆöÔºåËØ∑Á®çÁ≠âÂÜçËØï"==i.message?e.find(".order-invite-msg").html(i.message):void n.showErrorMessage(i.message||"ÁîüÊàêËÆ¢ÂçïÂ§±Ë¥•!");i&&i.data&&t.extend(o,i.data),o.showInviteBox=!0,o.useInvalidCode="false",o.inviteCodeState="0",a.updatePage(o)},function(){n.showErrorMessage("ÁîüÊàêËÆ¢ÂçïÂ§±Ë¥•!")})},m.toVipPrice=function(e){var a=this.$target,o=this,r={};r.inviteCode=a.find(".order-invite-code").val(),r.index=parseInt(a.find("._vip_index").val())||1,r.type=parseInt(a.find("._vip_type").val())||1,r.orignalprice=a.find("._vip_orignal_price").val()||"",r.price=a.find("._vip_price").val()||"",r.mealIds=a.find("#_mealIds").val()||[];try{r.mealIds=r.mealIds?JSON.parse(r.mealIds):[]}catch(e){r.mealIds=[]}r.inviteCode?r.mealIds&&r.mealIds.length?i.renewalsVipBussinessOrder({mealIds:r.mealIds,inviteCode:r.inviteCode,type:r.type}).then(function(e){if(e&&"warn"==e.state)return"‰Ω†Â§öÊ¨°ËæìÂÖ•ÈîôËØØ‰∏öÂä°Á†ÅÔºåÂ∑≤Ë¢´ÈîÅÂÆöÔºåËØ∑Á®çÁ≠âÂÜçËØï"==e.message?a.find(".order-invite-msg").html(e.message):void n.showErrorMessage(e.message||"ÁîüÊàêËÆ¢ÂçïÂ§±Ë¥•!");e&&e.data&&t.extend(r,e.data),r.showInviteBox=!0,r.useInvalidCode="true",o.updatePage(r)},function(){result&&result.responseJSON&&result.responseJSON.error?a.find(".order-invite-msg").html(result.responseJSON.error):n.showErrorMessage("ÁîüÊàêËÆ¢ÂçïÂ§±Ë¥•!")}):i.getVipBussinessOrder({num:r.index,inviteCode:r.inviteCode,type:r.type}).then(function(e){if(e&&"warn"==e.state)return"‰Ω†Â§öÊ¨°ËæìÂÖ•ÈîôËØØ‰∏öÂä°Á†ÅÔºåÂ∑≤Ë¢´ÈîÅÂÆöÔºåËØ∑Á®çÁ≠âÂÜçËØï"==e.message?a.find(".order-invite-msg").html(e.message):void n.showErrorMessage(e.message||"ÁîüÊàêËÆ¢ÂçïÂ§±Ë¥•!");e&&e.data&&t.extend(r,e.data),r.showInviteBox=!0,r.useInvalidCode="true",o.updatePage(r)},function(){result&&result.responseJSON&&result.responseJSON.error?a.find(".order-invite-msg").html(result.responseJSON.error):n.showErrorMessage("ÁîüÊàêËÆ¢ÂçïÂ§±Ë¥•!")}):a.find(".order-invite-msg").html("ËØ∑ËæìÂÖ•‰∏öÂä°Á†Å")},m.showInviteValid=function(){var e=this.$target;e.find(".order-invite-code").val()&&e.find(".order-invite-state").removeClass("hide"),e.find(".order-invite-msg").empty()},t.fn.vipBusiness=function(e,n){e=e||{},n=n||{},this.each(function(){var i=t(this),a=i.attr("id");a||(a="vip-business-".concat((new Date).getTime(),"-").concat(u.index),i.attr("id",a),u.index++),f[a]&&i.data("vip-start-state")||(f[a]=new h(i,e,n),u.isHaveOrder=!0)})},t(function(){if(t("#isActivity").val()){var e=parseInt(t("#businessCount").val()),n=parseInt(t(".business-check._active").attr("data-original")),i=parseInt(t(".business-check._active").find(".business-price").text());10===e?(t("#pick-person").text(12),t(".choose-num-box.-lg .num-text").removeClass("ati-po"),t("#save-money").text(10*(n-i)+2*n)):(t(".free-num").hide(),t(".choose-num-box.-lg .num-text").addClass("ati-po"),t("#save-money").text(5*(n-i)))}}),e.vipBusiness=u,u}),define("util/vippay",["window","jquery","util/modal","util/query","util/ejs","util/loading","util/jquery.qrcode","modal/login","util/UserManage"],function(e,t,n,i,a,o,r,s,c){if(e.vipPay)return e.vipPay;var l={};l.isHaveOrder=!1,l.index=0,l.cancel=function(){n.close()},l.changeActiveVipCheck=function(e){t(e).parent().find(".vip_check_box").removeClass("vip_check_active").find(".iconhide").removeClass("in"),t(e).addClass("vip_check_active").find(".iconhide").addClass("in");var n=t(e).find(".vipstate").val(),i=t(e).parents(".js-vip-pay"),a=i.attr("id");d[a]&&d[a].changeActiveVipCheck(n)},l.changeCheck=function(e){t(e).parent().find(".vip-check").removeClass("-active"),t(e).addClass("-active");var n=t(e).find(".vipstate").val(),i=t(e).parents(".js-vip-pay"),a=i.attr("id");d[a]&&d[a].changeActiveVipCheck(n)},l.showInviteBox=function(e){t(e).parents(".js-vip-pay").find(".vippay-invite-box").toggleClass("hidden")},l.toggleQrcode=function(e){t(e).find("i").toggleClass("tic-xia").toggleClass("tic-shang"),t(e).parents(".js-vip-pay").find(".toggle-qrcode-box").toggleClass("hidden")},l.showInviteValid=function(e){var n=t(e).parents(".js-vip-pay"),i=n.attr("id");d[i]&&d[i].showInviteValid()},l.toVipPrice=function(e){var n=t(e).parents(".js-vip-pay"),i=n.attr("id");d[i]&&d[i].toVipPrice()},l.clearInviteCode=function(e){var n=t(e).parents(".js-vip-pay"),i=n.attr("id");d[i]&&d[i].clearInviteCode()},l.startAliPay=function(e){if(!t(e).attr("href")){var n=t(e).parents(".js-vip-pay"),i=n.attr("id");d[i]&&d[i].startAliPay()}},l.clearTimer=function(){if(t("#_modal_container").find(".js-vip-pay").length){var e=t("#_modal_container").find(".js-vip-pay").attr("id");d[e]&&d[e].clearTimer()}},l.notLoadEnd=!0,l.updatePage=function(e,t,n){if(t)for(var i in d)d[i].updatePage(e);else n.updatePage(e)};var d=e.vipPaYStore;d||(d=e.vipPaYStore={});var u=function(e,t,a){var o=this;this.$target=e,this.options=t,this.renderObj=a;var r=this.options.isPageInit;this.wxPolling=null,this.renderObj.useraction=this.renderObj.useraction||"70",this.options.isPageInit&&l.isHaveOrder||i.getVipOrder(a).then(function(e){if(e&&"warn"==e.state)return void n.showErrorMessage(e.message||"ÁîüÊàêËÆ¢ÂçïÂ§±Ë¥•!");l.updatePage(e,r,o)},function(){n.showErrorMessage("ÁîüÊàêËÆ¢ÂçïÂ§±Ë¥•!")}),e.data("vip-start-state","true")},p=u.prototype;return p.updatePage=function(e){var t=this,n=this.$target;if(!n.attr("data-load")){var i=a.render("vipPay",e);n.find(".js-vip-pay-content").html(i),n.find("._vip_order_id").val()&&t.startWeiXinPay(!0),n.attr("data-load",!0)}},p.pollingGetState=function(){var t=this,n=this.$target;i.weiXinPayPolling(n.find("._vip_order_id").val()).then(function(i){if("ok"===i.state){if(i.data+""!="1")return void(t.wxPolling=setTimeout(function(){t.pollingGetState(n.find("._vip_order_id").val())},5e3));t.initUserState(),e.location.href="/orderpay/".concat(n.find("._vip_order_id").val())}})},p.clearTimer=function(){var e=this.$target,t=this,n=e.attr("id");clearTimeout(t.wxPolling),t.wxPolling=null,delete d[n]},p.initUserState=function(){i.getUserInfo().then(function(e){var t=c.getUserInfo(),n=0,i=0;try{n=parseInt(e.data.state),i=parseInt(e.data.isExpired),t.state=n,t.isExpired=i,c.setUserInfo(t,!0)}catch(e){}})},p.startWeiXinPay=function(e){var t=this.$target,n=this;n.initAliPay(),i.weiXinPayInfo(t.find("._vip_order_id").val()).then(function(i){"ok"===i.state&&t.find(".vip_wxPay_QrCode").length&&(n.initWeiXinQrcode(i.data),e&&n.pollingGetState(t.find("._vip_order_id").val()))})},p.startAliPay=function(){var t=this.$target,n=t.find("._vip_order_id").val();n&&i.alipayInfo(n).then(function(t){"ok"===t.state&&e.open(t.data)})},p.initAliPay=function(){var e=this.$target,t=e.find("._vip_order_id").val();e.find(".zfbpay_item").attr("href",""),t&&i.alipayInfo(t).then(function(t){"ok"===t.state&&e.find(".zfbpay_item").attr("href",t.data)})},p.initWeiXinQrcode=function(e){
var t=this.$target,n=t.find(".vip_wxPay_QrCode");n.empty(),n.qrcode({text:e,width:134,height:134});var i=n.children(0)[0];if(i){var a=i.getContext("2d"),o=new Image;o.src="https://cdn.tianyancha.com/web-require-js/themes/18blue/images/logo2.jpg",o.onload=function(){a.drawImage(o,i.clientWidth/2-20,i.clientHeight/2-20,40,40)}}},p.changeActiveVipCheck=function(e){var t=this.$target,a=this,o=t.find(".order-invite-code").val();i.preVipOrder({state:e,inviteCode:o}).then(function(e){e&&"ok"==e.state&&e.data&&e.data.orderId?(t.find("._vip_order_id").val(e.data.orderId),t.find(".vipEndPrice").text("¬•".concat(e.data.finalPrice/100)),t.find(".discount").text(e.data.discount/100),a.startWeiXinPay()):n.showErrorMessage(e.message||"ÁîüÊàêËÆ¢ÂçïÂ§±Ë¥•!")},function(){n.showErrorMessage("ÁîüÊàêËÆ¢ÂçïÂ§±Ë¥•!")})},p.clearInviteCode=function(){var e=this.$target,t=this,o=e.find(".order-invite-code").val(),r=e.find(".vip_check_active").find(".vipstate").val()||"70";o&&i.getVipOrder({useraction:r,inviteCode:o,closeInviteCode:"true"}).then(function(i){if(i&&"warn"==i.state)return"‰Ω†Â§öÊ¨°ËæìÂÖ•ÈîôËØØ‰∏öÂä°Á†ÅÔºåÂ∑≤Ë¢´ÈîÅÂÆöÔºåËØ∑Á®çÁ≠âÂÜçËØï"==i.message?e.find(".order-invite-msg").html(i.message):void n.showErrorMessage(i.message||"ÁîüÊàêËÆ¢ÂçïÂ§±Ë¥•!");i&&(i.showInviteBox=!0);var o=a.render("vipPay",i);e.find(".js-vip-pay-content").html(o),e.find("._vip_order_id").val()&&t.startWeiXinPay()},function(){n.showErrorMessage("ÁîüÊàêËÆ¢ÂçïÂ§±Ë¥•!")})},p.toVipPrice=function(e){var t=this.$target,r=this,s=t.find(".order-invite-code").val(),c=t.find(".vip_check_active").find(".vipstate").val()||"";s?(o.show(),i.getVipOrder({useraction:c,inviteCode:s,closeInviteCode:"false"}).then(function(e){if(o.hide(),e&&"warn"==e.state)return"‰Ω†Â§öÊ¨°ËæìÂÖ•ÈîôËØØ‰∏öÂä°Á†ÅÔºåÂ∑≤Ë¢´ÈîÅÂÆöÔºåËØ∑Á®çÁ≠âÂÜçËØï"==e.message?t.find(".order-invite-msg").html(e.message):void n.showErrorMessage(e.message||"ÁîüÊàêËÆ¢ÂçïÂ§±Ë¥•!");e&&(e.showInviteBox=!0);var i=a.render("vipPay",e);t.find(".js-vip-pay-content").html(i),t.find("._vip_order_id").val()&&r.startWeiXinPay()},function(e){o.hide(),e&&e.responseJSON&&e.responseJSON.error?t.find(".order-invite-msg").html(e.responseJSON.error):n.showErrorMessage("ÁîüÊàêËÆ¢ÂçïÂ§±Ë¥•!")})):t.find(".order-invite-msg").html("ËØ∑ËæìÂÖ•‰∏öÂä°Á†Å")},p.showInviteValid=function(){var e=this.$target;e.find(".order-invite-code").val()&&e.find(".order-invite-state").removeClass("hide"),e.find(".order-invite-msg").empty()},t.fn.vipPay=function(e,n){e=e||{},n=n||{},this.each(function(){var i=t(this),a=i.attr("id");a||(a="vip-pay-".concat((new Date).getTime(),"-").concat(l.index),i.attr("id",a),l.index++),d[a]&&i.data("vip-start-state")||(d[a]=new u(i,e,n),l.isHaveOrder=!0)})},t(function(){t(".js-vip-pay").vipPay({isPageInit:!0})}),e.vipPay=l,l}),require(["window","jquery","lib/domReady"],function(e,t,n){function i(){var e=t(this).text(),n="ËØ¶ÁªÜ"===e||"ËØ¶ÊÉÖ"===e||"Êõ¥Â§ö"===e?"Êî∂Ëµ∑":"Êõ¥Â§ö";t(this).text(n).parent().find(".js-split-container").toggleClass("hidden"),t(this).parent().find(".js-full-container").toggleClass("hidden")}function a(){t("body [auto-folder]").each(function(){var e=t(this);"true"!=e.attr("is-load")&&(e.find("div").height()>t(this).attr("auto-folder")&&t(this).find("[folder-btn]").removeClass("hidden"),e.attr("is-load","true"))})}var o={};o.toggle=function(e){var n=t(e).text(),i="ËØ¶ÁªÜ"===n||"ËØ¶ÊÉÖ"===n||"Êõ¥Â§ö"===n?"Êî∂Ëµ∑":"Êõ¥Â§ö";t(e).text(i).parent().find(".js-split-container").toggleClass("hidden"),t(e).parent().find(".js-full-container").toggleClass("hidden")};var r=t(".js-shrink-container");r.find(".js-shrink-btn"),r.find(".js-split-container"),r.find(".js-full-container");e.folder=o;var s=function(){t(".js-split-container").each(function(e,n){var i=t(n);if(!i.data("folder")){i.data("folder",!0);var a=parseInt(i.attr("data-num"),10)||150,o=i.prev().clone(),r=!1;if(o.find(".tyc-num").length>0&&(r=!0),o.text().length<=a)return r?i.html('<span class="tyc-num">'.concat(o.html(),"</span>")):i.html(o.html()),void i.next().addClass("hidden");i.next().removeClass("hidden");var s=o.contents(),c=[],l=0;s.each(function(e,n){l>=a||(n.nodeType+""=="3"?l+n.length<=a?(c.push(n.nodeValue),l+=n.length):(c.push(n.nodeValue.slice(0,a-l)),l=a):n.nodeType+""=="1"&&(l+n.innerText.length<=a?(c.push(n.outerHTML),l+=n.innerText.length):(c.push(t(n).text(t(n).text().slice(0,a-l)).html()),l=a)))}),r?i.html('<span class="tyc-num">'.concat(c.join(""),"...")+"</span>"):i.html("".concat(c.join(""),"..."))}})};o.registerEvent=function(e){s(),a()},o.folderHandler=function(e){var n=t(e);"expand"==t(e).closest("[auto-folder]").attr("expand-type")?n.closest("[folder-btn]").addClass("hidden").closest("[auto-folder]").attr("style","").attr("expand-type","retract"):n.closest("[folder-btn]").addClass("hidden").closest("[auto-folder]").attr("style","").attr("expand-type","expand")},n(function(){t("body").on("click.js-shrink-btn",".js-shrink-btn",i);var n=document.documentElement;s(),a(),e.MutationObserver?(new MutationObserver(s).observe(n,{childList:!0,subtree:!0,attributes:!0}),new MutationObserver(a).observe(n,{childList:!0,subtree:!0,attributes:!0})):(t("body").on("DOMSubtreeModified",s),t("body").on("DOMSubtreeModified",a))})}),define("util/folder",function(){}),define("util/modalOpenCh",["window","jquery","lib/domReady","layout/main"],function(e,t,n,i){var a={};return a.openModal=function(e){var n=e||"",i=t('<div style="display: none" tyc-event-click tyc-event-ch="'.concat(n,'"></div>'));t("body").append(i),i.click(),i.remove()},a}),define("util/searchExportPay",["window","jquery","util/modal","util/query","util/ejs","util/loading","util/jquery.qrcode","modal/login","util/UserManage","util/modalOpenCh"],function(e,t,n,i,a,o,r,s,c,l){if(e.searchExportPay)return e.searchExportPay;var d=e.searchExportPayStore,u={};u.succClose=function(){"diamond"==t("#purchaseType").val()?e.location.href="".concat(e.serverDomain,"/usercenter/usersuccess?status=2&type=diamond"):e.location.href="".concat(e.serverDomain,"/usercenter/myorder")},u.opensearchExportPay=function(e,o){n.close();var r=e,s="",c="",l={size:"search-export-pay"};"watch"==o?(s="pc_monitor_upgrade_list_vipext",c=a.render("modal/watch_upgrade",r)):"companyEdit"===o?(s="pc_claim_modifyinfo_vipext",c=a.render("modal/added-service/company_edit_pay.ejs",r)):"contact"===o?c=a.render("modal/added-service/contact_pay_modal.ejs",r):"batch"===o?(s="pc_patchsearch_upload_vipext",c=a.render("modal/added-service/batch_pay_modal.ejs",r)):(l={size:"search-export-pay -new"},"advSearchExport"===o?s=2===e.payLevel?"pc_box_avdsearch_export_hz":"pc_box_avdsearch_export_vipext":"searchExport"===o&&(s=2===e.payLevel?"pc_searchinfo_export_hz":"pc_searchinfo_export_vipext"),c=a.render("modal/search_export_pay",r)),n.openByElementStr(c,l,function(){i.reportItchPointEvent(e.oid,s),t("[search-export-pay]").searchExportPay(l,r)},function(){u.clearTimer()})},u.startWeiXinPay=function(){var e=t("[search-export-pay]"),n=e.attr("id");d[n]&&d[n].startWeiXinPay(!0)},u.isHaveOrder=!1,u.index=0,u.cancel=function(){n.close()},u.startAliPay=function(n){var i=t(n).attr("data-href");if(t(n).attr("data-href"))e.open(i);else{var a=t(n).parents("[search-export-pay]"),o=a.attr("id");d[o]&&d[o].startAliPay()}},u.clearTimer=function(){if(t("#_modal_container").find("[search-export-pay]").length){var n=t("#_modal_container").find("[search-export-pay]"),i=n.attr("id");d[i]&&(d[i].clearTimer(),"batch"===n.attr("data-pay-modal")&&e.location.reload())}},u.clearAbandonTimer=function(){for(var e in d)!t("#".concat(e)).length&&d[e]&&d[e].clearTimer()},u.openDiamondOrder=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";i.purchaseHighLevel().then(function(e){if("ok"==e.state&&e.data){var i=e.data,a={oid:i.orderId,price:i.price,number:i.exportCount,priceFall:i.priceFall,excelId:t,count:n};u.purchaseDiamond(a)}})},u.purchaseDiamond=function(e){n.close();var i=e,o={size:"search-export-pay -new"},r=a.render("modal/purchase_diamond_pay",i);n.openByElementStr(r,o,function(){t("[search-export-pay]").searchExportPay(o,i)},function(){u.clearTimer()})},u.showSuccessMsg=function(){n.close(),n.showSuccessMessage("ÊîØ‰ªòÊàêÂäüÔºåÂèØÂâçÂæÄ„ÄêÂèëÁ•®ÁÆ°ÁêÜ„ÄëÂºÄÂÖ∑ÂèëÁ•®"),u.succClose()},u.clearServeCode=function(e){var n=t(e).parents("[search-export-pay]"),i=n.attr("id");d[i]&&d[i].clearServeCode()},u.setServeCode=function(e){var n=t(e).parents("[search-export-pay]"),i=n.attr("id");d[i]&&d[i].setServeCode()},u.showInviteValid=function(e){var n=t(e).parents("[search-export-pay]"),i=n.attr("id");d[i]&&d[i].showInviteValid()},d||(d=e.searchExportPayStore={});var p=function(e,t,n){this.$target=e,this.options=t,this.renderObj=n,this.wxPolling=null,e.find(".orderId").val()&&setTimeout(function(){u.startWeiXinPay(!0)}),e.data("overseas-start-state","true")},f=p.prototype;return f.pollingGetState=function(){var a=this,o=this.$target;i.weiXinPayPolling(o.find(".orderId").val()).then(function(i){if("ok"===i.state){if(i.data+""!="1")return void(a.wxPolling=setTimeout(function(){a.pollingGetState(o.find(".orderId").val())},5e3));if("companyEdit"===o.attr("data-pay-modal"))n.close(),n.showSuccessMessage("ÊîØ‰ªòÊàêÂäü");else if("contact"===o.attr("data-pay-modal"))n.close(),n.showSuccessMessage("ÊîØ‰ªòÊàêÂäü"),contact.addedVipSend();else if("batch"===o.attr("data-pay-modal")){var r=t("#modal_yellow_batch").val();1===parseInt(r)&&l.openModal("BatchQuery.DataExport.YellowDiamondBuy"),n.close(),n.showSuccessMessage("ÊîØ‰ªòÊàêÂäü");var s=t("#modal_excelId").val();s&&(e.location.href="".concat(e.serverDomain,"/batch/").concat(s))}else u.cancel(),u.showSuccessMsg()}})},f.clearTimer=function(){var e=this.$target,t=this,n=e.attr("id");clearTimeout(t.wxPolling),t.wxPolling=null,delete d[n]},f.startWeiXinPay=function(e){var t=this.$target,n=this;n.initAliPay(),i.weiXinPayInfo(t.find(".orderId").val()).then(function(i){"ok"===i.state&&t.find("[wx-qrcode]").length&&(n.initWeiXinQrcode(i.data),e&&n.pollingGetState(t.find(".orderId").val()))})},f.startAliPay=function(){var t=this.$target,n=t.find(".orderId").val();n&&i.alipayInfo(n).then(function(t){"ok"===t.state&&e.open(t.data)})},f.initAliPay=function(){var e=this.$target,t=e.find(".orderId").val();e.find("[zfb-box]").attr("data-href",""),t&&i.alipayInfo(t).then(function(t){"ok"===t.state&&e.find("[zfb-box]").attr("data-href",t.data)})},f.initWeiXinQrcode=function(e){var t=this.$target,n=t.find("[wx-qrcode]");n.empty(),n.qrcode({text:e,width:134,height:134});var i=n.children(0)[0];if(i){var a=i.getContext("2d"),o=new Image;o.src="https://cdn.tianyancha.com/web-require-js/themes/18blue/images/logo2.jpg",o.onload=function(){a.drawImage(o,i.clientWidth/2-20,i.clientHeight/2-20,40,40)}}},t.fn.searchExportPay=function(e,n){e=e||{},n=n||{},this.each(function(){var i=t(this),a=i.attr("id");a||(a="search-export-pay-".concat((new Date).getTime(),"-").concat(u.index),i.attr("id",a),u.index++),d[a]&&i.data("overseas-start-state")||(d[a]=new p(i,e,n))})},t(function(){t("[search-export-pay]").searchExportPay({isPageInit:!0})}),e.searchExportPay=u,u}),define("modal/watch",["window","lib/domReady","jquery","util/modal","util/ejs","util/query","util/UserManage","util/loading","modal/login","util/vippay","util/folder","util/searchExportPay","util/vipcontent"],function(e,t,n,i,a,o,r,s,c,l,d,u,p){var f={};f.listenStatusChange=function(e,t){var i=n("[watch-btn]"),a=n("[is-monitor]"),o="È£éÈô©ÁõëÊéß",r="Â∑≤ÁõëÊéß";t&&(t.$parent&&t.$parent.length&&(i=t.$parent.find("[watch-btn]"),a=t.$parent.find("[is-monitor]")),o=t.defaultText,r=t.successText),e?(i.removeClass("-active").find("span").html(r),i.find(".button-icon").attr("class","tic tic-yijiankong button-icon"),a.val("true"),n("[watch-hide]").addClass("hidden")):(i.addClass("-active").find("span").html(o),i.find(".button-icon").attr("class","tic tic-monitor button-icon"),a.val("false"),n("[watch-hide]").removeClass("hidden"))},f.cancel=function(){i.close()},f.openDelWatch=function(e,t){e=e||{},t=t||{},e.eventId=t;var n=a.render("watch/del_watch",e);i.openByElementStr(n,{size:"w360"})},f.monitorLimit=function(e){e=e||{};var t=a.render("watch/monitor_limit",e);i.openByElementStr(t,{size:"w250"})},f.delWatch=function(t,a,r){var s={type:t,gid:a,modify:"del"};2==t&&(s.extraId=r),o.modifyMonitor(s).then(function(t){t&&"ok"==t.state&&t.data?(i.showSuccessMessage("ÂèñÊ∂àÊàêÂäüÔºÅ"),f.listenStatusChange(!1),i.close(),common.jumpNoUserAction(),n("#_container_watchlistPage").length&&e.watchPageChange()):i.showErrorMessage(t.message||"ÂèñÊ∂àÂ§±Ë¥•ÔºÅ")},function(){i.showErrorMessage("ÂèñÊ∂àÂ§±Ë¥•ÔºÅ")})},f.delAnalyzeWatch=function(t,a,r){var s={type:t,gid:a,modify:"del"};2==t&&(s.extraId=r),o.modifyMonitor(s).then(function(t){t&&"ok"==t.state&&t.data?(i.showSuccessMessage("ÂèñÊ∂àÊàêÂäüÔºÅ"),f.listenStatusChange(!1,{$parent:n(".card-item[data-cid=".concat(a,"]")),defaultText:"Ê∑ªÂä†ÁõëÊéß",successText:"Â∑≤ÁõëÊéß"}),i.close(),common.jumpNoUserAction(),n("#_container_watchlistPage").length&&e.watchPageChange()):i.showErrorMessage(t.message||"ÂèñÊ∂àÂ§±Ë¥•ÔºÅ")},function(){i.showErrorMessage("ÂèñÊ∂àÂ§±Ë¥•ÔºÅ")})},f.modifyWatch=function(e,t,s){e=e||{};var l=n("[is-monitor]"),d="";t&&"object"===_typeof(t)&&(d=t,l=n(d.$parent).find("[is-monitor]"));var u=l.val();if(r.logged())if("true"==u)if(d){var p=a.render("watch/analyze_del_watch",e);i.openByElementStr(p,{size:"w360"})}else f.openDelWatch(e,s);else e.modify="add",o.modifyMonitor(e).then(function(e){e&&e.state&&t&&n.isFunction(t)&&t.call(this,e),e&&"ok"==e.state&&e.data?e.data.modifyMonitor?(f.listenStatusChange(!0,d),e.data.remindEmail?f.openSetEmail():i.showSuccessMessage("ÁõëÊéßÊàêÂäüÔºÅ")):i.showErrorMessage("ÁõëÊéßÂ§±Ë¥•ÔºÅ"):e&&"warn"==e.state&&"overLimit100"==e.special?1==e.data.monitorLevel?f.getWatchConfig():f.monitorLimit():i.showErrorMessage(e.message||"ÁõëÊéßÂ§±Ë¥•ÔºÅ")});else c.showLoginModal({loginUrl:common.addUserAction("watch")})},f.openSetEmail=function(){var e=a.render("watch/first_set_email",{});i.openByElementStr(e,{size:"email-watch"})},f.setEmail=function(e){var t=n(".setemailname").val();if(t&&!/@\S+/.test(t))i.showErrorMessage("ËØ∑ËæìÂÖ•Ê≠£Á°ÆÁöÑÈÇÆÁÆ±");else{var a={};a.email=t,o.setWatchEmail(a).then(function(e){s.hide(),i.close(),e&&"ok"==e.state?(i.showSuccessMessage("Êìç‰ΩúÊàêÂäüÔºÅ"),n(".user-watch").length&&setTimeout(function(){location.reload()},2e3)):e.message?i.showErrorMessage(e.message):i.showErrorMessage("Êìç‰ΩúÂ§±Ë¥•")},function(){s.hide(),i.showErrorMessage("ËØ∑Á®çÂêéÈáçËØï")})}},f.openPopup=function(e,t){var r=JSON.parse(n(t).prev().html())||{},s=a.render(e,{items:r}),c=n(t).data("businessid"),l=n("#_watch_gid").val()||n(t).data("gid");"modal/briefCancelAnnouncements"==e?(s=a.render(e,r),i.openByElementStr(s,{})):"modal/announcement"==e?o.judicialCaseRelated(c,"court_notices",l).then(function(t){t&&(s=a.render(e,{items:r,relatedData:t,type:"court_notices"}),i.openByElementStr(s,{}))}):i.openByElementStr(s,{})},f.openPopupById=function(e,t){t&&o.getjudicialAidDetail({id:t}).then(function(t){if(s.hide(),t&&"ok"==t.state&&t.data){var n=a.render(e,{items:t.data,popuptype:e});i.openByElementStr(n,{})}},function(e){s.hide(),console.log(e)})},f.openTmDetail=function(e,t){e&&t&&(t="".concat(t.split("-")[0],"-"),o.getTmDetail({regNo:e,tmClass:t}).then(function(e){if(s.hide(),e&&"ok"==e.state&&e.data){var t=a.render("modal/tmDetail",{items:e.data});i.openByElementStr(t)}},function(e){s.hide(),console.log(e)}))},f.showDetail=function(e,t,i){"ËØ¶ÊÉÖ"===n(e).text()?(n(e).closest("td").find(".js-content").text(t),n(e).text("Êî∂Ëµ∑")):(n(e).closest("td").find(".js-content").text("".concat(t.substring(0,i),"...")),n(e).text("ËØ¶ÊÉÖ"))},f.toogleTimeline=function(e){n(e).parents(".panel").hasClass("-collapse")?n(e).parents(".panel").toggleClass("-collapse").find(".collapse-box").slideDown("fast",function(){}):n(e).parents(".panel").toggleClass("-collapse").find(".collapse-box").slideUp("fast",function(){})},f.addWatch=function(e){var t={};t.type=n(e).attr("watch-type"),t.extraId=n(e).attr("extra-id"),t.gid=n(e).attr("gid"),f.modifyWatch(t,null)},f.openLandTransferDetail=function(e){e&&o.getLandTransferDetail({id:e}).then(function(e){if(s.hide(),e&&"ok"==e.state&&e.data){var t=a.render("modal/landTransfer",{items:e.data});i.openByElementStr(t)}},function(e){s.hide(),console.log(e)})},f.watchModalMap={13:{name:"‰∏äÂ∏ÇÂÖ¨Âëä",modalEjs:"",isNeedQuery:!1,isJumpUrl:!0,urlTpl:"{url}"},33:{name:"Â§±‰ø°Ë¢´ÊâßË°å‰∫∫",modalEjs:"modal/dishonestinfoDetail",isNeedQuery:!0},34:{name:"Ë¢´ÊâßË°å‰∫∫",modalEjs:"modal/zhixingDetail",isNeedQuery:!0},36:{name:"Âè∏Ê≥ïÂçèÂä©",modalEjs:"modal/judicialAid",isNeedQuery:!0},410:{name:"Ë°åÊîøÂ§ÑÁΩö-‰ø°Áî®‰∏≠ÂõΩ",modalEjs:"modal/punishCreditchinaPopup",isNeedQuery:!1},42:{name:"Ë°åÊîøÂ§ÑÁΩö„ÄêÂ∑•ÂïÜÂ±Ä„Äë",modalEjs:"modal/punishPopup",isNeedQuery:!0},45:{name:"Âä®‰∫ßÊäµÊäº",modalEjs:"modal/mortgage",isNeedQuery:!1},46:{name:"Ê¨†Á®éÂÖ¨Âëä",modalEjs:"modal/owntax",isNeedQuery:!1},47:{name:"Âè∏Ê≥ïÊãçÂçñ",modalEjs:"",isNeedQuery:!1,isJumpUrl:!0},51:{name:"ÊãõÊäïÊ†á",modalEjs:"",isNeedQuery:!1,isJumpUrl:!0,urlTpl:"bid/{uuid}"},52:{name:"ÂÄ∫Âà∏‰ø°ÊÅØ",modalEjs:"modal/bond",isNeedQuery:!1},57:{name:"‰∫ßÂìÅ‰ø°ÊÅØ",modalEjs:"",isNeedQuery:!0,isJumpUrl:!0,urlTpl:"product/{uuid}"},58:{name:"ËøõÂá∫Âè£‰ø°Áî®",modalEjs:"modal/importAndExport",isNeedQuery:!1},512:{name:"Ë°åÊîøËÆ∏ÂèØ-‰ø°Áî®‰∏≠ÂõΩ",modalEjs:"modal/licensingXyzg",isNeedQuery:!1},79:{name:"ÈÄÅËææÂÖ¨Âëä",modalEjs:"modal/sendAnnouncementsPopup",isNeedQuery:!0},81:{name:"Á®éÊî∂ËøùÊ≥ï",modalEjs:"modal/taxContravention",isNeedQuery:!0},82:{name:"ÁÆÄÊòìÊ≥®ÈîÄ",modalEjs:"modal/briefCancelAnnouncements",isNeedQuery:!1},83:{name:"ÁéØ‰øùÂ§ÑÁΩö",modalEjs:"modal/envirPunish",isNeedQuery:!0},84:{name:"ÂÖ¨Á§∫ÂÇ¨Âëä",modalEjs:"modal/publicnoticePopup",isNeedQuery:!0},85:{name:"ÂúüÂú∞ÊäµÊäº",modalEjs:"modal/landMortgage",isNeedQuery:!0},86:{name:"ÂúüÂú∞ËΩ¨ËÆ©",modalEjs:"modal/landTransfer",isNeedQuery:!0},88:{name:"Áîµ‰ø°ËÆ∏ÂèØ",modalEjs:"modal/teleCommunicationLicensePopup",isNeedQuery:!0}},f.openContentDetail=function(e,t){var i=(n(t),f.watchModalMap[e]);i&&(i.isJumpUrl||(i.isNeedQuery?f.queryDataDetail(i.modalEjs,t):f.openPopup(i.modalEjs,t)))},f.queryDataDetail=function(e,t){var r=n(t),s=r.attr("data-businessId"),c=r.attr("data-id"),l=n("#_watch_gid").val()||r.attr("data-gid"),d=r.attr("data-assid"),u="",p={},f=!1,h="";switch(e){case"modal/judicialAid":c=r.attr("data-assId"),u=o.getjudicialAidDetail({id:c}),f=!0,h="company_judicial_assistance_info",p={size:"slider-warp -related"};break;case"modal/dishonestinfoDetail":u=o.getDishonestinfoDetail(c),p={size:"slider-warp -related"},f=!0,h="dishonestinfo";break;case"modal/zhixingDetail":u=o.getZhixingDetail(c),p={size:"slider-warp -related"},f=!0,h="zhixinginfo";break;case"modal/sendAnnouncementsPopup":u=o.getSendAnnouncementsByBusinessId(s),f=!0,h="send_announcement";break;case"modal/courtRegisterPopup":c=r.attr("data-cid"),u=o.getCourtRegisterByBusinessId(s,c),f=!0,h="court_register",p={size:"slider-warp -related"};break;case"modal/taxContravention":u=o.getTaxContraventionById(s),f=!1;break;case"modal/envirPunish":u=o.getEnvironmentalPenaltyById(s),f=!1;break;case"modal/publicnoticePopup":u=o.getPublicNoticeById(s),f=!1;break;case"modal/landMortgage":u=o.getLandMortgageById(s),f=!1;break;case"modal/landTransfer":u=o.getLandTransferDetail({id:c}),f=!1;break;case"modal/landPublicity":u=o.getLandPublicityDetail({id:c}),f=!1;break;case"modal/teleCommunicationLicensePopup":c=r.attr("data-cid"),u=o.teleCommunicationLicenseDetail(s,c),f=!1;break;case"modal/punishPopup":c=r.attr("data-cid"),u=o.getPunishDetail(s,c),f=!1}u.then(function(t){if(t&&"ok"===t.state&&t.data){var n="";f?("dishonestinfo"==h&&(s=c),"company_judicial_assistance_info"==h&&(s=d),o.judicialCaseRelated(s,h,l).then(function(o){o&&(n=a.render(e,{items:t.data,relatedData:o}),i.openByElementStr(n,p))})):(n=a.render(e,{items:t.data}),i.openByElementStr(n,p))}})},f.timelinePageChange=function(e,t){var i=n(t).closest(".pagination").attr("change-type"),o=n(t).closest(".pagination-virtual").attr("page-size");e=e||1;var r=n(t).closest(".collapse-box").find("table:not(.table-toco)");e<2?r.find(".watch-tr").addClass("-hide-tr").filter(":lt(".concat(e*o,")")).removeClass("-hide-tr"):r.find(".watch-tr").addClass("-hide-tr").filter(":lt(".concat(e*o,")")).filter(":gt(".concat((e-1)*o-1,")")).removeClass("-hide-tr");var s=a.render("pagination_company",{currentPage:e,total:n(t).closest(".pagination-virtual").attr("total"),perPage:o,changeType:i,onChange:n(t).closest(".pagination-virtual").attr("onChange")});f.goToElem(n(t).closest(".panel"),n(t).closest(".watch-block").attr("fix-height")),n(t).closest(".collapse-box").find(".pagination-virtual").html(s)},f.navTop=n(".tyc-header").height(),f.goToElem=function(e,t,i){i=i||600,t=t||0,e&&e.length&&n("html, body").animate({scrollTop:e.offset().top-f.navTop-t},i)},f.getWatchConfig=function(){o.getWatchSysConfig().then(function(e){e.monitorUpgrade&&1==e.monitorUpgrade.enabled?f.upgradeGuide():f.monitorLimit()})},f.upgradeGuide=function(){o.getupgradeWatchWindow().then(function(e){if("ok"==e.state&&e.data){var t=e.data||{},o=a.render("watch/watch_upgrade",{data:t});i.openByElementStr(o,{size:"watch460"},function(){n(".watch-upgrade-btn").click(function(){f.openWatchPay()})}),h("MonitorUpgrade.Popup.Show")}else f.monitorLimit()})},f.openWatchPay=function(){s.show(),o.getupgradeWatchNum().then(function(e){if("ok"==e.state&&e.data&&e.data.upgradeList&&e.data.upgradeList.length){var t={};t.num=e.data.upgradeList[0].monitorLimit||0,o.getupgradeWatchOrder(t).then(function(t){s.hide();var n=e.data.upgradeList[0];"ok"==t.state&&t.data?(n.oid=t.data.orderId,u.opensearchExportPay(n,"watch")):"warn"==t.state?i.showWarningMessage("ÊÇ®ÂΩìÂâçÂ∑≤ÊòØÊúÄÂ§ßÊï∞Èáè"):i.showErrorMessage("ËØ∑Á®çÂêéÈáçËØïÔºÅ")},function(e){i.showErrorMessage("ËØ∑Á®çÂêéÈáçËØïÔºÅ")})}else s.hide(),i.showErrorMessage(e.message||"ËØ∑Á®çÂêéÈáçËØïÔºÅ")},function(e){s.hide(),i.showErrorMessage("ËØ∑Á®çÂêéÈáçËØïÔºÅ")})};var h=function(e){var t=e||"",i=n('<div style="display: none" tyc-event-click tyc-event-ch="'.concat(t,'"></div>'));n("body").append(i),i.click()};return e.goudiPageV2PopUp=function(e,t,r,s,c,l){if(e){c||(c=n(l).closest(".watch-block").attr("data-gid"));var d={location:t,area:r,gid:c};o.getPurchaseLandV2Detail(e).then(function(e){if(e&&"ok"===e.state&&e.data)if(d.purchaseLand=e.data,s&&"1"===s){d.relativeList=null;var n=a.render("modal/goudiPageV2",{items:d});i.openByElementStr(n)}else o.getLandPublicityLocationArea({location:t,area:r,gid:c}).then(function(e){if(e&&"ok"===e.state){d.relativeList=e.data;var t=a.render("modal/goudiPageV2",{items:d});i.openByElementStr(t)}},function(){d.relativeList=null;var e=a.render("modal/goudiPageV2",{items:d});i.openByElementStr(e)})},function(e){console.log(e),i.showErrorMessage("ÁΩëÁªúË∂ÖÊó∂ÔºåËØ∑Á®çÂêéÈáçËØï")})}},e.openLandPublicityDetail=function(e,t,r,s,c,l){if(e){c||(c=n(l).closest(".watch-block").attr("data-gid"));var d={location:t,area:r,gid:c};o.getLandPublicityDetailV3(e).then(function(e){if(e&&"ok"==e.state&&e.data)if(d.landPublicity=e.data,s&&"1"===s){d.relativeList=null;var n=a.render("modal/landPublicity",{items:d});i.openByElementStr(n)}else o.getPurchaseLandLocation({location:t,area:r,gid:c}).then(function(e){if(e&&"ok"===e.state){d.relativeList=e.data;var t=a.render("modal/landPublicity",{items:d});i.openByElementStr(t)}},function(){d.relativeList=null;var e=a.render("modal/landPublicity",{items:d});i.openByElementStr(e)})},function(e){console.log(e),i.showErrorMessage("ÁΩëÁªúË∂ÖÊó∂ÔºåËØ∑Á®çÂêéÈáçËØï")})}},e.getModaPageObj={landPublicitys:{ps:10,queryParam:"gid",queryExtraParam:"area",thirdParam:"location",ejs:"company/landPublicitys",query:"getLandPublicityLocationArea"},goudi:{ps:10,queryParam:"gid",queryExtraParam:"area",thirdParam:"location",ejs:"company/goudi",query:"getPurchaseLandLocation"}},e.modalPageChange=function(e,t,i){if(i||(i=n(t).parents(".pagination").attr("change-type")),i&&getModaPageObj[i]){var r=getModaPageObj[i],c=n(t).closest("#_container_modal_".concat(i)).attr("data-id"),l={pageNum:e,pageSize:r.ps};l[r.queryParam]=c,r.queryExtraParam&&(l[r.queryExtraParam]=n(t).closest("#_container_modal_".concat(i)).attr("data-extra-id")),r.thirdParam&&(l[r.thirdParam]=n(t).closest("#_container_modal_".concat(i)).attr("data-third")),o[r.query](l).then(function(o){if(s.hide(),o&&"ok"==o.state&&o.data){o.data.pn=e;var l=a.render(r.ejs,{items:o.data,queryId:c,customPageSize:r.ps});n(t).closest("#_container_modal_".concat(i)).html(l).animate({scrollTop:0},600)}},function(e){s.hide(),console.log(e)})}},e.openVipOrLogin=function(e){if(!r.logged())return void c.showLoginModal({loginUrl:""});p.showUiVip({ejsName:"vip/mask"},{ipFlag:e,tyceventname:"",demoUrl:"",headTitle:"Âè∏Ê≥ïËß£Êûê",title:"Êàê‰∏∫VIP‰ºöÂëòÔºåÂç≥ÂèØÂÖçË¥πÊü•ÁúãÂè∏Ê≥ïËß£Êûê",name:"Âè∏Ê≥ïËß£Êûê",isClose:!0,path:"vip/",width:"750px",viptype:9,introImgUrl:"https://cdn.tianyancha.com/web-require-js/public/images/vip_intro_sfjx.png"})},e.watch=f,t(function(){var e=n("#_companyId").val();n('[tyc-event-ch="CompangyDetail.Monitor"]').length&&o.company_monitor_checkMonitor(e).then(function(e){"ok"===e.state&&e.data&&e.data.isMonitor&&f.listenStatusChange(!0)})}),f}),define("modal/risk",["window","jquery","util/modal","util/ejs","util/query","util/loading","modal/watch"],function(e,t,n,i,a,o,r){var s={};return e.risk?e.risk:(s.tabActiveChange=function(e){e&&(t(e).parent().find(".risk-tab").removeClass("-active"),t(e).addClass("-active"))},s.pagechange=function(e,i){var r=t(i).parents(".pagination").attr("risk-id");r&&a.getRiskDetailNew({ps:5,pn:e,id:r}).then(function(e){o.hide(),e?t(i).parents(".riskbox").find(".collapse").html(e):n.showErrorMessage("ÁΩëÁªúË∂ÖÊó∂ÔºåËØ∑Á®çÂêéÈáçËØï")},function(e){n.showErrorMessage("ÁΩëÁªúË∂ÖÊó∂ÔºåËØ∑Á®çÂêéÈáçËØï"),o.hide()})},s.riskExpand=function(e,n){t(e).parents(".riskbox").find(".collapse").hasClass("in")?(t(e).parents(".riskbox").find(".collapse").removeClass("in"),t(e).parents(".riskbox").find(".riskbox-active-title").removeClass("riskbox-active-title"),t(e).find("span i").removeClass("tic-angle-top").addClass("tic-angle-down")):(t(".riskboxouter .collapse").removeClass("in"),t(".riskbox-active-title").removeClass("riskbox-active-title"),t(".riskboxouter .tic-angle-top").removeClass("tic-angle-top").addClass("tic-angle-down"),t(e).find("i").attr("class","tic tic-spinner tic-pulse"),a.getRiskDetailNew({id:n,ps:5,pn:1}).then(function(n){o.hide(),t(e).parents(".riskbox").find(".collapse").html(n).addClass("in"),t(e).parents(".riskbox").find(".riskbox-title").addClass("riskbox-active-title"),t(e).find("span i").attr("class","tic tic-angle-top")},function(e){o.hide()}))},s.openPopup=function(e,n){var a=t(n).prev().html(),o=i.render("risk/riskpopup",{items:JSON.parse(a),popuptype:e});t(".risk-box-left").css("left","-860px"),t(".risk-box-right").css("left","0px").find(".risk-modal-content").html(o)},s.openPopupById=function(e,n){n&&a.getjudicialAidDetail({id:n}).then(function(n){if(o.hide(),n&&"ok"==n.state&&n.data){var a=i.render("risk/riskpopup",{items:n.data,popuptype:e});t(".risk-box-left").css("left","-860px"),t(".risk-box-right").css("left","0px").find(".risk-modal-content").html(a)}},function(e){o.hide(),console.log(e)})},s.returnleft=function(){t(".risk-box-left").css("left","0px"),t(".risk-box-right").css("left","860px")},s.titleJump=function(e,n){if(t(n).hasClass("-active")||(t(".risk-tab").removeClass("-active"),t(n).addClass("-active")),0==e)return t(".riskboxouter").animate({scrollTop:0},600);1==e?t(".riskboxouter").animate({scrollTop:t("#riskPopup0").height()+20},600):2==e&&t(".riskboxouter").animate({scrollTop:t("#riskPopup0").height()+t("#riskPopup1").height()+40},600)},s.addMask=function(){t(".riskContent").length&&t(".riskContent em").each(function(e,n){/\*{12}/.test(t(n).html())?t(n).html('<span class="reason"></span><img class="click_mask_img" src="https://cdn.tianyancha.com/web-require-js/public/images/risk-mask-long.png"/>'):/\*{7}/.test(t(n).html())&&t(n).html('<span class="message"></span><img class="click_mask_img" src="https://cdn.tianyancha.com/web-require-js/public/images/risk-mask-short.png"/>')})},s.toggleWatch=function(){var e=t(".tips-watch").attr("gid"),i=t(".tips-watch").attr("extra-id");if(!e)return void n.showErrorMessage("Á≥ªÁªüÂºÇÂ∏∏ÔºÅ");i?r.modifyWatch({type:2,gid:e,extraId:i}):r.modifyWatch({type:1,gid:e})},e.risk=s,t(function(){s.addMask()}),s)}),define("util/vip_scroll",["jquery","lib/domReady","layout/main","util/jquery.qrcode","modal/login","modal/risk","util/query","util/vipcontent","util/folder"],function(e,t,n,i,a,o,r,s,c){function l(e,t){var n=e.find(".panel-carousel-container"),i=n.find(".panel-carousel-item"),a=i.eq(0).height();n.attr("data-animate-index",0),i.eq(0).css("transform","translateY(0px)"),i.length>1&&setInterval(function(){var e=n.attr("data-animate-index"),o=e;i.eq(o).css("transform","translateY(-".concat(a,"px)")),e++,e>i.length-1&&(e=0),n.attr("data-animate-index",e),i.removeClass("-reset").eq(e).css("transform","translateY(0px)"),setTimeout(function(){i.eq(o).addClass("-reset").removeAttr("style")},t/2)},t)}var d={};return d.getGuideData=function(t){var t=t||3;r.getGuideInformation(t).then(function(t){if("ok"===t.state&&t.data&&t.data.shuffling.length){var n=e(".check-warp  .vip-news-information"),i=ejs.render("vip/vip_scroll_item",{list:t.data.shuffling});n.length&&n.each(function(t,n){if(e(n).is(".hidden")){var a=e(n).parent().parent().parent();a.length&&a.is(".body")&&a.css("padding-top","0px"),e(n).find(".panel-carousel-container").html(i),e(n).removeClass("hidden"),l(e(n),3e3)}})}})},d}),define("util/vipActivity",["jquery","util/query"],function(e,t){function n(e,t){function n(){(e-=1e3)<=0&&(clearInterval(a),window.location.reload());var n,i,o,r,s=e;n=Math.floor(s/864e5),s%=864e5,i=Math.floor(s/36e5),s%=36e5,o=Math.floor(s/6e4),s%=6e4,r=Math.floor(s/1e3),n>=0&&n<10&&(n="0".concat(n)),i>=0&&i<10&&(i="0".concat(i)),o>=0&&o<10&&(o="0".concat(o)),r>=0&&r<10&&(r="0".concat(r)),t(n,i,o,r)}e&&(n(),a&&clearInterval(a),a=setInterval(n,1e3))}if(window.vipActivity)return window.vipActivity;var i={},a=null;return i.showCountDown=function(){t.getVipAcitity().then(function(t){var i=t.activityInfo&&t.activityInfo.activityInfo||null,a=i&&i.countdown?i.countdown:null;a&&n(parseInt(a),function(t,n,i,a){var o="".concat('<span class="tip">Ë∑ùÁªìÊùü</span><span class="time">').concat(t,"</span>")+'<span class="unit">Â§©</span>'+'<span class="time">'.concat(n,"</span>")+'<span class="unit">Â∞èÊó∂</span>'+'<span class="time">'.concat(i,"</span>")+'<span class="unit">ÂàÜ</span>';0===parseInt(t)&&(o="".concat('<span class="tip">Ë∑ùÁªìÊùü</span><span class="time">').concat(n,"</span>")+'<span class="unit">Êó∂</span>'+'<span class="time">'.concat(i,"</span>")+'<span class="unit">ÂàÜ</span>'+'<span class="time">'.concat(a,"</span>")+'<span class="unit">Áßí</span>'),e(".activity-clock").html(o)})})},i}),define("util/vipcontent",["window","jquery","util/modal","util/ejs","modal/login","util/query","util/vippayfriends","util/ui-vippay","util/vipRenew","util/vip_business","util/UserManage","util/vip_scroll","util/vipActivity"],function(e,t,n,i,a,o,r,s,c,l,d,u,p){function f(e){return e=parseInt(e),e>=10?e+2*Math.floor(e/10):e}var h={};return h.changeActiveVipCheck=function(e){t(e).parent().find(".vip_check_box").removeClass("vip_check_active").find(".iconhide").removeClass("in"),t(e).addClass("vip_check_active").find(".iconhide").addClass("in")},h.changeActivePopVipCheck=function(e){t(e).parent().find(".vip_check_box").removeClass("vip_check_active").find(".iconhide").removeClass("in"),t(e).addClass("vip_check_active").find(".iconhide").addClass("in"),t(".vipEndPrice").text("¬•".concat(t(e).find(".finalPrice").val()))},h.showVip=function(e,o){if(e=e||{},o=o||{},e.size=e.size||"vipcontent",!d.logged())return a.showLoginModal();o.isLogin=!0,e.ejsName||(e.ejsName="vipContent");var r=i.render(e.ejsName,o);e.renderParent?(t(e.renderParent).html(r),t(".js-vip-pay").vipPay(e,o)):n.openByElementStr(r,e,function(){t(".js-vip-pay").vipPay(e,o)},function(){vippay.clearTimer()})},h.showUiVip=function(r,l){if(r=r||{},l=l||{},r.size=r.size||"vipcontent",!d.logged())return a.showLoginModal();l.isLogin=!0,r.ejsName||(r.ejsName="ui-vippayright"),o.getVipPriceList().then(function(e){e&&(l.authInfo=e.authInfo,l.vipPrice=e.vipPrice,e.vipPrice&&(l.vipList=e.vipPrice.vipPrice)),l.vipPrice&&l.vipPrice.couponText&&(l.headTitle=l.vipPrice.couponText),o.getVipAcitity().then(function(e){l.activityInfo=e&&e.activityInfo||null,e&&(l.bodyClass+=" -activity");var a=i.render(r.ejsName,l);r.renderParent?(t(r.renderParent).html(a),t("[vip-renew]").vipRenew(r,l),t("[vip-pay]").uiVipPay(r,l)):n.openByElementStr(a,r,function(){t("[vip-renew]").vipRenew(r,l),t("[vip-pay]").uiVipPay(r,l)
},function(){s.clearTimer(),c.clearTimer()}),p.showCountDown(),u.getGuideData(3)})}),r.eventName&&e.stget(r.eventName)},h.renewalVipBussiness=function(e,r){if(e=e||{},r=r||{},e.size=e.size||"vipcontent",!d.logged())return a.showLoginModal({loginUrl:common.addUserAction(r.index),entertype:"vipbusiness",enterUrl:"/vipbusiness"});r.isLogin=!0,e.ejsName||(e.ejsName="vip/business"),o.renewalsVipBussinessOrder({mealIds:r.mealIds,type:r.type,inviteCode:""}).then(function(a){if(a&&"ok"==a.state&&a.data&&a.data.orderId){t.extend(r,a.data);var s=common.parseQueryString(),c=s.itchpointflag;c&&o.reportItchPointEvent(a.data.orderId,c);var d=i.render(e.ejsName,r);n.openByElementStr(d,e,function(){t("[vip-business]").vipBusiness(e,r)},function(){l.clearTimer()})}else n.showErrorMessage("ÁΩëÁªúÂºÇÂ∏∏ÔºåËØ∑Á®çÂêéÈáçËØï!")},function(){n.showErrorMessage("ÁΩëÁªúÂºÇÂ∏∏ÔºåËØ∑Á®çÂêéÈáçËØï!")})},h.confirmBusinessNum=function(e,n){var i;i=t(e?e:"#_comfirm_btn"),a.checkUserStatus().then(function(){var e=parseInt(i.parents(".vip-business").find(".business-count").val()),t=parseInt(i.parents(".vip-business").find("#businessType").val()),a=d.getUserInfo().mobile,o=(new Date).getTime()+31536e6,r=i.parents(".vip-business").find(".choose-num-box  #_mealId").val(),s=i.parents(".vip-business").find(".choose-num-box  #_mealNum").val();if(r&&s){var c=[];c.push(parseInt(r)),h.renewalVipBussiness({},{mealIds:c,index:s,type:t,sub:a,expireTime:o})}else n&&"isActivity"===n&&(e=f(e)),h.showVipBussiness({},{sub:a,index:e,type:t,expireTime:o})})},h.showVipBussiness=function(e,r){if(e=e||{},r=r||{},e.size=e.size||"vipcontent",!d.logged())return a.showLoginModal({loginUrl:common.addUserAction(r.index),entertype:"vipbusiness",enterUrl:"/vipbusiness"});r.isLogin=!0,e.ejsName||(e.ejsName="vip/business"),o.getVipBussinessOrder({num:r.index,type:r.type,inviteCode:""}).then(function(a){if(a&&"ok"==a.state&&a.data&&a.data.orderId){t.extend(r,a.data);var s=common.parseQueryString(),c=s.itchpointflag;c&&o.reportItchPointEvent(a.data.orderId,c);var d=i.render(e.ejsName,r);n.openByElementStr(d,e,function(){t("[vip-business]").vipBusiness(e,r)},function(){l.clearTimer()})}else n.showErrorMessage("ÁΩëÁªúÂºÇÂ∏∏ÔºåËØ∑Á®çÂêéÈáçËØï!")},function(){n.showErrorMessage("ÁΩëÁªúÂºÇÂ∏∏ÔºåËØ∑Á®çÂêéÈáçËØï!")})},h.showHtmlVip=function(){s.clearAbandonTimer(),t("[vip-renew]").vipRenew(),t("[vip-pay]").uiVipPay()},h.showFriendVip=function(e,o){e=e||{},o=o||{},e.size=e.size||"vipcontent",e.ejsName||(e.ejsName="vip/friends"),a.checkUserStatus().then(function(){var a=i.render(e.ejsName,o);n.openByElementStr(a,e,function(){t("[vip-friend-pay]").vipPayFriends(e,o)},function(){r.clearTimer()}),u.getGuideData(3)})},h.changeTab=function(n,i,o){var r=t(n).parents(".vip_intro_box_body").find(".vip_check_active .vipstate").val(),s="/vipintro?useraction=".concat(r);return d.logged()?(e.location.href=s,!1):void(i?a.showLoginModal({loginUrl:s,entertype:"vipintro",enterUrl:i}):o?a.showLoginModal({loginUrl:s,entertype:"vipintro",enterUrl:e.location.href}):a.showLoginModal({loginUrl:s}))},h.changeMaskTab=function(n,i,o){var r=t(n).parents(".vip_intro_box_body").find(".vip_check_active .vipstate").val(),s=t(n).parents(".vip_intro_box_body").find(".vip_check_active .js-year").text(),c=t(n).parents(".vipcontentBody").find(".js-head-title").text(),l="/vipintro?useraction=".concat(r);if(!d.logged())return void(i?a.showLoginModal({loginUrl:l,entertype:"vipintro",enterUrl:i}):o?a.showLoginModal({loginUrl:l,entertype:"vipintro",enterUrl:e.location.href}):a.showLoginModal({loginUrl:l}));if(!d.getUserInfo())return void a.showLoginModal({loginUrl:common.addUserAction(r)});var u=d.getUserInfo().mobile;h.showVip({ejsName:"vipintroPay",size:"vipintro",renderParent:t(n).parents(".vipcontentBody").parent()},{title:"Êàê‰∏∫VIP‰ºöÂëò",headTitle:c,width:t(n).parents(".vipcontentBody").width(),viptype:8,tyceventname:"vipIntro.VIP.pay",bodyClass:"vipMask-white",useraction:r,sub:u,year:s})},h.toPay=function(e,n,i){var a=t(e).parents("[vip-warp]"),o=t(e).parents("[vip-warp]").find(".-active .vipstate").val(),r=t(e).parents("[vip-warp]").find(".-active [data-year]").text(),s=t(e).parents("[vip-warp]").find(".js-head-title").text(),c=a.find("#vip_modal_useServeCode").val()||0,l=d.getUserInfo().mobile;h.showUiVip({ejsName:"ui-vippaynext",size:9==n?"newvipcontent":"vipcontent"},{title:"Êàê‰∏∫VIP‰ºöÂëò",headTitle:s,viptype:8,ipFlag:i,tyceventname:"vipIntro.VIP.pay",height:9==n?t(e).parents("[vip-warp]").height():void 0,useraction:o,sub:l,year:r,isClose:!0,vipPrice:{useServeCode:c}})},h.toLogin=function(t){return d.logged()?e.location.reload(!0):void a.showLoginModal({loginUrl:t})},h.toLoginNow=function(t){if(d.logged())return e.location.reload(!0);a.showLoginModal({loginUrl:t,entertype:"vipintro",enterUrl:e.location.href})},h.mainToLogin=function(){var n=t("._vip_pop_order .vip_check_active").find(".vipstate").val()||"",i="/?useraction=".concat(n);return d.logged()?(e.location.href=i,!1):a.showLoginModal({loginUrl:i})},h.toVip=function(t){e.open("/vipintro")},h.toVipBtn=function(n){var i=t(n).parents(".vipMask").find(".vip_check_active .vipstate").val(),a="/vipintro?useraction=".concat(i);return d.logged()?(e.location.href=a,!1):void(e.location.href="/login?from=".concat(encodeURIComponent(a)))},h.changeVipTab=function(){t(".vip_intro_box_body").hide(),t(".vip_intro_box_body_tab2").show()},h.toPayRenew=function(e){var n=t(e).parents(".vip-renew"),i=/^((1[0-9]{1})\d{9})$/,a=n.find("[target-mobile]").val();if(!a)return void n.find(".err-mobile-msg").html("ËØ∑ËæìÂÖ•ÊâãÊú∫Âè∑Á†Å");if(!i.test(a))return void n.find(".err-mobile-msg").html("ËØ∑ËæìÂÖ•Ê≠£Á°ÆÊ†ºÂºèÁöÑÊâãÊú∫Âè∑Á†Å");var o=d.getUserInfo().mobile;if(o==a)return n.find(".err-mobile-msg").html("‰∏çÂèØÂ°´ÂÜôÊú¨‰∫∫ÊâãÊú∫Âè∑");var r=n.find(".vip-check.-active").find(".vipstate").val()||"70",s=n.find(".vip-check.-active").find(".vipyear").val(),c=t(e).parents("[vip-warp]").find(".js-head-title").text();h.showUiVip({ejsName:"ui-vippaynext",size:"vipcontent"},{title:"Êàê‰∏∫VIP‰ºöÂëò",headTitle:c,viptype:8,tyceventname:"vipIntro.VIP.pay",useraction:r,sub:o,friendphone:a,year:s,isClose:!0,isRenew:!0})},h.removeErrMsg=function(e){t(e).parents(".vip-renew").find(".err-mobile-msg").html("")},h.checkVipStatus=function(e,t){e=e||{},o.getUserIsVip().then(function(n){"ok"==n.state&&"1"==n.data?t&&"function"==typeof t&&t():h.showUiVip(null,e)},function(e){n.showErrorMessage("ËØ∑Á®çÂêéÈáçËØï!")})},h.succClose=function(){location.reload()},e.vipcontent=h,h}),define("util/MutationObserver",["window"],function(e){function t(e){k.push(e),S||(S=!0,w(i))}function n(t){return e.ShadowDOMPolyfill&&e.ShadowDOMPolyfill.wrapIfNeeded(t)||t}function i(){S=!1;var e=k;k=[],e.sort(function(e,t){return e.uid_-t.uid_});var t=!1;e.forEach(function(e){var n=e.takeRecords();a(e),n.length&&(e.callback_(n,e),t=!0)}),t&&i()}function a(e){e.nodes_.forEach(function(t){var n=b.get(t);n&&n.forEach(function(t){t.observer===e&&t.removeTransientObservers()})})}function o(e,t){for(var n=e;n;n=n.parentNode){var i=b.get(n);if(i)for(var a=0;a<i.length;a++){var o=i[a],r=o.options;if(n===e||r.subtree){var s=t(r);s&&o.enqueue(s)}}}}function r(e){this.callback_=e,this.nodes_=[],this.records_=[],this.uid_=++x}function s(e,t){this.type=e,this.target=t,this.addedNodes=[],this.removedNodes=[],this.previousSibling=null,this.nextSibling=null,this.attributeName=null,this.attributeNamespace=null,this.oldValue=null}function c(e){var t=new s(e.type,e.target);return t.addedNodes=e.addedNodes.slice(),t.removedNodes=e.removedNodes.slice(),t.previousSibling=e.previousSibling,t.nextSibling=e.nextSibling,t.attributeName=e.attributeName,t.attributeNamespace=e.attributeNamespace,t.oldValue=e.oldValue,t}function l(e,t){return I=new s(e,t)}function d(e){return D||(D=c(I),D.oldValue=e,D)}function u(){I=D=void 0}function p(e){return e===D||e===I}function f(e,t){return e===t?e:D&&p(e)?D:null}function h(e,t,n){this.observer=e,this.target=t,this.options=n,this.transientObservedNodes=[]}var m=e.MutationObserver||e.WebKitMutationObserver||e.MozMutationObserver,g=e.WeakMap;if(void 0===g){var v=Object.defineProperty,y=Date.now()%1e9;g=function(){this.name="__st".concat(1e9*Math.random()>>>0).concat(y++,"__")},g.prototype={set:function(e,t){var n=e[this.name];return n&&n[0]===e?n[1]=t:v(e,this.name,{value:[e,t],writable:!0}),this},get:function(e){var t;return(t=e[this.name])&&t[0]===e?t[1]:void 0},"delete":function(e){var t=e[this.name];if(!t)return!1;var n=t[0]===e;return t[0]=t[1]=void 0,n},has:function(e){var t=e[this.name];return!!t&&t[0]===e}}}var b=new g,w=e.msSetImmediate;if(!w){var _=[],C=Math.random()+"";e.addEventListener("message",function(e){if(e.data===C){var t=_;_=[],t.forEach(function(e){e()})}}),w=function(t){_.push(t),e.postMessage(C,"*")}}var S=!1,k=[],x=0;r.prototype={observe:function(e,t){if(e=n(e),!t.childList&&!t.attributes&&!t.characterData||t.attributeOldValue&&!t.attributes||t.attributeFilter&&t.attributeFilter.length&&!t.attributes||t.characterDataOldValue&&!t.characterData)throw new SyntaxError;var i=b.get(e);i||b.set(e,i=[]);for(var a,o=0;o<i.length;o++)if(i[o].observer===this){a=i[o],a.removeListeners(),a.options=t;break}a||(a=new h(this,e,t),i.push(a),this.nodes_.push(e)),a.addListeners()},disconnect:function(){this.nodes_.forEach(function(e){for(var t=b.get(e),n=0;n<t.length;n++){var i=t[n];if(i.observer===this){i.removeListeners(),t.splice(n,1);break}}},this),this.records_=[]},takeRecords:function(){var e=this.records_;return this.records_=[],e}};var I,D;return h.prototype={enqueue:function(e){var n=this.observer.records_,i=n.length;if(n.length>0){var a=n[i-1],o=f(a,e);if(o)return void(n[i-1]=o)}else t(this.observer);n[i]=e},addListeners:function(){this.addListeners_(this.target)},addListeners_:function(e){var t=this.options;t.attributes&&e.addEventListener("DOMAttrModified",this,!0),t.characterData&&e.addEventListener("DOMCharacterDataModified",this,!0),t.childList&&e.addEventListener("DOMNodeInserted",this,!0),(t.childList||t.subtree)&&e.addEventListener("DOMNodeRemoved",this,!0)},removeListeners:function(){this.removeListeners_(this.target)},removeListeners_:function(e){var t=this.options;t.attributes&&e.removeEventListener("DOMAttrModified",this,!0),t.characterData&&e.removeEventListener("DOMCharacterDataModified",this,!0),t.childList&&e.removeEventListener("DOMNodeInserted",this,!0),(t.childList||t.subtree)&&e.removeEventListener("DOMNodeRemoved",this,!0)},addTransientObserver:function(e){if(e!==this.target){this.addListeners_(e),this.transientObservedNodes.push(e);var t=b.get(e);t||b.set(e,t=[]),t.push(this)}},removeTransientObservers:function(){var e=this.transientObservedNodes;this.transientObservedNodes=[],e.forEach(function(e){this.removeListeners_(e);for(var t=b.get(e),n=0;n<t.length;n++)if(t[n]===this){t.splice(n,1);break}},this)},handleEvent:function(e){switch(e.stopImmediatePropagation(),e.type){case"DOMAttrModified":var t=e.attrName,n=e.relatedNode.namespaceURI,i=e.target,a=new l("attributes",i);a.attributeName=t,a.attributeNamespace=n;var r=null;"undefined"!=typeof MutationEvent&&e.attrChange===MutationEvent.ADDITION||(r=e.prevValue),o(i,function(e){if(e.attributes&&(!e.attributeFilter||!e.attributeFilter.length||-1!==e.attributeFilter.indexOf(t)||-1!==e.attributeFilter.indexOf(n)))return e.attributeOldValue?d(r):a});break;case"DOMCharacterDataModified":var i=e.target,a=l("characterData",i),r=e.prevValue;o(i,function(e){if(e.characterData)return e.characterDataOldValue?d(r):a});break;case"DOMNodeRemoved":this.addTransientObserver(e.target);case"DOMNodeInserted":var s,c,i=e.relatedNode,p=e.target;"DOMNodeInserted"===e.type?(s=[p],c=[]):(s=[],c=[p]);var f=p.previousSibling,h=p.nextSibling,a=l("childList",i);a.addedNodes=s,a.removedNodes=c,a.previousSibling=f,a.nextSibling=h,o(i,function(e){if(e.childList)return a})}u()}},m||(m=r),m}),define("util/carousel",["window","jquery","lib/domReady","util/MutationObserver"],function(e,t,n,i){if(e.TYC_UI=e.TYC_UI||{},e.Carousel)return e.Carousel;var a=e.TYC_UI.CAROUSEL;a||(a=e.TYC_UI.CAROUSEL={});var o=e.TYC_UI.CAROUSEL_CONFIG;o||(o=e.TYC_UI.CAROUSEL_CONFIG={interval:2e3,speed:300,easing:"swing",pause:"hover",action:"position"});var r=function(e,n){this.$element=t(e),this.$id=this.$element.attr("id"),this.options=n,this.$element.attr("tyc-carousel-action")&&(this.options.action=this.$element.attr("tyc-carousel-action")),this.$element.attr("tyc-carousel-interval")&&(this.options.interval=parseInt(this.$element.attr("tyc-carousel-interval"))),this.$element.attr("tyc-carousel-speed")&&(this.options.speed=parseInt(this.$element.attr("tyc-carousel-speed"))),this.$element.attr("tyc-carousel-easing")&&(this.options.easing=this.$element.attr("tyc-carousel-easing")),this.$element.attr("tyc-carousel-pause")&&(this.options.pause=this.$element.attr("tyc-carousel-pause")),this.$warpSelector=this.$element.attr("tyc-carousel-warp")?this.$element.attr("tyc-carousel-warp"):"[tyc-carousel-warp]",this.$panelSelector=this.$element.attr("tyc-carousel-panel")?this.$element.attr("tyc-carousel-panel"):"[tyc-carousel-panel]",this.$itemSelector=this.$element.attr("tyc-carousel-item")?this.$element.attr("tyc-carousel-item"):"[tyc-carousel-item]",this.$nextSelector=this.$element.attr("tyc-carousel-next")?this.$element.attr("tyc-carousel-next"):"[tyc-carousel-next]",this.$prevSelector=this.$element.attr("tyc-carousel-prev")?this.$element.attr("tyc-carousel-prev"):"[tyc-carousel-prev]",this.$warp=this.$element.find(this.$warpSelector),this.$panel=this.$element.find(this.$panelSelector),this.itemWidth=parseInt(this.$element.attr("tyc-carousel-item-width")||this.$element.find(this.$itemSelector).eq(0).outerWidth()),this.$element.data("carousel-state","complete"),this.total=this.$warp.find(this.$itemSelector).length,this.$warp.find(this.$itemSelector).each(function(e,n){t(n).attr("tyc-c-it",e)}),"hover"===this.options.pause&&(this.$element.on("mouseenter.tyc_carousel",t.proxy(this.pause,this)),this.$element.on("mouseleave.tyc_carousel",t.proxy(this.cycle,this))),this.$panel.length||(this.$element.append('<div tyc-carousel-panel style="display: none"></div>'),this.$panel=this.$element.find("[tyc-carousel-panel]"));var i=this;if(this.total){var a=[];this.$panel.empty();for(var o=0;o<this.total;o++)a.push('<div class="roll"></div>');this.$panel.html(a.join("")),this.$panel.find(".roll").eq(0).addClass("-active"),this.$panel.on("click.tyc_carousel",".roll",function(){var e=i.$panel.find(".roll"),t=e.index(this),n=e.index(i.$panel.find("-active"));if(n===t)return i.pause().cycle(!0);i.slide(t>n?"next":"prev",t)})}this.$element.find(this.$nextSelector).length>0&&this.$element.on("click.next",this.$nextSelector,function(e){e.preventDefault(),e.stopPropagation(),i.slide("next")}),this.$element.find(this.$prevSelector).length>0&&this.$element.on("click.prev",this.$prevSelector,function(e){e.preventDefault(),e.stopPropagation(),i.slide("prev")})};r.destroy=function(e,t){a[e]&&(t||a[e].slide("next",0),a[e].destroy(),delete a[e])},e.Carousel=r,r.prototype={$box:null,$warp:null,$panel:null,total:0,interval:null,sliding:null,config:function(e){return this},pause:function(e){return this.paused=!0,this.cycle(),this},cycle:function(e){return e&&(this.paused=!1),this.interval&&(clearInterval(this.interval),this.interval=null),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},prev:function(){if(!this.sliding)return this.slide("prev")},next:function(){if(!this.sliding)return this.slide("next")},click:function(){},slide:function(e,n){if(!t("#".concat(this.$id)).length)return void r.destroy(this.$id,!0);var i="next"===e,a=this.$panel.find(".roll"),o=a.length;if(1===a.length)return!1;var s=a.index(this.$panel.find(".roll.-active")),c=!1;void 0===n&&(i?s<o-1?n=s+1:(n=0,c=!0):s>0?n=s-1:(n=o-1,c=!0)),this.$panel.find(".roll").removeClass("-active"),this.$panel.find(".roll").eq(n).addClass("-active");var l="left";if("margin"===this.options.action&&(l="margin-left"),c)if(i){this.$warp.prepend(this.$element.find(this.$itemSelector)[this.total-1]);var d={};d[l]=0,this.$warp.css(d),d[l]="".concat(-1*this.itemWidth+"","px"),this.$warp.animate(d,this.options.speed,t.proxy(function(){this.sliding=!1,this.cycle(),this.$warp.append(this.$element.find(this.$itemSelector)[0]);var e={};e[l]=0,this.$warp.css(e)},this))}else{this.$warp.append(this.$element.find(this.$itemSelector)[0]);var d={};d[l]="".concat((1-this.total)*this.itemWidth+"","px"),this.$warp.css(d),d[l]="".concat((2-this.total)*this.itemWidth+"","px"),this.$warp.animate(d,this.options.speed,t.proxy(function(){this.sliding=!1,this.cycle(),this.$warp.prepend(this.$element.find(this.$itemSelector)[this.total-1]);var e={};e[l]="".concat((1-this.total)*this.itemWidth+"","px"),this.$warp.css(e)},this))}else{this.sliding=!0;var u=!!n*this.itemWidth?"".concat(-n*this.itemWidth+"","px"):0,d={};d[l]=u,this.$warp.animate(d,this.options.speed,this.options.easing,t.proxy(function(){this.sliding=!1,this.cycle()},this))}},destroy:function(){this.interval&&(clearInterval(this.interval),this.interval=null)}},t.fn.carousel=function(e){return 1===this.length&&this.data("carousel-state")?a[this.attr("id")].config(e):this.each(function(){var n=t(this),i=t.extend({},o,e||{}),s=n.attr("id");if(s&&a[s]&&n.data("carousel-state")){return a[s].config(i)}return s||(s="carousel-".concat("".concat((new Date).getTime()).substring(8)),n.attr("id",s)),a[s]=new r(n,i).pause().cycle(!0),a[s]})};var s=function(){t("[tyc-carousel]").carousel()};return n(function(){s();var e=document.documentElement;i&&new i(s).observe(e,{childList:!0,subtree:!0,attributes:!0})}),t.fn.carousel}),define("util/claim_display",["window","jquery","lib/domReady","util/query","util/storage","util/carousel","util/ejs"],function(e,t,n,i,a,o,r){function s(e){return i.claim_getShowCase({pageSize:32,label:e})}function c(e){return i.claim_getHomePageShowCase({pageSize:32,label:e})}if(e.claim_show)return e.claim_show;var l={};e.claim_show=l;var d=function(){return i.claim_getLabels()},u=function(e){var t=a.getClaimCompany(e);return t?new Promise(function(n,i){n(t.data),Date.now()-t.time>3e5&&s(e).then(function(t){"ok"===t.state&&a.addClaimCompany(t.data.items,Date.now(),e)})}):new Promise(function(n,i){s(e).then(function(i){"ok"===i.state?(a.addClaimCompany(i.data.items,Date.now(),e),t=a.getClaimCompany(e),n(t.data)):"warn"===i.state&&"Êó†Êï∞ÊçÆ"===i.message&&n([])})})},p=function(e){var t=a.getHomeClaimCompany(e);return t?new Promise(function(n,i){n(t.data),Date.now()-t.time>3e5&&c(e).then(function(t){"ok"===t.state&&a.addHomeClaimCompany(t.data.items,Date.now(),e)})}):new Promise(function(n,i){c(e).then(function(i){"ok"===i.state?(a.addHomeClaimCompany(i.data.items,Date.now(),e),t=a.getHomeClaimCompany(e),n(t.data)):"warn"===i.state&&"Êó†Êï∞ÊçÆ"===i.message&&n([])})})},f=function(){var e=a.getClaimCompanyLabels();return e?new Promise(function(t,n){t(e.data),Date.now()-e.time>3e5&&d().then(function(e){"ok"===e.state&&a.addClaimCompanyLabels(e.data,Date.now())})}):new Promise(function(t,n){d().then(function(n){"ok"===n.state&&(a.addClaimCompanyLabels(n.data,Date.now()),e=a.getClaimCompanyLabels(),t(e.data))})})},h=function(){var e=t(".right-claim-company");e.length&&u().then(function(t){if(t.length){for(var n=[],i=0;t.length/6>=1&&(n.push(t.splice(0,6)),!(++i>7)););t.length;var a=r.render("rightClaimCompany",{claimCompanyGroup:n,tycClickType:e.attr("tyc-click-type")});e.html(a),e.removeClass("hidden")}})},m=function(e,n){return new Promise(function(i,a){p(n).then(function(n){if(!n.length)return e.find(".home-claim-company").html(""),i();var a=[];if(n.length&&n.length<=10)a=[n];else for(var o=0;n.length/10>=1&&(a.push(n.splice(0,10)),!(++o>5)););n.length;var s=r.render("homeClaimCompany",{claimCompanyGroup:a}),c=t(s),l="".concat(876,"px"),d=c.find(".rolling-item");1===d.length&&d.find(".claim-item").length<=5&&(l="".concat(481,"px")),c.height(l),e.find(".home-claim-company").html(c),e.removeClass("hidden"),i()})})},g=function(){var e=t("#homeClaimCompany");e.length&&f().then(function(n){n.length=7;var i=[];i.push('<div class="label -active" tyc-event-click tyc-event-ch="Renzheng.Introduction.label">ÂÖ®ÈÉ®</div>'),n.forEach(function(e){i.push('<div class="label" tyc-event-click tyc-event-ch="Renzheng.Introduction.label">'.concat(e,"</div>"))}),t(".home-claim-company-label").html(i.join("")),t(".home-claim-company-label").on("click.label",".label",function(){var n=t(this);if(!n.hasClass("-active")){var i=t(this).text();"ÂÖ®ÈÉ®"===i&&(i=""),m(e,i).then(function(){t(".home-claim-company-label").find(".-active").removeClass("-active"),n.addClass("-active")})}}),m(e)})};return l.gotoOwn=function(t){e.open("".concat(e.ownServerDomain,"/company/").concat(t),"_blank")},l.gotoBaidu=function(t,n){n.stopPropagation(),t&&e.open(t,"_blank")},n(function(){h(),g()}),l}),define("util/year_check_util",["window","jquery","util/UserManage","util/modal","modal/login","util/query"],function(e,t,n,i,a,o){function r(e){return parseFloat(e||0)}var s={};return!e.yearCheckUtil&&(s.getCompanyYearCheckInfo=function(){return{authStatus:r($("#_authStatus").val()),expiredStatus:r($("#_expiredStatus").val()),materialStatus:r($("#_materialStatus").val())}},s.getCompanyYearCheckList=function(){o.recentExpired().then(function(e){if(e&&"ok"===e.state&&e.data&&e.data.length){var t=$('<div style="display: none" tyc-event-click tyc-event-ch="Guoqinianshen.Tanchuang.Popup"></div>');$("body").append(t),t.click();var n=ejs.render("modal/claim/modal-yearcheck-list.ejs",{list:e.data});i.openByElementStr(n,{size:" modal-year-check"})}})},s.goYearCheck=function(){var t=r($("#_companyIsYour").val()),o=$("#_companyId").val(),c=s.getCompanyYearCheckInfo();if(101===c.authStatus||103===c.authStatus){if(!n.logged())return a.showLoginModal(),!1;t?(101===c.authStatus&&e.open("".concat(e.serverDomain,"/claim/yearcheck/").concat(o)),103===c.authStatus&&e.open("".concat(e.serverDomain,"/claim/newapply/").concat(o,"?againYearCheck=1"))):i.showWarningMessage("‰ªÖËØ•ÂÖ¨Âè∏ÁöÑ‰ºÅ‰∏ö‰∏ªÂèØËøõË°åÂπ¥ÂÆ°")}102===c.authStatus&&i.showWarningMessage("ËØ•ÂÖ¨Âè∏Ê≠£Âú®Âπ¥ÂÆ°‰∏≠")},e.yearCheckUtil=s,s)}),require(["window","jquery","moment","util/modal","util/loading","layout/main","util/query","util/liveSearch","Cookies","util/vipcontent","util/jquery.qrcode","util/UserManage","modal/login","util/claim_display","lib/domReady","util/year_check_util"],function(e,t,n,i,a,o,r,s,c,l,d,u,p,f,h,m){function g(e,t){e.on("mouseenter",function(){t.css("display","block")}).on("mouseleave",function(){t.css("display","none")})}function v(e){switch(x.removeClass("main-tab-company main-tab-human main-tab-relation"),e){case"js-company":x.addClass("main-tab-company"),setTimeout(function(){t("#home-main-search").val(t("#home-human-search").val()).focus()},0);break;case"js-human":x.addClass("main-tab-human"),setTimeout(function(){t("#home-human-search").val(t("#home-main-search").val()).focus()},0);break;case"js-relation":x.addClass("main-tab-relation");break;default:x.addClass("main-tab-company")}}function y(e){I.addClass("hidden"),I.filter("[tab='".concat(e,"']")).removeClass("hidden").find("input")[0].focus(),I.filter("[tab='".concat(e,"']")).find("input")[0]&&I.filter("[tab='".concat(e,"']")).find("input")[0].focus(),I.find(".tooltip-box").addClass("hidden")}function b(e){k.removeClass("active"),e.addClass("active")}function w(e){var t=k.filter("[tab='".concat(e,"']"));v(e),y(e),b(t)}function _(e){var t=e.find(".carousel-right"),n=e.find(".carousel-item"),i="data-animate";if(n.length<=1)return!1;n.eq(0).addClass("-in"),t.attr(i,0),setInterval(function(){var e=parseInt(t.attr(i)),a=e+1;a>n.length-1&&(a=0,n.prop("style",!1));var o=n.eq(e);n.eq(a).addClass("-in"),o.addClass("-out"),setTimeout(function(){o.hide().removeClass("-in -out")},500),t.attr(i,a)},3e3)}function C(){var e=t(".msg-carousel-container");if(!e.length)return!1;r.guide().then(function(n){if(n&&"ok"===n.state&&n.data){var i=n.data;i&&i.length&&(t.each(i,function(n,a){var o=t('<div class="carousel-item">'.concat(a,"</div>"));1===i.length&&o.addClass("-in"),e.find(".inner").append(o)}),e.removeClass("hidden"),i.length>1&&_(e))}})}function S(e){var t=/\d+/g,n=e.lastIndexOf("@");return _slicedToArray(e.slice(n).match(t)||[],1)[0]}t("#live-search").focus(),t(".js-toVip").on("click",function(){e.open("/vip")}),g(t(".js-toVip"),t(".js-appShow")),g(t(".js-mediaSource"),t(".js-mediaTarget")),g(t(".js-userSource"),t(".js-userTarget"));var k=t(".js-tab"),x=t(".js-tab-body"),I=t(".js-search-container");k.on("click",function(){w(t(this).attr("tab"))}),e.humanHref=function(){e.open("/human/1980218908-c2337461684")},e.companyHref=function(){e.open("/company/22822")},e.relationHref=function(){e.open("/company/22822")},e.vipHref=function(){e.open("/vipintro")},e.businessHref=function(){e.open("/vipbusiness")},e.vipCardHref=function(t){e.open(t||"/vipbusiness")},e.openStdHref=function(){e.open("https://pro.tianyancha.com")},e.companyDetail=function(t,n){t||(t=e.event),t&&(t.preventDefault?t.preventDefault():t.returnValue=!1),e.open("".concat(e.serverDomain,"/company/").concat(n))},e.companyOwnDetail=function(n,i,a){n||(n=e.event),n&&(n.preventDefault?n.preventDefault():n.returnValue=!1),e.open(t(i).find(".link-hover-click").attr("href"))},e.openHowToSelect=function(){var e=ejs.render("modal/howToSelect");i.openByElementStr(e,{size:"fjgs-box"})},e.openClaimApply=function(){if(!u.logged())return void p.showLoginModal({loginUrl:"/claim/apply"});e.open("/claim/apply")},e.toVipPay=function(e,t){if(t=t||{},!u.logged())return void p.showLoginModal({loginUrl:common.addUserAction("70")});l.showUiVip({},{useraction:t.useraction||"70",tyceventname:"header.home.vip",headTitle:"ÂºÄÈÄöVIP‰ºöÂëò",isHideSubTitle:!0})},e.openHrefNeedLogin=function(e,t){if(!u.logged()){e.preventDefault();var n=t.getAttribute("href");return p.showLoginModal({loginUrl:n,isOpen:!0}),!1}},e.previewClaim=function(e){if(!t(e).hasClass("-disabled")){var n=parseInt(t(e).parents(".slider-box").find("._slide_index").val());n&&n>0&&(n--,t(e).parents(".slider-box").find(".claim-card").addClass("hidden").slice(8*n,8*(n+1)).removeClass("hidden"),t(e).parents(".slider-box").find("._slide_index").val(n),t(e).parents(".slider-box").find(".next").removeClass("-disabled"),n<=0?t(e).parents(".slider-box").find(".preview").addClass("-disabled"):t(e).parents(".slider-box").find(".preview").removeClass("-disabled"))}},e.nextClaim=function(e){if(!t(e).hasClass("-disabled")){var n=parseInt(t(e).parents(".slider-box").find("._slide_index").val()),i=parseInt(t(e).parents(".slider-box").find("._slide_index").attr("data-total"));n++,t(e).parents(".slider-box").find(".claim-card").addClass("hidden").slice(8*n,8*(n+1)).removeClass("hidden"),t(e).parents(".slider-box").find("._slide_index").val(n),t(e).parents(".slider-box").find(".preview").removeClass("-disabled"),8*(n+1)>=i?t(e).parents(".slider-box").find(".next").addClass("-disabled"):t(e).parents(".slider-box").find(".next").removeClass("-disabled")}},e.toggleSearchTab=function(e,n){t(".search-tab .left .list-item").removeClass("-active"),t(e).addClass("-active"),t(".search-tab").find(".right").addClass("hidden").filter(n).removeClass("hidden")},e.reverseHomeNav=function(n){var i=t(".tyc-home-top>.mt-74"),a=t(".tyc-header.js-nav-switch");a.length||(a=t(".tyc-header").clone(!0).addClass("js-nav-switch").hide(),i.append(a));var o=a.find(".right .nav-item"),r=a.find(".middle"),s=a.attr("data-switch-nav-theme");if("down"===n&&!s){if(a.attr("data-switch-nav-theme",!0),i.height(a.outerHeight()),!r.length){var c=ejs.render("live-search/middle_search");a.find(".left").after(c),a.removeClass("-home").find(".left.f0 .logo-header").removeClass("-white"),o.removeClass("-home").find(".link-white").removeClass("link-white").addClass("link-nav"),t(".js-live-search-auto").liveSearchAuto()}var l=t(".tab-main .js-tab.active").attr("tab").replace(/js-/,"");l&&e.header.changeSearchTab("",l),a.fadeIn(300)}if("up"===n&&s){a.removeAttr("data-switch-nav-theme");var d=t(".tab-main .tab.active").attr("tab"),u=a.find(".middle .tab-header .head .item.active").attr("data-tab-name");u&&d!=="js-".concat(u)&&t("[tab=js-".concat(u,"].tab")).click(),a.fadeOut(300)}return o.find(".link-white").length&&o.find(".link-white").removeClass("link-white").addClass("link-nav"),a},e.monitorHomeScroll=function(){var n=t(e),i=n.scrollTop();n.scroll(function(){var e=n.scrollTop();i<e&&e>=297?reverseHomeNav("down"):i>=e&&e<=297&&reverseHomeNav("up"),i=e})},e.handleToIp=function(t){e.open(t,"_blank")},e.renderIPRecommend=function(){r.getEnterpriseService4Web().then(function(e){if(e&&"ok"===e.state&&e.data){var n=ejs.render("home/ip-recommend",{enterpriseService:e});t("#ip-recommend-container").html(n)}})},t(function(){t("#home-main-search")[0]&&t("#home-main-search")[0].focus();var n=common.parseQueryString(),i=n.useraction;if(i&&e.toVipPay({},{useraction:i}),e.location.pathname&&"/boss"===e.location.pathname&&t("[tab=js-human].tab").click(),t("#activity-banner").length){var a=t("#banner-length").val();a>1&&t(".activity-banner").carousel();var o=1248*a;t("#activity-banner .slider-box").width("".concat(o,"px"))}r.home_getNewestHtml(40).then(function(e){t(".home-hot-news").html(e),t(".home-hot-news").carousel()})}),e.activityCookiePrefix="show_activity_id_",e.showActivityMemberModal=function(){r.queryWebPcActivityList().then(function(t){if("ok"===t.state){var n=t.data;if(n){var a=n.find(function(t){var n="".concat(e.activityCookiePrefix).concat(t.id);return!c.get(n)});if(a){var o=ejs.render("modal/activity/activity_home_popup.ejs",{ch:a.clickStatistics,openUrl:a.redirectUrl,imgUrl:a.windowPic});i.openByElementStr(o,{size:" activity-home-popup",style:{width:S(a.windowPic)||"auto"}}),common.triggerTycClick(a.popStatistics);var r="".concat(e.activityCookiePrefix).concat(a.id);c.set(r,a.id,{path:"/",secure:!1,expires:new Date(a.windowEndTime),domain:e.cookieServerSuffix.split(":")[0]})}}}})},h(function(){if(m.getCompanyYearCheckList(),monitorHomeScroll(),renderIPRecommend(),p.updateHomeHeader(),t("body").off("click.select-drop"),t("body").on("click.home-group",".home-group",function(e){t(this).addClass("-focus")}),t("body").bind("click",function(e){var n=e.srcElement?e.srcElement:e.target;t(n).hasClass("home-group")||t(n).parents(".home-group").length||t(".home-group").removeClass("-focus")}),!c.get("jsid",{path:"/",domain:e.cookieServerSuffix.split(":")[0]})){var n=common.parseQueryString(),a=n.jsid;if(a){var o={path:"/",secure:!1,expires:new Date(Date.now()+63072e6),domain:e.cookieServerSuffix.split(":")[0]};c.set("jsid",e.encodeURIComponent(a),o)}}e.closeModal=function(){i.close()},e.openPackage=function(){p.checkUserStatus().then(function(){r.checkGiftPackageReceived().then(function(e){if("ok"===e.state&&0==e.data)r.receiveGiftPackage().then(function(e){if("ok"===e.state&&e.data&&e.data.length){i.close();var t=ejs.render("modal/apply_coupons_modal",{data:{coupons:e.data,startUp:!0}});i.openByElementStr(t,{size:"apply-coupons-modal"})}});else{i.close();var t=ejs.render("startUp/start_up_package",{status:0});i.openByElementStr(t,{size:"w343"})}})})},e.goMyCoupon=function(){e.location.href="".concat(e.serverDomain,"/usercenter/coupons?status=0")},e.openPopup=function(){var e=ejs.render("startUp/start_up_package",{status:1});i.openByElementStr(e,{size:"w343"}),C()},showActivityMemberModal()})}),define("route/main",function(){});